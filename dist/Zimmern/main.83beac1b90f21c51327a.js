(self.webpackChunkzimmern=self.webpackChunkzimmern||[]).push([[179],{8255:Ye=>{function we(F){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+F+"'");throw a.code="MODULE_NOT_FOUND",a})}we.keys=()=>[],we.resolve=we,we.id=8255,Ye.exports=we},7716:(Ye,we,F)=>{"use strict";F.d(we,{deG:()=>Rh,tb:()=>dS,AFp:()=>lS,ip1:()=>hC,CZH:()=>Gf,hGG:()=>AS,z2F:()=>yu,sBO:()=>nI,Sil:()=>qf,_Vd:()=>Mf,EJc:()=>Km,SBq:()=>Co,qLn:()=>Ga,vpe:()=>sl,gxx:()=>Id,tBr:()=>Va,XFs:()=>We,OlP:()=>yn,zs3:()=>zn,ZZ4:()=>kf,aQg:()=>dy,soG:()=>Fy,YKP:()=>xw,v3s:()=>CR,h0i:()=>tc,PXZ:()=>Ct,R0b:()=>So,FiY:()=>Ba,Lbi:()=>uS,g9A:()=>cS,n_E:()=>pu,Qsj:()=>bw,FYo:()=>xf,JOm:()=>y,Tiy:()=>Am,q3G:()=>Gn,tp0:()=>hr,EAV:()=>EC,Rgc:()=>Nf,dDg:()=>vS,DyG:()=>Zs,q4F:()=>ly,GfV:()=>Bx,s_b:()=>Pf,ifc:()=>Pe,eFA:()=>Uy,G48:()=>Qr,Gpc:()=>$,f3M:()=>Op,X6Q:()=>bC,_c5:()=>Wy,VLi:()=>_R,c2e:()=>Wm,zSh:()=>Za,wAp:()=>lt,vHH:()=>Se,EiD:()=>hd,mCW:()=>ja,qzn:()=>Yc,JVY:()=>Jg,pB0:()=>ad,eBb:()=>Bp,L6k:()=>Vp,LAX:()=>Jo,cg1:()=>yD,Tjo:()=>Vi,kL8:()=>vD,yhl:()=>Uh,dqk:()=>mt,sIi:()=>ym,CqO:()=>oD,QGY:()=>sD,F4k:()=>IM,RDi:()=>Uo,AaK:()=>ee,z3N:()=>Qo,qOj:()=>uf,TTD:()=>Zn,_Bn:()=>Lx,xp6:()=>gb,uIk:()=>ff,ekj:()=>hD,Suo:()=>nC,Xpm:()=>Tr,lG2:()=>Ru,Yz7:()=>dn,cJS:()=>An,oAB:()=>Po,Yjl:()=>Ei,Y36:()=>W_,_UZ:()=>Cm,BQk:()=>Rd,ynx:()=>wf,qZA:()=>bf,TgZ:()=>vf,EpF:()=>DM,n5z:()=>Pc,Ikx:()=>tw,LFG:()=>vn,$8M:()=>xh,NdJ:()=>aD,CRH:()=>qI,kcU:()=>Sp,O4$:()=>zu,oxw:()=>AM,Hsn:()=>xM,F$t:()=>MM,Q6J:()=>kd,iGM:()=>My,MAs:()=>hM,CHM:()=>Tc,LSH:()=>Hp,kYT:()=>gc,Udp:()=>dD,WFA:()=>lD,d8E:()=>nw,YNc:()=>dM,W1O:()=>WI,_uU:()=>XM,Oqu:()=>pD,hij:()=>Qb,Gf:()=>tC});var a=F(9765),re=F(5319),L=F(7574),ue=F(6682),ae=F(8819);function Q(s){for(let o in s)if(s[o]===Q)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function X(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const V=Q({__forward_ref__:Q});function $(s){return s.__forward_ref__=$,s.toString=function(){return ee(this())},s}function B(s){return se(s)?s():s}function se(s){return"function"==typeof s&&s.hasOwnProperty(V)&&s.__forward_ref__===$}class Se extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function oe(s){return"string"==typeof s?s:null==s?"":String(s)}function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():oe(s)}function Vt(s,o){const l=o?` in ${o}`:"";throw new Se("201",`No provider for ${ye(s)} found${l}`)}function zt(s,o){null==s&&function(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function dn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function An(s){return{providers:s.providers||[],imports:s.imports||[]}}function ar(s){return jt(s,_s)||jt(s,lr)}function jt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Zi(s){return s&&(s.hasOwnProperty(Te)||s.hasOwnProperty(qn))?s[Te]:null}const _s=Q({\u0275prov:Q}),Te=Q({\u0275inj:Q}),lr=Q({ngInjectableDef:Q}),qn=Q({ngInjectorDef:Q});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let Zt;function ii(s){const o=Zt;return Zt=s,o}function tt(s,o,l){const u=ar(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&We.Optional?null:void 0!==o?o:void Vt(ee(s),"Injector")}function Rt(s){return{toString:s}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const Xe="undefined"!=typeof globalThis&&globalThis,xu="undefined"!=typeof window&&window,no="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mt=Xe||"undefined"!=typeof global&&global||xu||no,Y={},G=[],K=Q({\u0275cmp:Q}),Ce=Q({\u0275dir:Q}),le=Q({\u0275pipe:Q}),He=Q({\u0275mod:Q}),gt=Q({\u0275loc:Q}),Ht=Q({\u0275fac:Q}),Fn=Q({__NG_ELEMENT_ID__:Q});let Ln=0;function Tr(s){return Rt(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||G,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pe.Emulated,id:"c",styles:s.styles||G,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,_=s.pipes;return u.id+=Ln++,u.inputs=Fo(s.inputs,l),u.outputs=Fo(s.outputs),f&&f.forEach(v=>v(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(yr):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(No):null,u})}function yr(s){return er(s)||function(s){return s[Ce]||null}(s)}function No(s){return function(s){return s[le]||null}(s)}const mc={};function Po(s){return Rt(()=>{const o={type:s.type,bootstrap:s.bootstrap||G,declarations:s.declarations||G,imports:s.imports||G,exports:s.exports||G,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(mc[s.id]=s.type),o})}function gc(s,o){return Rt(()=>{const l=Di(s,!0);l.declarations=o.declarations||G,l.imports=o.imports||G,l.exports=o.exports||G})}function Fo(s,o){if(null==s)return Y;const l={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),l[d]=u,o&&(o[d]=f)}return l}const Ru=Tr;function Ei(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function er(s){return s[K]||null}function Di(s,o){const l=s[He]||null;if(!l&&!0===o)throw new Error(`Type ${ee(s)} does not have '\u0275mod' property.`);return l}function fn(s){return Array.isArray(s)&&"object"==typeof s[1]}function vr(s){return Array.isArray(s)&&!0===s[1]}function ch(s){return 0!=(8&s.flags)}function Bo(s){return 2==(2&s.flags)}function _c(s){return 1==(1&s.flags)}function Ki(s){return null!==s.template}function Qi(s){return 0!=(512&s[2])}function vs(s,o){return s.hasOwnProperty(Ht)?s[Ht]:null}class gl{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zn(){return _l}function _l(s){return s.type.prototype.ngOnChanges&&(s.setInput=xr),Ug}function Ug(){const s=vc(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Y)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function xr(s,o,l,u){const d=vc(s)||function(s,o){return s[bs]=o}(s,{previous:Y,current:null}),f=d.current||(d.current={}),_=d.previous,v=this.declaredInputs[l],C=_[v];f[v]=new gl(C&&C.currentValue,o,_===Y),s[u]=o}Zn.ngInherit=!0;const bs="__ngSimpleChanges__";function vc(s){return s[bs]||null}const yl="http://www.w3.org/2000/svg";let Ia;function Uo(s){Ia=s}function rn(s){return!!s.listen}const ws={createRenderer:(s,o)=>void 0!==Ia?Ia:"undefined"!=typeof document?document:void 0};function Jt(s){for(;Array.isArray(s);)s=s[0];return s}function jo(s,o){return Jt(o[s])}function ui(s,o){return Jt(o[s.index])}function oo(s,o){return s.data[o]}function br(s,o){const l=o[s];return fn(l)?l:l[0]}function Ec(s){return 4==(4&s[2])}function Dc(s){return 128==(128&s[2])}function Bn(s,o){return null==o?null:s[o]}function vl(s){s[18]=0}function bl(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const at={lFrame:$u(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wl(){return at.bindingsEnabled}function Ee(){return at.lFrame.lView}function St(){return at.lFrame.tView}function Tc(s){return at.lFrame.contextLView=s,s[8]}function ln(){let s=Ac();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ac(){return at.lFrame.currentTNode}function kr(s,o){const l=at.lFrame;l.currentTNode=s,l.isParent=o}function Ta(){return at.lFrame.isParent}function Cl(){at.lFrame.isParent=!1}function Aa(){return at.isInCheckNoChangesMode}function Ma(s){at.isInCheckNoChangesMode=s}function Ti(){return at.lFrame.bindingIndex++}function Dl(s,o){const l=at.lFrame;l.bindingIndex=l.bindingRootIndex=s,Il(o)}function Il(s){at.lFrame.currentDirectiveIndex=s}function Sl(s){const o=at.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function xc(){return at.lFrame.currentQueryIndex}function xa(s){at.lFrame.currentQueryIndex=s}function ka(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Hu(s,o,l){if(l&We.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||l&We.Host||(d=ka(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const u=at.lFrame=Ch();return u.currentTNode=o,u.lView=s,!0}function Ho(s){const o=Ch(),l=s[1];at.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Ch(){const s=at.lFrame,o=null===s?null:s.child;return null===o?$u(s):o}function $u(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Eh(){const s=at.lFrame;return at.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Dh=Eh;function Us(){const s=Eh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function nr(){return at.lFrame.selectedIndex}function Ra(s){at.lFrame.selectedIndex=s}function kn(){const s=at.lFrame;return oo(s.tView,s.selectedIndex)}function zu(){at.lFrame.currentNamespace=yl}function Sp(){at.lFrame.currentNamespace=null}function kc(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const f=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:x}=f;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),v&&((s.contentHooks||(s.contentHooks=[])).push(l,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,v)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),I&&((s.viewHooks||(s.viewHooks=[])).push(l,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,I)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(l,x)}}function uo(s,o,l){qu(s,o,3,l)}function Tl(s,o,l,u){(3&s[2])===l&&qu(s,o,l,u)}function On(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function qu(s,o,l,u){const f=null!=u?u:-1,_=o.length-1;let v=0;for(let C=void 0!==u?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(v=o[C],null!=u&&v>=u)break}else o[C]<0&&(s[18]+=65536),(v<f||-1==f)&&(Ap(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Ap(s,o,l,u){const d=l[u]<0,f=l[u+1],v=s[d?-l[u]:l[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Na{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Sh(s,o,l){const u=rn(s);let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const _=l[d++],v=l[d++],C=l[d++];u?s.setAttribute(o,v,C,_):o.setAttributeNS(_,v,C)}else{const _=f,v=l[++d];Hs(_)?u&&s.setProperty(o,_,v):u?s.setAttribute(o,_,v):o.setAttribute(_,v),d++}}return d}function Mp(s){return 3===s||4===s||6===s}function Hs(s){return 64===s.charCodeAt(0)}function Rc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?l=d:0===l||xp(s,l,d,null,-1===l||2===l?o[++u]:null)}}return s}function xp(s,o,l,u,d){let f=0,_=s.length;if(-1===o)_=-1;else for(;f<s.length;){const v=s[f++];if("number"==typeof v){if(v===o){_=-1;break}if(v>o){_=f-1;break}}}for(;f<s.length;){const v=s[f];if("number"==typeof v)break;if(v===l){if(null===u)return void(null!==d&&(s[f+1]=d));if(u===s[f+1])return void(s[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(s.splice(_,0,o),f=_+1),s.splice(f++,0,l),null!==u&&s.splice(f++,0,u),null!==d&&s.splice(f++,0,d)}function Wu(s){return-1!==s}function fo(s){return 32767&s}function di(s,o){let l=function(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let Al=!0;function Fa(s){const o=Al;return Al=s,o}let Mh=0;function Ml(s,o){const l=pn(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,$o(u.data,s),$o(o,null),$o(u.blueprint,null));const d=Le(s,o),f=s.injectorIndex;if(Wu(d)){const _=fo(d),v=di(d,o),C=v[1].data;for(let I=0;I<8;I++)o[f+I]=v[_+I]|C[_+I]}return o[f+8]=d,f}function $o(s,o){s.push(0,0,0,0,0,0,0,0,o)}function pn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Le(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,d=o;for(;null!==d;){const f=d[1],_=f.type;if(u=2===_?f.declTNode:1===_?d[6]:null,null===u)return-1;if(l++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Ge(s,o,l){!function(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Fn)&&(u=l[Fn]),null==u&&(u=l[Fn]=Mh++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,l)}function Or(s,o,l){if(l&We.Optional)return s;Vt(o,"NodeInjector")}function $s(s,o,l,u){if(l&We.Optional&&void 0===u&&(u=null),0==(l&(We.Self|We.Host))){const d=s[9],f=ii(void 0);try{return d?d.get(o,u,l&We.Optional):tt(o,u,l&We.Optional)}finally{ii(f)}}return Or(u,o,l)}function xl(s,o,l,u=We.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Fn)?s[Fn]:void 0;return"number"==typeof o?o>=0?255&o:Qu:o}(l);if("function"==typeof f){if(!Hu(o,s,u))return u&We.Host?Or(d,l,u):$s(o,l,u,d);try{const _=f(u);if(null!=_||u&We.Optional)return _;Vt(l)}finally{Dh()}}else if("number"==typeof f){let _=null,v=pn(s,o),C=-1,I=u&We.Host?o[16][6]:null;for((-1===v||u&We.SkipSelf)&&(C=-1===v?Le(s,o):o[v+8],-1!==C&&kl(u,!1)?(_=o[1],v=fo(C),o=di(C,o)):v=-1);-1!==v;){const x=o[1];if(Nc(f,v,x.data)){const N=$g(v,o,l,_,u,I);if(N!==cn)return N}C=o[v+8],-1!==C&&kl(u,o[1].data[v+8]===I)&&Nc(f,v,o)?(_=x,v=fo(C),o=di(C,o)):v=-1}}}return $s(o,l,u,d)}const cn={};function Qu(){return new Gs(ln(),Ee())}function $g(s,o,l,u,d,f){const _=o[1],v=_.data[s+8],x=po(v,_,l,null==u?Bo(v)&&Al:u!=_&&0!=(3&v.type),d&We.Host&&f===v);return null!==x?_n(o,_,x,v):cn}function po(s,o,l,u,d){const f=s.providerIndexes,_=o.data,v=1048575&f,C=s.directiveStart,x=f>>20,P=d?v+x:s.directiveEnd;for(let z=u?v:v+x;z<P;z++){const W=_[z];if(z<C&&l===W||z>=C&&W.type===l)return z}if(d){const z=_[C];if(z&&Ki(z)&&z.type===l)return C}return null}function _n(s,o,l,u){let d=s[l];const f=o.data;if(function(s){return s instanceof Na}(d)){const _=d;_.resolving&&function(s,o){throw new Se("200",`Circular dependency in DI detected for ${s}`)}(ye(f[l]));const v=Fa(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?ii(_.injectImpl):null;Hu(s,u,We.Default);try{d=s[l]=_.factory(void 0,f,s,u),o.firstCreatePass&&l>=u.directiveStart&&function(s,o,l){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(u){const _=_l(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,d),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,f))}(l,f[l],o)}finally{null!==C&&ii(C),Fa(v),_.resolving=!1,Dh()}}return d}function Nc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function kl(s,o){return!(s&We.Self||s&We.Host&&o)}class Gs{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return xl(this._tNode,this._lView,o,u,l)}}function Pc(s){return Rt(()=>{const o=s.prototype.constructor,l=o[Ht]||Rl(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const f=d[Ht]||Rl(d);if(f&&f!==l)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Rl(s){return se(s)?()=>{const o=Rl(B(s));return o&&o()}:vs(s)}function xh(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let d=0;for(;d<u;){const f=l[d];if(Mp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof l[d];)d++;else{if(f===o)return l[d+1];d+=2}}}return null}(ln(),s)}const zs="__parameters__";function Mi(s,o,l){return Rt(()=>{const u=function(s){return function(...l){if(s){const u=s(...l);for(const d in u)this[d]=u[d]}}}(o);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return v.annotation=_,v;function v(C,I,x){const N=C.hasOwnProperty(zs)?C[zs]:Object.defineProperty(C,zs,{value:[]})[zs];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(_),C}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class yn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=dn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rh=new yn("AnalyzeForEntryComponents"),Zs=Function;function hi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),hi(u,o)):o!==s&&o.push(u)}return o}function Es(s,o){s.forEach(l=>Array.isArray(l)?Es(l,o):o(l))}function Ol(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ki(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ys(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Rn(s,o,l){let u=La(s,o);return u>=0?s[1|u]=l:(u=~u,function(s,o,l,u){let d=s.length;if(d==o)s.push(l,u);else if(1===d)s.push(u,s[0]),s[0]=l;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function Nn(s,o){const l=La(s,o);if(l>=0)return s[1|l]}function La(s,o){return function(s,o,l){let u=0,d=s.length>>l;for(;d!==u;){const f=u+(d-u>>1),_=s[f<<l];if(o===_)return f<<l;_>o?d=f:u=f+1}return~(d<<l)}(s,o,1)}const Nt={},sn="__NG_DI_FLAG__",$n="ngTempTokenPath",rr=/\n/gm,Zo="__source",ts=Q({provide:String,useValue:Q});let ns;function dt(s){const o=ns;return ns=s,o}function Rp(s,o=We.Default){if(void 0===ns)throw new Error("inject() must be called from an injection context");return null===ns?tt(s,void 0,o):ns.get(s,o&We.Optional?null:void 0,o)}function vn(s,o=We.Default){return(Zt||Rp)(B(s),o)}const Op=vn;function Nl(s){const o=[];for(let l=0;l<s.length;l++){const u=B(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,f=We.Default;for(let _=0;_<u.length;_++){const v=u[_],C=Np(v);"number"==typeof C?-1===C?d=v.token:f|=C:d=v}o.push(vn(d,f))}else o.push(vn(u))}return o}function Pl(s,o){return s[sn]=o,s.prototype[sn]=o,s}function Np(s){return s[sn]}function rs(s,o,l,u){const d=s[$n];throw o[Zo]&&d.unshift(o[Zo]),s.message=function(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=ee(o);if(Array.isArray(o))d=o.map(ee).join(" -> ");else if("object"==typeof o){let f=[];for(let _ in o)if(o.hasOwnProperty(_)){let v=o[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):ee(v)))}d=`{${f.join(", ")}}`}return`${l}${u?"("+u+")":""}[${d}]: ${s.replace(rr,"\n  ")}`}("\n"+s.message,d,l,u),s.ngTokenPath=d,s[$n]=null,s}const Va=Pl(Mi("Inject",s=>({token:s})),-1),Ba=Pl(Mi("Optional"),8),hr=Pl(Mi("SkipSelf"),4);let zc;function Ko(s){var o;return(null===(o=function(){if(void 0===zc&&(zc=null,mt.trustedTypes))try{zc=mt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return zc}())||void 0===o?void 0:o.createHTML(s))||s}class Ll{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zv extends Ll{getTypeName(){return"HTML"}}class Yv extends Ll{getTypeName(){return"Style"}}class Bh extends Ll{getTypeName(){return"Script"}}class Wv extends Ll{getTypeName(){return"URL"}}class Kv extends Ll{getTypeName(){return"ResourceURL"}}function Qo(s){return s instanceof Ll?s.changingThisBreaksApplicationSecurity:s}function Yc(s,o){const l=Uh(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Uh(s){return s instanceof Ll&&s.getTypeName()||null}function Jg(s){return new Zv(s)}function Vp(s){return new Yv(s)}function Bp(s){return new Bh(s)}function Jo(s){return new Wv(s)}function ad(s){return new Kv(s)}class Xg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ko(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Qv{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ko(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Ko(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const e_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ja(s){return(s=String(s)).match(e_)||s.match(Hh)?s:"unsafe:"+s}function Ds(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Bl(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Wc=Ds("area,br,col,hr,img,wbr"),n_=Ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kc=Ds("rp,rt"),Up=Bl(Wc,Bl(n_,Ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bl(Kc,Ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bl(Kc,n_)),ld=Ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),is=Ds("srcset"),cd=Bl(ld,is,Ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xv=Ds("script,style,template");class ud{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Up.hasOwnProperty(l))return this.sanitizedSomething=!0,!Xv.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let d=0;d<u.length;d++){const f=u.item(d),_=f.name,v=_.toLowerCase();if(!cd.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=f.value;ld[v]&&(C=ja(C)),is[v]&&(s=C,C=(s=String(s)).split(",").map(o=>ja(o.trim())).join(", ")),this.buf.push(" ",_,'="',Gh(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Up.hasOwnProperty(l)&&!Wc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Gh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const eb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tb=/([^\#-~ |!])/g;function Gh(s){return s.replace(/&/g,"&amp;").replace(eb,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(tb,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dd;function hd(s,o){let l=null;try{dd=dd||function(s){const o=new Qv(s);return function(){try{return!!(new window.DOMParser).parseFromString(Ko(""),"text/html")}catch(s){return!1}}()?new Xg(o):o}(s);let u=o?String(o):"";l=dd.getInertBodyElement(u);let d=5,f=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=f,f=l.innerHTML,l=dd.getInertBodyElement(u)}while(u!==f);return Ko((new ud).sanitizeChildren(fd(l)||l))}finally{if(l){const u=fd(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function fd(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function Hp(s){const o=function(){const s=Ee();return s&&s[12]}();return o?o.sanitize(Gn.URL,s)||"":Yc(s,"URL")?Qo(s):ja(oe(s))}const Ul="__ngContext__";function Fr(s,o){s[Ul]=o}function Zp(s){const o=function(s){return s[Ul]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function $a(s){return s.ngOriginalError}function Jp(s,...o){s.error(...o)}class Ga{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=this._findContext(o),d=(s=o)&&s.ngErrorLogger||Jp;var s;d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(o){return o?o.ngDebugContext||this._findContext($a(o)):null}_findOriginalError(o){let l=o&&$a(o);for(;l&&$a(l);)l=$a(l);return l||null}}const f_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mt))();function Is(s){return s instanceof Function?s():s}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();function g(s,o){return undefined(s,o)}function k(s){const o=s[3];return vr(o)?o[3]:o}function Re(s){return qe(s[13])}function Me(s){return qe(s[4])}function qe(s){for(;null!==s&&!vr(s);)s=s[4];return s}function Tt(s,o,l,u,d){if(null!=u){let f,_=!1;vr(u)?f=u:fn(u)&&(_=!0,u=u[0]);const v=Jt(u);0===s&&null!==l?null==d?YE(o,l,v):nu(o,l,v,d||null,!0):1===s&&null!==l?nu(o,l,v,d||null,!0):2===s?function(s,o,l){const u=b_(s,o);u&&function(s,o,l,u){rn(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,v,_):3===s&&o.destroyNode(v),null!=f&&function(s,o,l,u,d){const f=l[7];f!==Jt(l)&&Tt(o,s,u,f,d);for(let v=10;v<l.length;v++){const C=l[v];bd(C[1],C,s,o,u,f)}}(o,s,f,l,d)}}function gd(s,o,l){return rn(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function yd(s,o){const l=s[9],u=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,bl(d,-1)),l.splice(u,1)}function Qh(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const d=u[17];null!==d&&d!==s&&yd(d,u),o>0&&(s[l-1][4]=u[4]);const f=ki(s,10+o);!function(s,o){bd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Jh(s,o){if(!(256&o[2])){const l=o[11];rn(l)&&l.destroyNode&&bd(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return za(s[1],s);for(;o;){let l=null;if(fn(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)fn(o)&&za(o[1],o),o=o[3];null===o&&(o=s),fn(o)&&za(o[1],o),l=o&&o[4]}o=l}}(o)}}function za(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const d=o[l[u]];if(!(d instanceof Na)){const f=l[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=d[f[_]],C=f[_+1];try{C.call(v)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,u=o[7];let d=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const _=l[f+1],v="function"==typeof _?_(o):Jt(o[_]),C=u[d=l[f+2]],I=l[f+3];"boolean"==typeof I?v.removeEventListener(l[f],C,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),f+=2}else{const _=u[d=l[f+1]];l[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)u[f]();o[7]=null}}(s,o),1===o[1].type&&rn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&vr(o[3])){l!==o[3]&&yd(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function qE(s,o,l){return function(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return ui(u,l)}(s,o.parent,l)}function nu(s,o,l,u,d){rn(s)?s.insertBefore(o,l,u,d):o.insertBefore(l,u,d)}function YE(s,o,l){rn(s)?s.appendChild(o,l):o.appendChild(l)}function WE(s,o,l,u,d){null!==u?nu(s,o,l,u,d):YE(s,o,l)}function b_(s,o){return rn(s)?s.parentNode(o):o.parentNode}function Xh(s,o,l){return vd(s,o,l)}let vd=function(s,o,l){return 40&s.type?ui(s,l):null};function ef(s,o,l,u){const d=qE(s,u,o),f=o[11],v=Xh(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(l))for(let C=0;C<l.length;C++)WE(f,d,l[C],v,!1);else WE(f,d,l,v,!1)}function C_(s,o){if(null!==o){const l=o.type;if(3&l)return ui(o,s);if(4&l)return cb(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return C_(s,u);{const d=s[o.index];return vr(d)?cb(-1,d):Jt(d)}}if(32&l)return g(o,s)()||Jt(s[o.index]);{const u=lb(s,o);return null!==u?Array.isArray(u)?u[0]:C_(k(s[16]),u):C_(s,o.next)}}return null}function lb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function cb(s,o){const l=10+s+1;if(l<o.length){const u=o[l],d=u[1].firstChild;if(null!==d)return C_(u,d)}return o[7]}function E_(s,o,l,u,d,f,_){for(;null!=l;){const v=u[l.index],C=l.type;if(_&&0===o&&(v&&Fr(Jt(v),u),l.flags|=4),64!=(64&l.flags))if(8&C)E_(s,o,l.child,u,d,f,!1),Tt(o,s,d,v,f);else if(32&C){const I=g(l,u);let x;for(;x=I();)Tt(o,s,d,x,f);Tt(o,s,d,v,f)}else 16&C?ru(s,o,u,l,d,f):Tt(o,s,d,v,f);l=_?l.projectionNext:l.next}}function bd(s,o,l,u,d,f){E_(l,u,s.firstChild,o,d,f,!1)}function ru(s,o,l,u,d,f){const _=l[16],C=_[6].projection[u.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Tt(o,s,d,C[I],f);else E_(s,o,C,_[3],d,f,!0)}function JE(s,o,l){rn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function db(s,o,l){rn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function hb(s,o,l){let u=s.length;for(;;){const d=s.indexOf(o,l);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===u||s.charCodeAt(d+f)<=32)return d}l=d+1}}const XE="ng-template";function hA(s,o,l){let u=0;for(;u<s.length;){let d=s[u++];if(l&&"class"===d){if(d=s[u],-1!==hb(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function fb(s){return 4===s.type&&s.value!==XE}function fA(s,o,l){return o===(4!==s.type||l?s.value:XE)}function pA(s,o,l){let u=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(Mp(s[o]))return o;return s.length}(d);let _=!1;for(let v=0;v<o.length;v++){const C=o[v];if("number"!=typeof C){if(!_)if(4&u){if(u=2|1&u,""!==C&&!fA(s,C,l)||""===C&&1===o.length){if(na(u))return!1;_=!0}}else{const I=8&u?C:o[++v];if(8&u&&null!==s.attrs){if(!hA(s.attrs,I,l)){if(na(u))return!1;_=!0}continue}const N=pb(8&u?"class":C,d,fb(s),l);if(-1===N){if(na(u))return!1;_=!0;continue}if(""!==I){let P;P=N>f?"":d[N+1].toLowerCase();const z=8&u?P:null;if(z&&-1!==hb(z,I,0)||2&u&&I!==P){if(na(u))return!1;_=!0}}}}else{if(!_&&!na(u)&&!na(C))return!1;if(_&&na(C))continue;_=!1,u=C|1&u}}return na(u)||_}function na(s){return 0==(1&s)}function pb(s,o,l,u){if(null===o)return-1;let d=0;if(u||!l){let f=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=o[++d];for(;"string"==typeof v;)v=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function e0(s,o,l=!1){for(let u=0;u<o.length;u++)if(pA(s,o[u],l))return!0;return!1}function qN(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function me(s,o){return s?":not("+o.trim()+")":o}function tm(s){let o=s[0],l=1,u=2,d="",f=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&u){const v=s[++l];d+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!na(_)&&(o+=me(f,d),d=""),u=_,f=f||!na(u);l++}return""!==d&&(o+=me(f,d)),o}const wt={};function gb(s){nm(St(),Ee(),nr()+s,Aa())}function nm(s,o,l,u){if(!u)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&uo(o,f,l)}else{const f=s.preOrderHooks;null!==f&&Tl(o,f,0,l)}Ra(l)}function rm(s,o){return s<<17|o<<2}function mi(s){return s>>17&32767}function D_(s){return 2|s}function Gl(s){return(131068&s)>>2}function _b(s,o){return-131069&s|o<<2}function zl(s){return 1|s}function h0(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const d=l[u],f=l[u+1];if(-1!==f){const _=s.data[f];xa(d),_.contentQueries(2,o[f],f)}}}function k_(s,o,l,u,d,f,_,v,C,I){const x=o.blueprint.slice();return x[0]=d,x[2]=140|u,vl(x),x[3]=x[15]=s,x[8]=l,x[10]=_||s&&s[10],x[11]=v||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=I||s&&s[9]||null,x[6]=f,x[16]=2==o.type?s[16]:x,x}function om(s,o,l,u,d){let f=s.data[o];if(null===f)f=function(s,o,l,u,d){const f=Ac(),_=Ta(),C=s.data[o]=function(s,o,l,u,d,f){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,l,o,u,d);return null===s.firstChild&&(s.firstChild=C),null!==f&&(_?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(s,o,l,u,d),at.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=l,f.value=u,f.attrs=d;const _=function(){const s=at.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return kr(f,!0),f}function am(s,o,l,u){if(0===l)return-1;const d=o.length;for(let f=0;f<l;f++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function R_(s,o,l){Ho(o);try{const u=s.viewQuery;null!==u&&Ab(1,u,l);const d=s.template;null!==d&&cm(s,o,d,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&h0(s,o),s.staticViewQueries&&Ab(2,s.viewQuery,l);const f=s.components;null!==f&&function(s,o){for(let l=0;l<o.length;l++)BA(s,o[l])}(o,f)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Us()}}function lm(s,o,l,u){const d=o[2];if(256==(256&d))return;Ho(o);const f=Aa();try{vl(o),function(s){at.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&cm(s,o,l,2,u);const _=3==(3&d);if(!f)if(_){const I=s.preOrderCheckHooks;null!==I&&uo(o,I,null)}else{const I=s.preOrderHooks;null!==I&&Tl(o,I,0,null),On(o,0)}if(function(s){for(let o=Re(s);null!==o;o=Me(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const d=l[u],f=d[3];0==(1024&d[2])&&bl(f,1),d[2]|=1024}}}(o),function(s){for(let o=Re(s);null!==o;o=Me(o))for(let l=10;l<o.length;l++){const u=o[l],d=u[1];Dc(u)&&lm(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&h0(s,o),!f)if(_){const I=s.contentCheckHooks;null!==I&&uo(o,I)}else{const I=s.contentHooks;null!==I&&Tl(o,I,1),On(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const d=l[u];if(d<0)Ra(~d);else{const f=d,_=l[++u],v=l[++u];Dl(_,f),v(2,o[f])}}}finally{Ra(-1)}}(s,o);const v=s.components;null!==v&&function(s,o){for(let l=0;l<o.length;l++)VA(s,o[l])}(o,v);const C=s.viewQuery;if(null!==C&&Ab(2,C,u),!f)if(_){const I=s.viewCheckHooks;null!==I&&uo(o,I)}else{const I=s.viewHooks;null!==I&&Tl(o,I,2),On(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,bl(o[3],-1))}finally{Us()}}function kA(s,o,l,u){const d=o[10],f=!Aa(),_=Ec(o);try{f&&!_&&d.begin&&d.begin(),_&&R_(s,o,u),lm(s,o,l,u)}finally{f&&!_&&d.end&&d.end()}}function cm(s,o,l,u,d){const f=nr(),_=2&u;try{Ra(-1),_&&o.length>20&&nm(s,o,20,Aa()),l(u,d)}finally{Ra(f)}}function nf(s,o,l){if(ch(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const _=s.data[f];_.contentQueries&&_.contentQueries(1,l[f],f)}}}function rf(s,o,l){!wl()||(function(s,o,l,u){const d=l.directiveStart,f=l.directiveEnd;s.firstCreatePass||Ml(l,o),Fr(u,o);const _=l.initialInputs;for(let v=d;v<f;v++){const C=s.data[v],I=Ki(C);I&&FA(o,l,C);const x=_n(o,s,v,l);Fr(x,o),null!==_&&Dd(0,v-d,x,C,0,_),I&&(br(l.index,o)[8]=x)}}(s,o,l,ui(l,o)),128==(128&l.flags)&&function(s,o,l){const u=l.directiveStart,d=l.directiveEnd,_=l.index,v=at.lFrame.currentDirectiveIndex;try{Ra(_);for(let C=u;C<d;C++){const I=s.data[C],x=o[C];Il(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&F_(I,x)}}finally{Ra(-1),Il(v)}}(s,o,l))}function sf(s,o,l=ui){const u=o.localNames;if(null!==u){let d=o.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],v=-1===_?l(o,s):s[_];s[d++]=v}}}function p0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=of(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function of(s,o,l,u,d,f,_,v,C,I){const x=20+u,N=x+d,P=function(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:wt);return l}(x,N),z="function"==typeof I?I():I;return P[1]={type:s,blueprint:P,template:l,queries:null,viewQuery:v,declTNode:o,data:P.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:z,incompleteFirstPass:!1}}function g0(s,o,l,u){const d=Mb(o);null===l?d.push(u):(d.push(l),s.firstCreatePass&&U_(s).push(u,d.length-1))}function y0(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,d):l[u]=[o,d]}return l}function as(s,o,l,u,d,f,_,v){const C=ui(o,l);let x,I=o.inputs;!v&&null!=I&&(x=I[u])?(T0(s,l,x,u,d),Bo(o)&&function(s,o){const l=br(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=_?_(d,o.value||"",u):d,rn(f)?f.setProperty(C,u,d):Hs(u)||(C.setProperty?C.setProperty(u,d):C[u]=d))}function iu(s,o,l,u){let d=!1;if(wl()){const f=function(s,o,l){const u=s.directiveRegistry;let d=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];e0(l,_.selectors,!1)&&(d||(d=[]),Ge(Ml(l,o),s,_.type),Ki(_)?(L_(s,l),d.unshift(_)):d.push(_))}return d}(s,o,l),_=null===u?null:{"":-1};if(null!==f){d=!0,ra(l,s.data.length,f.length);for(let x=0;x<f.length;x++){const N=f[x];N.providersResolver&&N.providersResolver(N)}let v=!1,C=!1,I=am(s,o,f.length,null);for(let x=0;x<f.length;x++){const N=f[x];l.mergedAttrs=Rc(l.mergedAttrs,N.hostAttrs),um(s,l,o,I,N),Vr(I,N,_),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const P=N.type.prototype;!v&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!C&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),I++}!function(s,o){const u=o.directiveEnd,d=s.data,f=o.attrs,_=[];let v=null,C=null;for(let I=o.directiveStart;I<u;I++){const x=d[I],N=x.inputs,P=null===f||fb(o)?null:E0(N,f);_.push(P),v=y0(N,I,v),C=y0(x.outputs,I,C)}null!==v&&(v.hasOwnProperty("class")&&(o.flags|=16),v.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=v,o.outputs=C}(s,l)}_&&function(s,o,l){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=l[o[d+1]];if(null==f)throw new Se("301",`Export of name '${o[d+1]}' not found!`);u.push(o[d],f)}}}(l,u,_)}return l.mergedAttrs=Rc(l.mergedAttrs,l.attrs),d}function af(s,o,l,u,d,f){const _=f.hostBindings;if(_){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const C=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=C&&v.push(C),v.push(u,d,_)}}function F_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function L_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Vr(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Ki(o)&&(l[""]=s)}}function ra(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function um(s,o,l,u,d){s.data[u]=d;const f=d.factory||(d.factory=vs(d.type)),_=new Na(f,Ki(d),null);s.blueprint[u]=_,l[u]=_,af(s,o,0,u,am(s,l,d.hostVars,wt),d)}function FA(s,o,l){const u=ui(o,s),d=p0(l),f=s[10],_=dm(s,k_(s,d,null,l.onPush?64:16,u,o,f,f.createRenderer(u,l),null,null));s[o.index]=_}function Zl(s,o,l,u,d,f){const _=ui(s,o);!function(s,o,l,u,d,f,_){if(null==f)rn(s)?s.removeAttribute(o,d,l):o.removeAttribute(d);else{const v=null==_?oe(f):_(f,u||"",d);rn(s)?s.setAttribute(o,d,v,l):l?o.setAttributeNS(l,d,v):o.setAttribute(d,v)}}(o[11],_,f,s.value,l,u,d)}function Dd(s,o,l,u,d,f){const _=f[o];if(null!==_){const v=u.setInput;for(let C=0;C<_.length;){const I=_[C++],x=_[C++],N=_[C++];null!==v?u.setInput(l,N,I,x):l[x]=N}}}function E0(s,o){let l=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return l}function LA(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function VA(s,o){const l=br(o,s);if(Dc(l)){const u=l[1];80&l[2]?lm(u,l,u.template,l[8]):l[5]>0&&V_(l)}}function V_(s){for(let u=Re(s);null!==u;u=Me(u))for(let d=10;d<u.length;d++){const f=u[d];if(1024&f[2]){const _=f[1];lm(_,f,_.template,f[8])}else f[5]>0&&V_(f)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const d=br(l[u],s);Dc(d)&&d[5]>0&&V_(d)}}function BA(s,o){const l=br(o,s),u=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),R_(u,l,l[8])}function dm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function B_(s){for(;s;){s[2]|=64;const o=k(s);if(Qi(s)&&!o)return s;s=o}return null}function lf(s,o,l){const u=o[10];u.begin&&u.begin();try{lm(s,o,s.template,l)}catch(d){throw xb(o,d),d}finally{u.end&&u.end()}}function D0(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Zp(l),d=u[1];kA(d,u,d.template,l)}}(s[8])}function Ab(s,o,l){xa(0),o(s,l)}const jA=(()=>Promise.resolve(null))();function Mb(s){return s[7]||(s[7]=[])}function U_(s){return s.cleanup||(s.cleanup=[])}function S0(s,o,l){return(null===s||Ki(s))&&(l=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function xb(s,o){const l=s[9],u=l?l.get(Ga,null):null;u&&u.handleError(o)}function T0(s,o,l,u,d){for(let f=0;f<l.length;){const _=l[f++],v=l[f++],C=o[_],I=s.data[_];null!==I.setInput?I.setInput(C,d,u,v):C[v]=d}}function Br(s,o,l){const u=jo(o,s);!function(s,o,l){rn(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function j_(s,o,l){let u=l?s.styles:null,d=l?s.classes:null,f=0;if(null!==o)for(let _=0;_<o.length;_++){const v=o[_];"number"==typeof v?f=v:1==f?d=X(d,v):2==f&&(u=X(u,v+": "+o[++_]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=d:s.classesWithoutHost=d}const Id=new yn("INJECTOR",-1);class A0{get(o,l=Nt){if(l===Nt){const u=new Error(`NullInjectorError: No provider for ${ee(o)}!`);throw u.name="NullInjectorError",u}return l}}const Za=new yn("Set Injector scope."),pm={},M0={};let kb;function $_(){return void 0===kb&&(kb=new A0),kb}function x0(s,o=null,l=null,u){return new k0(s,l,o||$_(),u)}class k0{constructor(o,l,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];l&&Es(l,v=>this.processProvider(v,o,l)),Es([o],v=>this.processInjectorType(v,[],f)),this.records.set(Id,Sd(void 0,this));const _=this.records.get(Za);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:ee(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Nt,u=We.Default){this.assertNotDestroyed();const d=dt(this),f=ii(void 0);try{if(!(u&We.SkipSelf)){let v=this.records.get(o);if(void 0===v){const C=("function"==typeof(s=o)||"object"==typeof s&&s instanceof yn)&&ar(o);v=C&&this.injectableDefInScope(C)?Sd(Rb(o),pm):null,this.records.set(o,v)}if(null!=v)return this.hydrate(o,v)}return(u&We.Self?$_():this.parent).get(o,l=u&We.Optional&&l===Nt?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[$n]=_[$n]||[]).unshift(ee(o)),d)throw _;return rs(_,o,"R3InjectorError",this.source)}throw _}finally{ii(f),dt(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(ee(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,u){if(!(o=B(o)))return!1;let d=Zi(o);const f=null==d&&o.ngModule||void 0,_=void 0===f?o:f,v=-1!==u.indexOf(_);if(void 0!==f&&(d=Zi(f)),null==d)return!1;if(null!=d.imports&&!v){let x;u.push(_);try{Es(d.imports,N=>{this.processInjectorType(N,l,u)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:P,providers:z}=x[N];Es(z,W=>this.processProvider(W,P,z||G))}}this.injectorDefTypes.add(_);const C=vs(_)||(()=>new _);this.records.set(_,Sd(C,pm));const I=d.providers;if(null!=I&&!v){const x=o;Es(I,N=>this.processProvider(N,x,I))}return void 0!==f&&void 0!==o.providers}processProvider(o,l,u){let d=cf(o=B(o))?o:B(o&&o.provide);const f=Nb(s=o)?Sd(void 0,s.useValue):Sd(R0(s),pm);var s;if(cf(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Sd(void 0,pm,!0),_.factory=()=>Nl(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,f)}hydrate(o,l){return l.value===pm&&(l.value=M0,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=B(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Rb(s){const o=ar(s),l=null!==o?o.factory:vs(s);if(null!==l)return l;if(s instanceof yn)throw new Error(`Token ${ee(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const u=Ys(o,"?");throw new Error(`Can't resolve all parameters for ${ee(s)}: (${u.join(", ")}).`)}const l=function(s){const o=s&&(s[_s]||s[lr]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function R0(s,o,l){let u;if(cf(s)){const d=B(s);return vs(d)||Rb(d)}if(Nb(s))u=()=>B(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Nl(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))u=()=>vn(B(s.useExisting));else{const d=B(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return vs(d)||Rb(d);u=()=>new d(...Nl(s.deps))}return u}function Sd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Nb(s){return null!==s&&"object"==typeof s&&ts in s}function cf(s){return"function"==typeof s}const Pb=function(s,o,l){return function(s,o=null,l=null,u){const d=x0(s,o,l,u);return d._resolveInjectorDefTypes(),d}({name:l},o,s,l)};let zn=(()=>{class s{static create(l,u){return Array.isArray(l)?Pb(l,u,""):Pb(l.providers,l.parent,l.name||"")}}return s.THROW_IF_NOT_FOUND=Nt,s.NULL=new A0,s.\u0275prov=dn({token:s,providedIn:"any",factory:()=>vn(Id)}),s.__NG_ELEMENT_ID__=-1,s})();function H0(s,o){kc(Zp(s)[1],ln())}function uf(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let d;if(Ki(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(l){u.push(d);const _=s;_.inputs=jb(s.inputs),_.declaredInputs=jb(s.declaredInputs),_.outputs=jb(s.outputs);const v=d.hostBindings;v&&sM(s,v);const C=d.viewQuery,I=d.contentQueries;if(C&&iM(s,C),I&&z_(s,I),ne(s.inputs,d.inputs),ne(s.declaredInputs,d.declaredInputs),ne(s.outputs,d.outputs),Ki(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(s),v===uf&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=Rc(d.hostAttrs,l=Rc(l,d.hostAttrs))}}(u)}function jb(s){return s===Y?{}:s===G?[]:s}function iM(s,o){const l=s.viewQuery;s.viewQuery=l?(u,d)=>{o(u,d),l(u,d)}:o}function z_(s,o){const l=s.contentQueries;s.contentQueries=l?(u,d,f)=>{o(u,d,f),l(u,d,f)}:o}function sM(s,o){const l=s.hostBindings;s.hostBindings=l?(u,d)=>{o(u,d),l(u,d)}:o}let q_=null;function df(){if(!q_){const s=mt.Symbol;if(s&&s.iterator)q_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(q_=u)}}}return q_}function ym(s){return!!su(s)&&(Array.isArray(s)||!(s instanceof Map)&&df()in s)}function su(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _i(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function ff(s,o,l,u){const d=Ee();return _i(d,Ti(),o)&&(St(),Zl(kn(),d,s,o,l,u)),ff}function dM(s,o,l,u,d,f,_,v){const C=Ee(),I=St(),x=s+20,N=I.firstCreatePass?function(s,o,l,u,d,f,_,v,C){const I=o.consts,x=om(o,s,4,_||null,Bn(I,v));iu(o,l,x,Bn(I,C)),kc(o,x);const N=x.tViews=of(2,x,u,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,x),N.queries=o.queries.embeddedTView(x)),x}(x,I,C,o,l,u,d,f,_):I.data[x];kr(N,!1);const P=C[11].createComment("");ef(I,C,P,N),Fr(P,C),dm(C,C[x]=LA(P,C,P,N)),_c(N)&&rf(I,C,N),null!=_&&sf(C,N,v)}function hM(s){return function(s,o){return s[o]}(at.lFrame.contextLView,20+s)}function W_(s,o=We.Default){const l=Ee();return null===l?vn(s,o):xl(ln(),l,B(s),o)}function kd(s,o,l){const u=Ee();return _i(u,Ti(),o)&&as(St(),kn(),u,s,o,u[11],l,!1),kd}function Wl(s,o,l,u,d){const _=d?"class":"style";T0(s,l,o.inputs[_],_,u)}function vf(s,o,l,u){const d=Ee(),f=St(),_=20+s,v=d[11],C=d[_]=gd(v,o,at.lFrame.currentNamespace),I=f.firstCreatePass?function(s,o,l,u,d,f,_){const v=o.consts,I=om(o,s,2,d,Bn(v,f));return iu(o,l,I,Bn(v,_)),null!==I.attrs&&j_(I,I.attrs,!1),null!==I.mergedAttrs&&j_(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,f,d,0,o,l,u):f.data[_];kr(I,!0);const x=I.mergedAttrs;null!==x&&Sh(v,C,x);const N=I.classes;null!==N&&db(v,C,N);const P=I.styles;null!==P&&JE(v,C,P),64!=(64&I.flags)&&ef(f,d,C,I),0===at.lFrame.elementDepthCount&&Fr(C,d),at.lFrame.elementDepthCount++,_c(I)&&(rf(f,d,I),nf(f,I,d)),null!==u&&sf(d,I)}function bf(){let s=ln();Ta()?Cl():(s=s.parent,kr(s,!1));const o=s;at.lFrame.elementDepthCount--;const l=St();l.firstCreatePass&&(kc(l,s),ch(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Wl(l,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Wl(l,o,Ee(),o.stylesWithoutHost,!1)}function Cm(s,o,l,u){vf(s,o,l,u),bf()}function wf(s,o,l){const u=Ee(),d=St(),f=s+20,_=d.firstCreatePass?function(s,o,l,u,d){const f=o.consts,_=Bn(f,u),v=om(o,s,8,"ng-container",_);return null!==_&&j_(v,_,!0),iu(o,l,v,Bn(f,d)),null!==o.queries&&o.queries.elementStart(o,v),v}(f,d,u,o,l):d.data[f];kr(_,!0);const v=u[f]=u[11].createComment("");ef(d,u,v,_),Fr(v,u),_c(_)&&(rf(d,u,_),nf(d,_,u)),null!=l&&sf(u,_)}function Rd(){let s=ln();const o=St();Ta()?Cl():(s=s.parent,kr(s,!1)),o.firstCreatePass&&(kc(o,s),ch(s)&&o.queries.elementEnd(s))}function DM(){return Ee()}function sD(s){return!!s&&"function"==typeof s.then}function IM(s){return!!s&&"function"==typeof s.subscribe}const oD=IM;function aD(s,o,l,u){const d=Ee(),f=St(),_=ln();return SM(f,d,d[11],_,s,o,!!l,u),aD}function lD(s,o){const l=ln(),u=Ee(),d=St();return SM(d,u,S0(Sl(d.data),l,u),l,s,o,!1),lD}function SM(s,o,l,u,d,f,_,v){const C=_c(u),x=s.firstCreatePass&&U_(s),N=o[8],P=Mb(o);let z=!0;if(3&u.type||v){const ie=ui(u,o),xe=v?v(ie):ie,ve=P.length,ze=v?ht=>v(Jt(ht[u.index])):u.index;if(rn(l)){let ht=null;if(!v&&C&&(ht=function(s,o,l,u){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===l&&d[f+1]===u){const v=o[7],C=d[f+2];return v.length>C?v[C]:null}"string"==typeof _&&(f+=2)}return null}(s,o,d,u.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=f,ht.__ngLastListenerFn__=f,z=!1;else{f=cD(u,o,N,f,!1);const Gt=l.listen(xe,d,f);P.push(f,Gt),x&&x.push(d,ze,ve,ve+1)}}else f=cD(u,o,N,f,!0),xe.addEventListener(d,f,_),P.push(f),x&&x.push(d,ze,ve,_)}else f=cD(u,o,N,f,!1);const W=u.outputs;let he;if(z&&null!==W&&(he=W[d])){const ie=he.length;if(ie)for(let xe=0;xe<ie;xe+=2){const mr=o[he[xe]][he[xe+1]].subscribe(f),Ui=P.length;P.push(f,mr),x&&x.push(d,u.index,Ui,-(Ui+1))}}}function TM(s,o,l,u){try{return!1!==l(u)}catch(d){return xb(s,d),!1}}function cD(s,o,l,u,d){return function f(_){if(_===Function)return u;const v=2&s.flags?br(s.index,o):o;0==(32&o[2])&&B_(v);let C=TM(o,0,u,_),I=f.__ngNextListenerFn__;for(;I;)C=TM(o,0,I,_)&&C,I=I.__ngNextListenerFn__;return d&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function AM(s=1){return function(s){return(at.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,at.lFrame.contextLView))[8]}(s)}function TP(s,o){let l=null;const u=function(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===u?e0(s,f,!0):qN(u,f))return d}else l=d}return l}function MM(s){const o=Ee()[16][6];if(!o.projection){const u=o.projection=Ys(s?s.length:1,null),d=u.slice();let f=o.child;for(;null!==f;){const _=s?TP(f,s):0;null!==_&&(d[_]?d[_].projectionNext=f:u[_]=f,d[_]=f),f=f.next}}}function xM(s,o=0,l){const u=Ee(),d=St(),f=om(d,20+s,16,null,l||null);null===f.projection&&(f.projection=o),Cl(),64!=(64&f.flags)&&function(s,o,l){ru(o[11],0,o,l,qE(s,l,o),Xh(l.parent||o[6],l,o))}(d,u,f)}function UM(s,o,l,u,d){const f=s[l+1],_=null===o;let v=u?mi(f):Gl(f),C=!1;for(;0!==v&&(!1===C||_);){const x=s[v+1];xP(s[v],o)&&(C=!0,s[v+1]=u?zl(x):D_(x)),v=u?mi(x):Gl(x)}C&&(s[l+1]=u?D_(f):zl(f))}function xP(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&La(s,o)>=0}function dD(s,o,l){return Ja(s,o,l,!1),dD}function hD(s,o){return Ja(s,o,null,!0),hD}function Ja(s,o,l,u){const d=Ee(),f=St(),_=function(s){const o=at.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);f.firstUpdatePass&&function(s,o,l,u){const d=s.data;if(null===d[l+1]){const f=d[nr()],_=function(s,o){return o>=s.expandoStartIndex}(s,l);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,u)&&null===o&&!_&&(o=!1),o=function(s,o,l,u){const d=Sl(s);let f=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(l=Q_(l=fD(null,s,o,l,u),o.attrs,u),f=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(l=fD(d,s,o,l,u),null===f){let C=function(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Gl(u))return s[mi(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=fD(null,s,o,C[1],u),C=Q_(C,o.attrs,u),function(s,o,l,u){s[mi(l?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else f=function(s,o,l){let u;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)u=Q_(u,s[f].hostAttrs,l);return Q_(u,o.attrs,l)}(s,o,u)}return void 0!==f&&(u?o.residualClasses=f:o.residualStyles=f),l}(d,f,o,u),function(s,o,l,u,d,f){let _=f?o.classBindings:o.styleBindings,v=mi(_),C=Gl(_);s[u]=l;let x,I=!1;if(Array.isArray(l)){const N=l;x=N[1],(null===x||La(N,x)>0)&&(I=!0)}else x=l;if(d)if(0!==C){const P=mi(s[v+1]);s[u+1]=rm(P,v),0!==P&&(s[P+1]=_b(s[P+1],u)),s[v+1]=function(s,o){return 131071&s|o<<17}(s[v+1],u)}else s[u+1]=rm(v,0),0!==v&&(s[v+1]=_b(s[v+1],u)),v=u;else s[u+1]=rm(C,0),0===v?v=u:s[C+1]=_b(s[C+1],u),C=u;I&&(s[u+1]=D_(s[u+1])),UM(s,x,u,!0),UM(s,x,u,!1),function(s,o,l,u,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&La(f,o)>=0&&(l[u+1]=zl(l[u+1]))}(o,x,s,u,f),_=rm(v,C),f?o.classBindings=_:o.styleBindings=_}(d,f,o,l,_,u)}}(f,s,_,u),o!==wt&&_i(d,_,o)&&function(s,o,l,u,d,f,_,v){if(!(3&o.type))return;const C=s.data,I=C[v+1];Kb(function(s){return 1==(1&s)}(I)?QM(C,o,l,d,Gl(I),_):void 0)||(Kb(f)||function(s){return 2==(2&s)}(I)&&(f=QM(C,null,l,d,v,_)),function(s,o,l,u,d){const f=rn(s);if(o)d?f?s.addClass(l,u):l.classList.add(u):f?s.removeClass(l,u):l.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:y.DashCase;if(null==d)f?s.removeStyle(l,u,_):l.style.removeProperty(u);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),_|=y.Important),f?s.setStyle(l,u,d,_):l.style.setProperty(u,d,v?"important":"")}}}(u,_,jo(nr(),l),d,f))}(f,f.data[nr()],d,d[11],s,d[_+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ee(Qo(s)))),s}(o,l),u,_)}function fD(s,o,l,u,d){let f=null;const _=l.directiveEnd;let v=l.directiveStylingLast;for(-1===v?v=l.directiveStart:v++;v<_&&(f=o[v],u=Q_(u,f.hostAttrs,d),f!==s);)v++;return null!==s&&(l.directiveStylingLast=v),u}function Q_(s,o,l){const u=l?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const _=o[f];"number"==typeof _?d=_:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Rn(s,_,!!l||o[++f]))}return void 0===s?null:s}function QM(s,o,l,u,d,f){const _=null===o;let v;for(;d>0;){const C=s[d],I=Array.isArray(C),x=I?C[1]:C,N=null===x;let P=l[d+1];P===wt&&(P=N?G:void 0);let z=N?Nn(P,u):x===u?P:void 0;if(I&&!Kb(z)&&(z=Nn(C,u)),Kb(z)&&(v=z,_))return v;const W=s[d+1];d=_?mi(W):Gl(W)}if(null!==o){let C=f?o.residualClasses:o.residualStyles;null!=C&&(v=Nn(C,u))}return v}function Kb(s){return void 0!==s}function XM(s,o=""){const l=Ee(),u=St(),d=s+20,f=u.firstCreatePass?om(u,d,1,o,null):u.data[d],_=l[d]=function(s,o){return rn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);ef(u,l,_,f),kr(f,!1)}function pD(s){return Qb("",s,""),pD}function Qb(s,o,l){const u=Ee(),d=function(s,o,l,u){return _i(s,Ti(),l)?o+oe(l)+u:wt}(u,s,o,l);return d!==wt&&Br(u,nr(),d),Qb}function tw(s,o,l){const u=Ee();return _i(u,Ti(),o)&&as(St(),kn(),u,s,o,u[11],l,!0),tw}function nw(s,o,l){const u=Ee();if(_i(u,Ti(),o)){const f=St(),_=kn();as(f,_,u,s,o,S0(Sl(f.data),_,u),l,!0)}return nw}const sa=void 0;var dF=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Cf={};function yD(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=bD(o);if(l)return l;const u=o.split("-")[0];if(l=bD(u),l)return l;if("en"===u)return dF;throw new Error(`Missing locale data for the locale "${s}".`)}function vD(s){return yD(s)[lt.PluralCase]}function bD(s){return s in Cf||(Cf[s]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[s]),Cf[s]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const el="en-US";let ED=el;function iw(s){zt(s,"Expected localeId to be defined"),"string"==typeof s&&(ED=s.toLowerCase().replace(/_/g,"-"))}function sy(s,o,l,u,d){if(s=B(s),Array.isArray(s))for(let f=0;f<s.length;f++)sy(s[f],o,l,u,d);else{const f=St(),_=Ee();let v=cf(s)?s:B(s.provide),C=R0(s);const I=ln(),x=1048575&I.providerIndexes,N=I.directiveStart,P=I.providerIndexes>>20;if(cf(s)||!s.multi){const z=new Na(C,d,W_),W=oy(v,o,d?x:x+P,N);-1===W?(Ge(Ml(I,_),f,v),_w(f,s,o.length),o.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),l.push(z),_.push(z)):(l[W]=z,_[W]=z)}else{const z=oy(v,o,x+P,N),W=oy(v,o,x,x+P),he=z>=0&&l[z],ie=W>=0&&l[W];if(d&&!ie||!d&&!he){Ge(Ml(I,_),f,v);const xe=function(s,o,l,u,d){const f=new Na(s,l,W_);return f.multi=[],f.index=o,f.componentProviders=0,yw(f,d,u&&!l),f}(d?Xl:Fx,l.length,d,u,C);!d&&ie&&(l[W].providerFactory=xe),_w(f,s,o.length,0),o.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),l.push(xe),_.push(xe)}else _w(f,s,z>-1?z:W,yw(l[d?W:z],C,!d&&u));!d&&u&&ie&&l[W].componentProviders++}}}function _w(s,o,l,u){const d=cf(o);if(d||function(s){return!!s.useClass}(o)){const _=(o.useClass||o).prototype.ngOnDestroy;if(_){const v=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const C=v.indexOf(l);-1===C?v.push(l,[u,_]):v[C+1].push(u,_)}else v.push(l,_)}}}function yw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function oy(s,o,l,u){for(let d=l;d<u;d++)if(o[d]===s)return d;return-1}function Fx(s,o,l,u){return wo(this.multi,[])}function Xl(s,o,l,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=_n(l,l[1],this.providerFactory.index,u);f=v.slice(0,_),wo(d,f);for(let C=_;C<v.length;C++)f.push(v[C])}else f=[],wo(d,f);return f}function wo(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Lx(s,o=[]){return l=>{l.providersResolver=(u,d)=>function(s,o,l){const u=St();if(u.firstCreatePass){const d=Ki(s);sy(l,u.data,u.blueprint,d,!0),sy(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class _t{}const Af="ngComponent";class qD{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${ee(s)}. Did you add it to @NgModule.entryComponents?`);return o[Af]=s,o}(o)}}let Mf=(()=>{class s{}return s.NULL=new qD,s})();function ay(...s){}function oa(s,o){return new Co(ui(s,o))}const KD=function(){return oa(ln(),Ee())};let Co=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=KD,s})();function ec(s){return s instanceof Co?s.nativeElement:s}class xf{}let bw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>QD(),s})();const QD=function(){const s=Ee(),l=br(ln().index,s);return function(s){return s[11]}(fn(l)?l:s)};let Am=(()=>{class s{}return s.\u0275prov=dn({token:s,providedIn:"root",factory:()=>null}),s})();class Bx{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ly=new Bx("12.2.13");class Ux{constructor(){}supports(o){return ym(o)}create(o){return new Od(o)}}const JD=(s,o)=>o;class Od{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||JD}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,d=0,f=null;for(;l||u;){const _=!u||l&&l.currentIndex<cy(u,d,f)?l:u,v=cy(_,d,f),C=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{f||(f=[]);const I=v-d,x=C-d;if(I!=x){for(let P=0;P<I;P++){const z=P<f.length?f[P]:f[P]=0,W=z+P;x<=W&&W<I&&(f[P]=z+1)}f[_.previousIndex]=x-I}}v!==C&&o(_,v,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ym(o))throw new Error(`Error trying to diff '${ee(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,_,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let v=0;v<this.length;v++)f=o[v],_=this._trackByFn(v,f),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,f,_,v)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,_,v),u=!0),l=l._next}else d=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[df()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,v=>{_=this._trackByFn(d,v),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,v,_,d)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,_,d),u=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,f,d)):o=this._addAfter(new XD(l,u),f,d),o}_verifyReinsertion(o,l,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new eI),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class XD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ew{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class eI{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new Ew,this.map.set(l,u)),u.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cy(s,o,l){const u=s.previousIndex;if(null===u)return u;let d=0;return l&&u<l.length&&(d=l[u]),u+o+d}class uy{constructor(){}supports(o){return o instanceof Map||su(o)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||su(o)))throw new Error(`Error trying to diff '${ee(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(d,u);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new tI(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class tI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iw(){return new kf([new Ux])}let kf=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const d=u.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Iw()),deps:[[s,new hr,new Ba]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=dn({token:s,providedIn:"root",factory:Iw}),s})();function Sw(){return new dy([new uy])}let dy=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const d=u.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Sw()),deps:[[s,new hr,new Ba]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=dn({token:s,providedIn:"root",factory:Sw}),s})();function Rf(s,o,l,u,d=!1){for(;null!==l;){const f=o[l.index];if(null!==f&&u.push(Jt(f)),vr(f))for(let v=10;v<f.length;v++){const C=f[v],I=C[1].firstChild;null!==I&&Rf(C[1],C,I,u)}const _=l.type;if(8&_)Rf(s,o,l.child,u);else if(32&_){const v=g(l,o);let C;for(;C=v();)u.push(C)}else if(16&_){const v=lb(o,l);if(Array.isArray(v))u.push(...v);else{const C=k(o[16]);Rf(C[1],C,v,u,!0)}}l=d?l.projectionNext:l.next}return u}class du{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Rf(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(vr(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Qh(o,u),ki(l,u))}this._attachedToViewContainer=!1}Jh(this._lView[1],this._lView)}onDestroy(o){g0(this._lView[1],this._lView,null,o)}markForCheck(){B_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){Ma(!0);try{lf(s,o,l)}finally{Ma(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,bd(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class DF extends du{constructor(o){super(o),this._view=o}detectChanges(){D0(this._view)}checkNoChanges(){!function(s){Ma(!0);try{D0(s)}finally{Ma(!1)}}(this._view)}get context(){return null}}const hy=function(s){return function(s,o,l){if(Bo(s)&&!l){const u=br(s.index,o);return new du(u,u)}return 47&s.type?new du(o[16],o):null}(ln(),Ee(),16==(16&s))};let nI=(()=>{class s{}return s.__NG_ELEMENT_ID__=hy,s})();const Mw=[new uy],Hx=new kf([new Ux]),Of=new dy(Mw),iI=function(){return py(ln(),Ee())};let Nf=(()=>{class s{}return s.__NG_ELEMENT_ID__=iI,s})();const rl=Nf,Fd=class extends rl{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=k_(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(l)),R_(l,u,o),new du(u)}};function py(s,o){return 4&s.type?new Fd(o,s,oa(s,o)):null}class tc{}class xw{}const $x=function(){return km(ln(),Ee())};let Pf=(()=>{class s{}return s.__NG_ELEMENT_ID__=$x,s})();const sI=Pf,Rw=class extends sI{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Le(this._hostTNode,this._hostLView);if(Wu(o)){const l=di(o,this._hostLView),u=fo(o);return new Gs(l[1].data[u+8],l)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Ts(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const d=o.createEmbeddedView(l||{});return this.insert(d,u),d}createComponent(o,l,u,d,f){const _=u||this.parentInjector;if(!f&&null==o.ngModule&&_){const C=_.get(tc,null);C&&(f=C)}const v=o.create(_,d,void 0,f);return this.insert(v.hostView,l),v}insert(o,l){const u=o._lView,d=u[1];if(vr(u[3])){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const N=u[3],P=new Rw(N,N[6],N[3]);P.detach(P.indexOf(o))}}const f=this._adjustIndex(l),_=this._lContainer;!function(s,o,l,u){const d=10+u,f=l.length;u>0&&(l[d-1][4]=o),u<f-10?(o[4]=l[d],Ol(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(_,o);const v=o[19];null!==v&&v.insertView(s),o[2]|=128}(d,u,_,f);const v=cb(f,_),C=u[11],I=b_(C,_[7]);return null!==I&&function(s,o,l,u,d,f){u[0]=d,u[6]=o,bd(s,u,l,1,d,f)}(d,_[6],C,u,I,v),o.attachToViewContainerRef(),Ol(xm(_),f,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Ts(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Qh(this._lContainer,l);u&&(ki(xm(this._lContainer),l),Jh(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Qh(this._lContainer,l);return u&&null!=ki(xm(this._lContainer),l)?new du(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Ts(s){return s[8]}function xm(s){return s[8]||(s[8]=[])}function km(s,o){let l;const u=o[s.index];if(vr(u))l=u;else{let d;if(8&s.type)d=Jt(u);else{const f=o[11];d=f.createComment("");const _=ui(s,o);nu(f,b_(f,_),d,function(s,o){return rn(s)?s.nextSibling(o):o.nextSibling}(f,_),!1)}o[s.index]=l=LA(u,o,d,s),dm(o,l)}return new Rw(l,s,o)}const Hm={};class FI extends Mf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=er(o);return new Yw(l,this.ngModule)}}function Zw(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const LI=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>f_});class Yw extends _t{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(tm).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Zw(this.componentDef.inputs)}get outputs(){return Zw(this.componentDef.outputs)}create(o,l,u,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(l,u,d)=>{const f=s.get(l,Hm,d);return f!==Hm||u===Hm?f:o.get(l,u,d)}}}(o,d.injector):o,_=f.get(xf,ws),v=f.get(Am,null),C=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=u?function(s,o,l){if(rn(s))return s.selectRootElement(o,l===Pe.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):gd(_.createRenderer(null,this.componentDef),I,function(s){const o=s.toLowerCase();return"svg"===o?yl:"math"===o?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,P=function(s,o){return{components:[],scheduler:s||f_,clean:jA,playerHandler:o||null,flags:0}}(),z=of(0,null,null,1,0,null,null,null,null,null),W=k_(null,z,P,N,null,null,_,C,v,f);let he,ie;Ho(W);try{const xe=function(s,o,l,u,d,f){const _=l[1];l[20]=s;const C=om(_,20,2,"#host",null),I=C.mergedAttrs=o.hostAttrs;null!==I&&(j_(C,I,!0),null!==s&&(Sh(d,s,I),null!==C.classes&&db(d,s,C.classes),null!==C.styles&&JE(d,s,C.styles)));const x=u.createRenderer(s,o),N=k_(l,p0(o),null,o.onPush?64:16,l[20],C,u,x,f||null,null);return _.firstCreatePass&&(Ge(Ml(C,l),_,o.type),L_(_,C),ra(C,l.length,1)),dm(l,N),l[20]=N}(x,this.componentDef,W,_,C);if(x)if(u)Sh(C,x,["ng-version",ly.full]);else{const{attrs:ve,classes:ze}=function(s){const o=[],l=[];let u=1,d=2;for(;u<s.length;){let f=s[u];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++u]):8===d&&l.push(f);else{if(!na(d))break;d=f}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ve&&Sh(C,x,ve),ze&&ze.length>0&&db(C,x,ze.join(" "))}if(ie=oo(z,20),void 0!==l){const ve=ie.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const ht=l[ze];ve.push(null!=ht?Array.from(ht):null)}}he=function(s,o,l,u,d){const f=l[1],_=function(s,o,l){const u=ln();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),um(s,u,o,am(s,o,1,null),l));const d=_n(o,s,u.directiveStart,u);Fr(d,o);const f=ui(u,o);return f&&Fr(f,o),d}(f,l,o);if(u.components.push(_),s[8]=_,d&&d.forEach(C=>C(_,o)),o.contentQueries){const C=ln();o.contentQueries(1,_,C.directiveStart)}const v=ln();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ra(v.index),af(l[1],v,0,v.directiveStart,v.directiveEnd,o),F_(o,_)),_}(xe,this.componentDef,W,P,[H0]),R_(z,W,null)}finally{Us()}return new _k(this.componentType,he,oa(ie,W),W,ie)}}class _k extends class{}{constructor(o,l,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new DF(d),this.componentType=o}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Uf=new Map;class BI extends tc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new FI(this);const u=Di(o),d=o[gt]||null;d&&iw(d),this._bootstrapComponents=Is(u.bootstrap),this._r3Injector=x0(o,l,[{provide:tc,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver}],ee(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=zn.THROW_IF_NOT_FOUND,u=We.Default){return o===zn||o===tc||o===Id?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Kw extends xw{constructor(o){super(),this.moduleType=o,null!==Di(o)&&function(s){const o=new Set;!function l(u){const d=Di(u,!0),f=d.id;null!==f&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ee(o)} vs ${ee(o.name)}`)}(f,Uf.get(f),u),Uf.set(f,u));const _=Is(d.imports);for(const v of _)o.has(v)||(o.add(v),l(v))}(s)}(o)}create(o){return new BI(this.moduleType,o)}}function Qw(s){return o=>{setTimeout(s,void 0,o)}}const sl=class extends a.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var d,f,_;let v=o,C=l||(()=>null),I=u;if(o&&"object"==typeof o){const N=o;v=null===(d=N.next)||void 0===d?void 0:d.bind(N),C=null===(f=N.error)||void 0===f?void 0:f.bind(N),I=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(C=Qw(C),v&&(v=Qw(v)),I&&(I=Qw(I)));const x=super.subscribe({next:v,error:C,complete:I});return o instanceof re.w&&o.add(x),x}};function Ak(){return this._results[df()]()}class pu{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=df(),u=pu.prototype;u[l]||(u[l]=Ak)}get changes(){return this._changes||(this._changes=new sl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const d=hi(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],f=o[u];if(l&&(d=l(d),f=l(f)),f!==d)return!1}return!0}(u._results,d,l))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jw{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jw(this.queryList)}setDirty(){this.queryList.setDirty()}}class GI{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let f=0;f<u;f++){const _=l.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new GI(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==xy(o,l).matches&&this.queries[l].setDirty()}}class kk{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Bd{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const d=null!==l?l.length:0,f=this.getByIndex(u).embeddedTView(o,d);f&&(f.indexInDeclarationView=u,null!==l?l.push(f):l=[f])}return null!==l?new Bd(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zI{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new zI(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(o,l,GF(l,f)),this.matchTNodeWithReadOption(o,l,po(l,o,f,!1,!1))}else u===Nf?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,po(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Co||d===Pf||d===Nf&&4&l.type)this.addMatch(l.index,-2);else{const f=po(l,o,d,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function GF(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function zF(s,o,l,u){return-1===l?function(s,o){return 11&s.type?oa(s,o):4&s.type?py(s,o):null}(o,s):-2===l?function(s,o,l){return l===Co?oa(o,s):l===Nf?py(o,s):l===Pf?km(o,s):void 0}(s,o,u):_n(s,s[1],l,o)}function Xw(s,o,l,u){const d=o[19].queries[u];if(null===d.matches){const f=s.data,_=l.matches,v=[];for(let C=0;C<_.length;C+=2){const I=_[C];v.push(I<0?null:zF(o,f[I],_[C+1],l.metadata.read))}d.matches=v}return d.matches}function eC(s,o,l,u){const d=s.queries.getByIndex(l),f=d.matches;if(null!==f){const _=Xw(s,o,d,l);for(let v=0;v<f.length;v+=2){const C=f[v];if(C>0)u.push(_[v/2]);else{const I=f[v+1],x=o[-C];for(let N=10;N<x.length;N++){const P=x[N];P[17]===P[3]&&eC(P[1],P,I,u)}if(null!==x[9]){const N=x[9];for(let P=0;P<N.length;P++){const z=N[P];eC(z[1],z,I,u)}}}}}return u}function My(s){const o=Ee(),l=St(),u=xc();xa(u+1);const d=xy(l,u);if(s.dirty&&Ec(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?eC(l,o,u,[]):Xw(l,o,d,u);s.reset(f,ec),s.notifyOnChanges()}return!0}return!1}function tC(s,o,l){const u=St();u.firstCreatePass&&(YI(u,new kk(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),ZI(u,Ee(),o)}function nC(s,o,l,u){const d=St();if(d.firstCreatePass){const f=ln();YI(d,new kk(o,l,u),f.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(d,s),2==(2&l)&&(d.staticContentQueries=!0)}ZI(d,Ee(),l)}function qI(){return s=Ee(),o=xc(),s[19].queries[o].queryList;var s,o}function ZI(s,o,l){const u=new pu(4==(4&l));g0(s,o,u,u.destroy),null===o[19]&&(o[19]=new GI),o[19].queries.push(new Jw(u))}function YI(s,o,l){null===s.queries&&(s.queries=new Bd),s.queries.track(new zI(o,l))}function xy(s,o){return s.queries.getByIndex(o)}function WI(s,o){return py(s,o)}const hC=new yn("Application Initializer");let Gf=(()=>{class s{constructor(l){this.appInits=l,this.resolve=ay,this.reject=ay,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(sD(f))l.push(f);else if(oD(f)){const _=new Promise((v,C)=>{f.subscribe({complete:v,error:C})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(d=>{this.reject(d)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(vn(hC,8))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();const lS=new yn("AppId"),nR={provide:lS,useFactory:function(){return`${fC()}${fC()}${fC()}`},deps:[]};function fC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cS=new yn("Platform Initializer"),uS=new yn("Platform ID"),dS=new yn("appBootstrapListener");let Wm=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();const Fy=new yn("LocaleId"),Km=new yn("DefaultCurrencyCode");class zf{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}const hS=function(s){return new Kw(s)},fS=hS,cR=function(s){return Promise.resolve(hS(s))},pS=function(s){const o=hS(s),u=Is(Di(s).declarations).reduce((d,f)=>{const _=er(f);return _&&d.push(new Yw(_)),d},[]);return new zf(o,u)},dR=pS,_C=function(s){return Promise.resolve(pS(s))};let qf=(()=>{class s{constructor(){this.compileModuleSync=fS,this.compileModuleAsync=cR,this.compileModuleAndAllComponentsSync=dR,this.compileModuleAndAllComponentsAsync=_C}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();const hR=(()=>Promise.resolve(0))();function Ly(s){"undefined"==typeof Zone?hR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class So{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sl(!1),this.onMicrotaskEmpty=new sl(!1),this.onStable=new sl(!1),this.onError=new sl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&l,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=mt.requestAnimationFrame,o=mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zf(s),s.isCheckStableRunning=!0,yC(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,d,f,_,v)=>{try{return _S(s),l.invokeTask(d,f,_,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),yS(s)}},onInvoke:(l,u,d,f,_,v,C)=>{try{return _S(s),l.invoke(d,f,_,v,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),yS(s)}},onHasTask:(l,u,d,f)=>{l.hasTask(d,f),u===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Zf(s),yC(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,u,d,f)=>(l.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(So.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,o,gS,ay,ay);try{return f.runTask(_,l,u)}finally{f.cancelTask(_)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const gS={};function yC(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _S(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function yS(s){s._nesting--,yC(s)}class mR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sl,this.onMicrotaskEmpty=new sl,this.onStable=new sl,this.onError=new sl}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,d){return o.apply(l,u)}}let vS=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),Ly(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ly(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:d})}whenStable(l,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,d){return[]}}return s.\u0275fac=function(l){return new(l||s)(vn(So))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})(),bS=(()=>{class s{constructor(){this._applications=new Map,vC.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return vC.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();class gR{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function _R(s){vC=s}let vC=new gR,wS=!0,CS=!1;function bC(){return CS=!0,wS}function Qr(){if(CS)throw new Error("Cannot enable prod mode after platform setup.");wS=!1}let pr;const Vy=new yn("AllowMultipleToken");class Ct{constructor(o,l){this.name=o,this.token=l}}function Uy(s,o,l=[]){const u=`Platform: ${o}`,d=new yn(u);return(f=[])=>{let _=jy();if(!_||_.injector.get(Vy,!1))if(s)s(l.concat(f).concat({provide:d,useValue:!0}));else{const v=l.concat(f).concat({provide:d,useValue:!0},{provide:Za,useValue:"platform"});!function(s){if(pr&&!pr.destroyed&&!pr.injector.get(Vy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");pr=s.get(ES);const o=s.get(cS,null);o&&o.forEach(l=>l())}(zn.create({providers:v,name:u}))}return function(s){const o=jy();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function jy(){return pr&&!pr.destroyed?pr:null}let ES=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const v=function(s,o){let l;return l="noop"===s?new mR:("zone.js"===s?void 0:s)||new So({enableLongStackTrace:bC(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:So,useValue:v}];return v.run(()=>{const I=zn.create({providers:C,parent:this.injector,name:l.moduleType.name}),x=l.create(I),N=x.injector.get(Ga,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const P=v.onError.subscribe({next:z=>{N.handleError(z)}});x.onDestroy(()=>{Ur(this._modules,x),P.unsubscribe()})}),function(s,o,l){try{const u=l();return sD(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,v,()=>{const P=x.injector.get(Gf);return P.runInitializers(),P.donePromise.then(()=>(iw(x.injector.get(Fy,el)||el),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,u=[]){const d=Jr({},u);return function(s,o,l){const u=new Kw(l);return Promise.resolve(u)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(l){const u=l.injector.get(yu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${ee(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(vn(zn))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();function Jr(s,o){return Array.isArray(o)?o.reduce(Jr,s):Object.assign(Object.assign({},s),o)}let yu=(()=>{class s{constructor(l,u,d,f,_){this._zone=l,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new L.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{So.assertNotInAngularZone(),Ly(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{So.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ue.T)(v,C.pipe((0,ae.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=l instanceof _t?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(tc),v=d.create(zn.NULL,[],u||d.selector,f),C=v.location.nativeElement,I=v.injector.get(vS,null),x=I&&v.injector.get(bS);return I&&x&&x.registerApplication(C,I),v.onDestroy(()=>{this.detachView(v.hostView),Ur(this.components,v),x&&x.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Ur(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(dS,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(vn(So),vn(zn),vn(Ga),vn(Mf),vn(Gf))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();function Ur(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}class CR{}class DS{}const ds={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let EC=(()=>{class s{constructor(l,u){this._compiler=l,this._config=u||ds}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[u,d]=l.split("#");return void 0===d&&(d="default"),F(8255)(u).then(f=>f[d]).then(f=>Li(f,u,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(l){let[u,d]=l.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(_=>_[d+f]).then(_=>Li(_,u,d))}}return s.\u0275fac=function(l){return new(l||s)(vn(qf),vn(DS,8))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();function Li(s,o,l){if(!s)throw new Error(`Cannot find '${l}' in '${o}'`);return s}const Vi=function(s){return null},Wy=Uy(null,"core",[{provide:uS,useValue:"unknown"},{provide:ES,deps:[zn]},{provide:bS,deps:[]},{provide:Wm,deps:[]}]),TS=[{provide:yu,useClass:yu,deps:[So,zn,Ga,Mf,Gf]},{provide:LI,deps:[So],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Gf,useClass:Gf,deps:[[new Ba,hC]]},{provide:qf,useClass:qf,deps:[]},nR,{provide:kf,useFactory:function(){return Hx},deps:[]},{provide:dy,useFactory:function(){return Of},deps:[]},{provide:Fy,useFactory:function(s){return iw(s=s||"undefined"!=typeof $localize&&$localize.locale||el),s},deps:[[new Va(Fy),new Ba,new hr]]},{provide:Km,useValue:"USD"}];let AS=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(vn(yu))},s.\u0275mod=Po({type:s}),s.\u0275inj=An({providers:TS}),s})()},8939:(Ye,we,F)=>{"use strict";F.d(we,{hO:()=>se,xv:()=>X,Dh:()=>ee,GT:()=>Q,cc:()=>_e,on:()=>V,pX:()=>ae});var a=F(7716),re=F(7841),L=F(791);Ye=F.hmd(Ye);const ue=["ngOnDestroy"],ae=(oe,ye,Oe,Ve={})=>new Proxy(oe,{get:(kt,Vt)=>Oe.runOutsideAngular(()=>{var Wt;if(oe[Vt])return(null===(Wt=null==Ve?void 0:Ve.spy)||void 0===Wt?void 0:Wt.get)&&Ve.spy.get(Vt,oe[Vt]),oe[Vt];if(ue.indexOf(Vt)>-1)return()=>{};const Et=ye.toPromise().then(Tn=>{const Dt=Tn&&Tn[Vt];return"function"==typeof Dt?Dt.bind(Tn):Dt&&Dt.then?Dt.then(ft=>Oe.run(()=>ft)):Oe.run(()=>Dt)});return new Proxy(()=>{},{get:(Tn,Dt)=>Et[Dt],apply:(Tn,Dt,ft)=>Et.then(Kt=>{var pt;const Ut=Kt&&Kt(...ft);return(null===(pt=null==Ve?void 0:Ve.spy)||void 0===pt?void 0:pt.apply)&&Ve.spy.apply(Vt,ft,Ut),Ut})})})}),Q=(oe,ye)=>{ye.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Ve=>{Object.defineProperty(oe.prototype,Ve,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Ve))})})};class ne{constructor(ye){return ye}}const ee=new a.OlP("angularfire2.app.options"),X=new a.OlP("angularfire2.app.name");function V(oe,ye,Oe){const kt="object"==typeof Oe&&Oe||{};kt.name=kt.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Wt=re.Z.apps.filter(Et=>Et&&Et.name===kt.name)[0]||ye.runOutsideAngular(()=>re.Z.initializeApp(oe,kt));try{JSON.stringify(oe)!==JSON.stringify(Wt.options)&&$("error",`${Wt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Et){}return new ne(Wt)}const $=(oe,...ye)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[oe](...ye)},B={provide:ne,useFactory:V,deps:[ee,a.R0b,[new a.FiY,X]]};let se=(()=>{class oe{constructor(Oe){re.Z.registerVersion("angularfire",L.q4.full,"core"),re.Z.registerVersion("angularfire",L.q4.full,"app-compat"),re.Z.registerVersion("angular",a.q4F.full,Oe.toString())}static initializeApp(Oe,Ve){return{ngModule:oe,providers:[{provide:ee,useValue:Oe},{provide:X,useValue:Ve}]}}}return oe.\u0275fac=function(Oe){return new(Oe||oe)(a.LFG(a.Lbi))},oe.\u0275mod=a.oAB({type:oe}),oe.\u0275inj=a.cJS({providers:[B]}),oe})();function _e(oe,ye,Oe,Ve,kt){const[,Vt,Wt]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===oe)||[];if(Vt)return function(oe,ye){try{return oe.toString()===ye.toString()}catch(Oe){return oe===ye}}(kt,Wt)||(pe("error",`${ye} was already initialized on the ${Oe} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:kt,was:Wt})),Vt;{const Et=Ve();return globalThis.\u0275AngularfireInstanceCache.push([oe,Et,kt]),Et}}const be=!!Ye.hot,pe=(oe,...ye)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[oe](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},791:(Ye,we,F)=>{"use strict";F.d(we,{q4:()=>Oh,iC:()=>Nn,HU:()=>Xu,vb:()=>Ol,JM:()=>Es});var a=F(7716),re=F(2329),L=F(8239),ue=F(8026),ae=F(3854),Q=F(3910),ne=F(5422),ee=F(6676);const X="@firebase/installations",V="0.5.4",B=`w:${V}`,se="FIS_v2",ye=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function Ve({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function kt(D){return{token:D.token,requestStatus:2,expiresIn:Kt(D.expiresIn),creationTime:Date.now()}}function Vt(D,M){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,L.Z)(function*(D,M){const j=(yield M.json()).error;return ye.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Et({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Tn(D,{refreshToken:M}){const O=Et(D);return O.append("Authorization",function(D){return`${se} ${D}`}(M)),O}function Dt(D){return ft.apply(this,arguments)}function ft(){return(ft=(0,L.Z)(function*(D){const M=yield D();return M.status>=500&&M.status<600?D():M})).apply(this,arguments)}function Kt(D){return Number(D.replace("s","000"))}function Ut(D,M){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(D,{fid:M}){const O=Ve(D),de={method:"POST",headers:Et(D),body:JSON.stringify({fid:M,authVersion:se,appId:D.appId,sdkVersion:B})},De=yield Dt(()=>fetch(O,de));if(De.ok){const je=yield De.json();return{fid:je.fid||M,registrationStatus:2,refreshToken:je.refreshToken,authToken:kt(je.authToken)}}throw yield Vt("Create Installation",De)})).apply(this,arguments)}function fc(D){return new Promise(M=>{setTimeout(M,D)})}const to=/^[cdef][\w-]{21}$/;function zt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return to.test(O)?O:""}catch(D){return""}}function Fs(D){return`${D.appName}!${D.appId}`}const Oo=new Map;function Ls(D,M){const O=Fs(D);An(O,M),function(D,M){const O=(!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=D=>{An(D.data.key,D.data.fid)}),jt);O&&O.postMessage({key:D,fid:M}),0===Oo.size&&jt&&(jt.close(),jt=null)}(O,M)}function An(D,M){const O=Oo.get(D);if(O)for(const j of O)j(M)}let jt=null;const Te="firebase-installations-store";let lr=null;function qn(){return lr||(lr=(0,ee.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Te)}})),lr}function We(D,M){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,L.Z)(function*(D,M){const O=Fs(D),te=(yield qn()).transaction(Te,"readwrite"),de=te.objectStore(Te),De=yield de.get(O);return yield de.put(M,O),yield te.complete,(!De||De.fid!==M.fid)&&Ls(D,M.fid),M})).apply(this,arguments)}function Yi(D){return ii.apply(this,arguments)}function ii(){return(ii=(0,L.Z)(function*(D){const M=Fs(D),j=(yield qn()).transaction(Te,"readwrite");yield j.objectStore(Te).delete(M),yield j.complete})).apply(this,arguments)}function tt(D,M){return it.apply(this,arguments)}function it(){return(it=(0,L.Z)(function*(D,M){const O=Fs(D),te=(yield qn()).transaction(Te,"readwrite"),de=te.objectStore(Te),De=yield de.get(O),je=M(De);return void 0===je?yield de.delete(O):yield de.put(je,O),yield te.complete,je&&(!De||De.fid!==je.fid)&&Ls(D,je.fid),je})).apply(this,arguments)}function Rt(D){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,L.Z)(function*(D){let M;const O=yield tt(D,j=>{const te=si(j),de=Qt(D,te);return M=de.registrationPromise,de.installationEntry});return""===O.fid?{installationEntry:yield M}:{installationEntry:O,registrationPromise:M}})).apply(this,arguments)}function si(D){return mt(D||{fid:zt(),registrationStatus:0})}function Qt(D,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(ye.create("app-offline"))};const O={fid:M.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:O,registrationPromise:function(D,M){return Xe.apply(this,arguments)}(D,O)}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:xu(D)}:{installationEntry:M}}function Xe(){return(Xe=(0,L.Z)(function*(D,M){try{return We(D,yield Ut(D,M))}catch(O){throw Oe(O)&&409===O.customData.serverCode?yield Yi(D):yield We(D,{fid:M.fid,registrationStatus:0}),O}})).apply(this,arguments)}function xu(D){return no.apply(this,arguments)}function no(){return(no=(0,L.Z)(function*(D){let M=yield en(D);for(;1===M.registrationStatus;)yield fc(100),M=yield en(D);if(0===M.registrationStatus){const{installationEntry:O,registrationPromise:j}=yield Rt(D);return j||O}return M})).apply(this,arguments)}function en(D){return tt(D,M=>{if(!M)throw ye.create("installation-not-found");return mt(M)})}function mt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ku(D,M){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*({appConfig:D,platformLoggerProvider:M},O){const j=G(D,O),te=Tn(D,O),de=M.getImmediate({optional:!0});de&&te.append("x-firebase-client",de.getPlatformInfoString());const je={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:B}})},$e=yield Dt(()=>fetch(j,je));if($e.ok)return kt(yield $e.json());throw yield Vt("Generate Auth Token",$e)})).apply(this,arguments)}function G(D,{fid:M}){return`${Ve(D)}/${M}/authTokens:generate`}function K(D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,L.Z)(function*(D,M=!1){let O;const j=yield tt(D.appConfig,de=>{if(!Ln(de))throw ye.create("not-registered");const De=de.authToken;if(!M&&Tr(De))return de;if(1===De.requestStatus)return O=le(D,M),de;{if(!navigator.onLine)throw ye.create("app-offline");const je=yr(de);return O=Ht(D,je),je}});return O?yield O:j.authToken})).apply(this,arguments)}function le(D,M){return He.apply(this,arguments)}function He(){return(He=(0,L.Z)(function*(D,M){let O=yield gt(D.appConfig);for(;1===O.authToken.requestStatus;)yield fc(100),O=yield gt(D.appConfig);const j=O.authToken;return 0===j.requestStatus?K(D,M):j})).apply(this,arguments)}function gt(D){return tt(D,M=>{if(!Ln(M))throw ye.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Ht(D,M){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,L.Z)(function*(D,M){try{const O=yield ku(D,M),j=Object.assign(Object.assign({},M),{authToken:O});return yield We(D.appConfig,j),O}catch(O){if(!Oe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const j=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield We(D.appConfig,j)}else yield Yi(D.appConfig);throw O}})).apply(this,arguments)}function Ln(D){return void 0!==D&&2===D.registrationStatus}function Tr(D){return 2===D.requestStatus&&!function(D){const M=Date.now();return M<D.creationTime||D.creationTime+D.expiresIn<M+36e5}(D)}function yr(D){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:M})}function Po(){return(Po=(0,L.Z)(function*(D){const M=D,{installationEntry:O,registrationPromise:j}=yield Rt(M.appConfig);return j?j.catch(console.error):K(M).catch(console.error),O.fid})).apply(this,arguments)}function Fo(){return(Fo=(0,L.Z)(function*(D,M=!1){const O=D;return yield Ru(O.appConfig),(yield K(O,M)).token})).apply(this,arguments)}function Ru(D){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,L.Z)(function*(D){const{registrationPromise:M}=yield Rt(D);M&&(yield M)})).apply(this,arguments)}function tn(D){return ye.create("missing-app-config-values",{valueName:D})}const Gr="installations";(0,ue._registerComponent)(new Q.wA(Gr,D=>{const M=D.getProvider("app").getImmediate();return{app:M,appConfig:function(D){if(!D||!D.options)throw tn("App Configuration");if(!D.name)throw tn("App Name");const M=["projectId","apiKey","appId"];for(const O of M)if(!D.options[O])throw tn(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(M),platformLoggerProvider:(0,ue._getProvider)(M,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new Q.wA("installations-internal",D=>{const M=D.getProvider("app").getImmediate(),O=(0,ue._getProvider)(M,Gr).getImmediate();return{getId:()=>function(D){return Po.apply(this,arguments)}(O),getToken:te=>function(D){return Fo.apply(this,arguments)}(O,te)}},"PRIVATE")),(0,ue.registerVersion)(X,V),(0,ue.registerVersion)(X,V,"esm2017");const li="@firebase/remote-config",cr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _c{constructor(M,O,j,te){this.client=M,this.storage=O,this.storageCache=j,this.logger=te}isCachedDataFresh(M,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-O,te=j<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${te}.`),te}fetch(M){var O=this;return(0,L.Z)(function*(){const[j,te]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(te&&O.isCachedDataFresh(M.cacheMaxAgeMillis,j))return te;M.eTag=te&&te.eTag;const de=yield O.client.fetch(M),De=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&De.push(O.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(De),de})()}}function Ki(D=navigator){return D.languages&&D.languages[0]||D.language}class Qi{constructor(M,O,j,te,de,De){this.firebaseInstallations=M,this.sdkVersion=O,this.namespace=j,this.projectId=te,this.apiKey=de,this.appId=De}fetch(M){var O=this;return(0,L.Z)(function*(){const[j,te]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},$e={sdk_version:O.sdkVersion,app_instance_id:j,app_instance_id_token:te,app_id:O.appId,language_code:Ki()},Nt={method:"POST",headers:je,body:JSON.stringify($e)},sn=fetch(De,Nt),$n=new Promise((ts,ns)=>{M.signal.addEventListener(()=>{const dt=new Error("The operation was aborted.");dt.name="AbortError",ns(dt)})});let qr;try{yield Promise.race([sn,$n]),qr=yield sn}catch(ts){let ns="fetch-client-network";throw"AbortError"===ts.name&&(ns="fetch-timeout"),cr.create(ns,{originalErrorMessage:ts.message})}let rr=qr.status;const Uc=qr.headers.get("ETag")||void 0;let Zo,jc;if(200===qr.status){let ts;try{ts=yield qr.json()}catch(ns){throw cr.create("fetch-client-parse",{originalErrorMessage:ns.message})}Zo=ts.entries,jc=ts.state}if("INSTANCE_STATE_UNSPECIFIED"===jc?rr=500:"NO_CHANGE"===jc?rr=304:("NO_TEMPLATE"===jc||"EMPTY_CONFIG"===jc)&&(Zo={}),304!==rr&&200!==rr)throw cr.create("fetch-status",{httpStatus:rr});return{status:rr,eTag:Uc,config:Zo}})()}}class Nu{constructor(M,O){this.client=M,this.storage=O}fetch(M){var O=this;return(0,L.Z)(function*(){const j=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(M,j)})()}attemptFetch(M,{throttleEndTimeMillis:O,backoffCount:j}){var te=this;return(0,L.Z)(function*(){yield function(D,M){return new Promise((O,j)=>{const te=Math.max(M-Date.now(),0),de=setTimeout(O,te);D.addEventListener(()=>{clearTimeout(de),j(cr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,O);try{const de=yield te.client.fetch(M);return yield te.storage.deleteThrottleMetadata(),de}catch(de){if(!function(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const M=Number(D.customData.httpStatus);return 429===M||500===M||503===M||504===M}(de))throw de;const De={throttleEndTimeMillis:Date.now()+(0,ae.$s)(j),backoffCount:j+1};return yield te.storage.setThrottleMetadata(De),te.attemptFetch(M,De)}})()}}class Fg{constructor(M,O,j,te,de){this.app=M,this._client=O,this._storageCache=j,this._storage=te,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fl(D,M){const O=D.target.error||void 0;return cr.create(M,{originalErrorMessage:O&&O.message})}const Da="app_namespace_store";class Lg{constructor(M,O,j,te=function(){return new Promise((D,M)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=j=>{M(fl(j,"storage-open"))},O.onsuccess=j=>{D(j.target.result)},O.onupgradeneeded=j=>{const te=j.target.result;switch(j.oldVersion){case 0:te.createObjectStore(Da,{keyPath:"compositeKey"})}}}catch(O){M(cr.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=M,this.appName=O,this.namespace=j,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var O=this;return(0,L.Z)(function*(){const j=yield O.openDbPromise;return new Promise((te,de)=>{const je=j.transaction([Da],"readonly").objectStore(Da),$e=O.createCompositeKey(M);try{const Nt=je.get($e);Nt.onerror=sn=>{de(fl(sn,"storage-get"))},Nt.onsuccess=sn=>{const $n=sn.target.result;te($n?$n.value:void 0)}}catch(Nt){de(cr.create("storage-get",{originalErrorMessage:Nt&&Nt.message}))}})})()}set(M,O){var j=this;return(0,L.Z)(function*(){const te=yield j.openDbPromise;return new Promise((de,De)=>{const $e=te.transaction([Da],"readwrite").objectStore(Da),Nt=j.createCompositeKey(M);try{const sn=$e.put({compositeKey:Nt,value:O});sn.onerror=$n=>{De(fl($n,"storage-set"))},sn.onsuccess=()=>{de()}}catch(sn){De(cr.create("storage-set",{originalErrorMessage:sn&&sn.message}))}})})()}delete(M){var O=this;return(0,L.Z)(function*(){const j=yield O.openDbPromise;return new Promise((te,de)=>{const je=j.transaction([Da],"readwrite").objectStore(Da),$e=O.createCompositeKey(M);try{const Nt=je.delete($e);Nt.onerror=sn=>{de(fl(sn,"storage-delete"))},Nt.onsuccess=()=>{te()}}catch(Nt){de(cr.create("storage-delete",{originalErrorMessage:Nt&&Nt.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class ph{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,L.Z)(function*(){const O=M.storage.getLastFetchStatus(),j=M.storage.getLastSuccessfulFetchTimestampMillis(),te=M.storage.getActiveConfig(),de=yield O;de&&(M.lastFetchStatus=de);const De=yield j;De&&(M.lastSuccessfulFetchTimestampMillis=De);const je=yield te;je&&(M.activeConfig=je)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Fu(){return yc.apply(this,arguments)}function yc(){return(yc=(0,L.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new Q.wA("remote-config",function(M,{instanceIdentifier:O}){const j=M.getProvider("app").getImmediate(),te=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw cr.create("registration-window");if(!(0,ae.hl)())throw cr.create("indexed-db-unavailable");const{projectId:de,apiKey:De,appId:je}=j.options;if(!de)throw cr.create("registration-project-id");if(!De)throw cr.create("registration-api-key");if(!je)throw cr.create("registration-app-id");const $e=new Lg(je,j.name,O=O||"firebase"),Nt=new ph($e),sn=new ne.Yd(li);sn.logLevel=ne.in.ERROR;const $n=new Qi(te,ue.SDK_VERSION,O,de,De,je),qr=new Nu($n,$e),rr=new _c(qr,$e,Nt,sn),Uc=new Fg(j,rr,Nt,$e,sn);return function(D){const M=(0,ae.m9)(D);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Uc),Uc},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(li,"0.3.3"),(0,ue.registerVersion)(li,"0.3.3","esm2017");const pl="/firebase-messaging-sw.js",Bg="/firebase-cloud-messaging-push-scope",ml="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vs="google.c.a.c_id",gl="google.c.a.c_l",Zn="google.c.a.ts",_l="google.c.a.e";var xr=(()=>{return(D=xr||(xr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",xr;var D})();function bs(D){const M=new Uint8Array(D);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vc(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(O),te=new Uint8Array(j.length);for(let de=0;de<j.length;++de)te[de]=j.charCodeAt(de);return te}const bc="fcm_token_details_db",Ep="fcm_token_object_Store";function ci(D){return yl.apply(this,arguments)}function yl(){return(yl=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(bc))return null;let M=null;return(yield(0,ee.openDb)(bc,5,function(){var j=(0,L.Z)(function*(te){var de;if(te.oldVersion<2||!te.objectStoreNames.contains(Ep))return;const De=te.transaction.objectStore(Ep),je=yield De.index("fcmSenderId").get(D);if(yield De.clear(),je)if(2===te.oldVersion){const $e=je;if(!$e.auth||!$e.p256dh||!$e.endpoint)return;M={token:$e.fcmToken,createTime:null!==(de=$e.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:$e.auth,p256dh:$e.p256dh,endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:"string"==typeof $e.vapidKey?$e.vapidKey:bs($e.vapidKey)}}}else if(3===te.oldVersion){const $e=je;M={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:bs($e.auth),p256dh:bs($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:bs($e.vapidKey)}}}else if(4===te.oldVersion){const $e=je;M={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:bs($e.auth),p256dh:bs($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:bs($e.vapidKey)}}}});return function(te){return j.apply(this,arguments)}}())).close(),yield(0,ee.deleteDb)(bc),yield(0,ee.deleteDb)("fcm_vapid_details_db"),yield(0,ee.deleteDb)("undefined"),_h(M)?M:null})).apply(this,arguments)}function _h(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:M}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const so="firebase-messaging-store";let Lu=null;function rn(){return Lu||(Lu=(0,ee.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(so)}})),Lu}function yh(D){return ws.apply(this,arguments)}function ws(){return(ws=(0,L.Z)(function*(D){const M=jo(D),j=yield(yield rn()).transaction(so).objectStore(so).get(M);if(j)return j;{const te=yield ci(D.appConfig.senderId);if(te)return yield Ji(D,te),te}})).apply(this,arguments)}function Ji(D,M){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,L.Z)(function*(D,M){const O=jo(D),te=(yield rn()).transaction(so,"readwrite");return yield te.objectStore(so).put(M,O),yield te.complete,M})).apply(this,arguments)}function Sa(D){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,L.Z)(function*(D){const M=jo(D),j=(yield rn()).transaction(so,"readwrite");yield j.objectStore(so).delete(M),yield j.complete})).apply(this,arguments)}function jo({appConfig:D}){return D.appId}const Yn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oo(D,M){return ao.apply(this,arguments)}function ao(){return(ao=(0,L.Z)(function*(D,M){const O=yield vl(D),j=at(M),te={method:"POST",headers:O,body:JSON.stringify(j)};let de;try{de=yield(yield fetch(Bn(D.appConfig),te)).json()}catch(De){throw Yn.create("token-subscribe-failed",{errorInfo:De})}if(de.error)throw Yn.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw Yn.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function br(D,M){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,L.Z)(function*(D,M){const O=yield vl(D),j=at(M.subscriptionOptions),te={method:"PATCH",headers:O,body:JSON.stringify(j)};let de;try{de=yield(yield fetch(`${Bn(D.appConfig)}/${M.token}`,te)).json()}catch(De){throw Yn.create("token-update-failed",{errorInfo:De})}if(de.error)throw Yn.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw Yn.create("token-update-no-token");return de.token})).apply(this,arguments)}function Dc(D,M){return lo.apply(this,arguments)}function lo(){return(lo=(0,L.Z)(function*(D,M){const j={method:"DELETE",headers:yield vl(D)};try{const de=yield(yield fetch(`${Bn(D.appConfig)}/${M}`,j)).json();if(de.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(te){throw Yn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function Bn({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function vl(D){return bl.apply(this,arguments)}function bl(){return(bl=(0,L.Z)(function*({appConfig:D,installations:M}){const O=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function at({p256dh:D,auth:M,endpoint:O,vapidKey:j}){const te={web:{endpoint:O,auth:M,p256dh:D}};return j!==ml&&(te.web.applicationPubKey=j),te}const Ic=6048e5;function vh(D){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,L.Z)(function*(D){const M=yield Tc(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:M.endpoint,auth:bs(M.getKey("auth")),p256dh:bs(M.getKey("p256dh"))},j=yield yh(D.firebaseDependencies);if(j){if(Ac(j.subscriptionOptions,O))return Date.now()>=j.createTime+Ic?Vu(D,{token:j.token,createTime:Date.now(),subscriptionOptions:O}):j.token;try{yield Dc(D.firebaseDependencies,j.token)}catch(te){console.warn(te)}return Ee(D.firebaseDependencies,O)}return Ee(D.firebaseDependencies,O)})).apply(this,arguments)}function bh(D){return wl.apply(this,arguments)}function wl(){return(wl=(0,L.Z)(function*(D){const M=yield yh(D.firebaseDependencies);M&&(yield Dc(D.firebaseDependencies,M.token),yield Sa(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Vu(D,M){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,L.Z)(function*(D,M){try{const O=yield br(D.firebaseDependencies,M),j=Object.assign(Object.assign({},M),{token:O,createTime:Date.now()});return yield Ji(D.firebaseDependencies,j),O}catch(O){throw yield bh(D),O}})).apply(this,arguments)}function Ee(D,M){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(D,M){const j={token:yield oo(D,M),createTime:Date.now(),subscriptionOptions:M};return yield Ji(D,j),j.token})).apply(this,arguments)}function Tc(D,M){return ln.apply(this,arguments)}function ln(){return(ln=(0,L.Z)(function*(D,M){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vc(M)})})).apply(this,arguments)}function Ac(D,M){return M.vapidKey===D.vapidKey&&M.endpoint===D.endpoint&&M.auth===D.auth&&M.p256dh===D.p256dh}function Cs(D){const M={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,M){if(!M.notification)return;D.notification={};const O=M.notification.title;O&&(D.notification.title=O);const j=M.notification.body;j&&(D.notification.body=j);const te=M.notification.image;te&&(D.notification.image=te)}(M,D),function(D,M){!M.data||(D.data=M.data)}(M,D),function(D,M){if(!M.fcmOptions)return;D.fcmOptions={};const O=M.fcmOptions.link;O&&(D.fcmOptions.link=O);const j=M.fcmOptions.analytics_label;j&&(D.fcmOptions.analyticsLabel=j)}(M,D),M}function wh(D){return"object"==typeof D&&!!D&&vs in D}function Bu(D,M){const O=[];for(let j=0;j<D.length;j++)O.push(D.charAt(j)),j<M.length&&O.push(M.charAt(j));return O.join("")}function Ma(D){return Yn.create("missing-app-config-values",{valueName:D})}Bu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Un{constructor(M,O,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(D){if(!D||!D.options)throw Ma("App Configuration Object");if(!D.name)throw Ma("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const j of M)if(!O[j])throw Ma(j);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:te,installations:O,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Si(D){return El.apply(this,arguments)}function El(){return(El=(0,L.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(pl,{scope:Bg}),D.swRegistration.update().catch(()=>{})}catch(M){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function Ti(D,M){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,L.Z)(function*(D,M){if(!M&&!D.swRegistration&&(yield Si(D)),M||!D.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");D.swRegistration=M}})).apply(this,arguments)}function Uu(D,M){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,L.Z)(function*(D,M){M?D.vapidKey=M:D.vapidKey||(D.vapidKey=ml)})).apply(this,arguments)}function ju(){return(ju=(0,L.Z)(function*(D,M){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield Uu(D,null==M?void 0:M.vapidKey),yield Ti(D,null==M?void 0:M.serviceWorkerRegistration),vh(D)})).apply(this,arguments)}function Il(D,M,O){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,L.Z)(function*(D,M,O){const j=xc(M);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:O[vs],message_name:O[gl],message_time:O[Zn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xc(D){switch(D){case xr.NOTIFICATION_CLICKED:return"notification_open";case xr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ka(){return(ka=(0,L.Z)(function*(D,M){const O=M.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===xr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Cs(O)):D.onMessageHandler.next(Cs(O)));const j=O.data;wh(j)&&"1"===j[_l]&&(yield Il(D,O.messageType,j))})).apply(this,arguments)}const Hu="@firebase/messaging";function Dh(){return Us.apply(this,arguments)}function Us(){return(Us=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new Q.wA("messaging",D=>{const M=new Un(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function(D,M){return ka.apply(this,arguments)}(M,O)),M},"PUBLIC")),(0,ue._registerComponent)(new Q.wA("messaging-internal",D=>{const M=D.getProvider("messaging").getImmediate();return{getToken:j=>function(D,M){return ju.apply(this,arguments)}(M,j)}},"PRIVATE")),(0,ue.registerVersion)(Hu,"0.9.4"),(0,ue.registerVersion)(Hu,"0.9.4","esm2017");const Oa="analytics",Tp="firebase_id",uo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tl="https://www.googletagmanager.com/gtag/js",On=new ne.Yd("@firebase/analytics");function qu(D){return Promise.all(D.map(M=>M.catch(O=>O)))}function Ap(D,M){const O=document.createElement("script");O.src=`${Tl}?l=${D}&id=${M}`,O.async=!0,document.head.appendChild(O)}function Na(D,M,O,j,te,de){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,L.Z)(function*(D,M,O,j,te,de){const De=j[te];try{if(De)yield M[De];else{const $e=(yield qu(O)).find(Nt=>Nt.measurementId===te);$e&&(yield M[$e.appId])}}catch(je){On.error(je)}D("config",te,de)})).apply(this,arguments)}function Pa(D,M,O,j,te){return ho.apply(this,arguments)}function ho(){return(ho=(0,L.Z)(function*(D,M,O,j,te){try{let de=[];if(te&&te.send_to){let De=te.send_to;Array.isArray(De)||(De=[De]);const je=yield qu(O);for(const $e of De){const Nt=je.find($n=>$n.measurementId===$e),sn=Nt&&M[Nt.appId];if(!sn){de=[];break}de.push(sn)}}0===de.length&&(de=Object.values(M)),yield Promise.all(de),D("event",j,te||{})}catch(de){On.error(de)}})).apply(this,arguments)}function jg(){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(Tl))return M;return null}const Xi=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rc=new class{constructor(M={},O=1e3){this.throttleMetadata=M,this.intervalMillis=O}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,O){this.throttleMetadata[M]=O}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function xp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wu(D){return fo.apply(this,arguments)}function fo(){return(fo=(0,L.Z)(function*(D){var M;const{appId:O,apiKey:j}=D,te={method:"GET",headers:xp(j)},de=uo.replace("{app-id}",O),De=yield fetch(de,te);if(200!==De.status&&304!==De.status){let je="";try{const $e=yield De.json();(null===(M=$e.error)||void 0===M?void 0:M.message)&&(je=$e.error.message)}catch($e){}throw Xi.create("config-fetch-failed",{httpStatus:De.status,responseMessage:je})}return De.json()})).apply(this,arguments)}function Th(D){return di.apply(this,arguments)}function di(){return(di=(0,L.Z)(function*(D,M=Rc,O){const{appId:j,apiKey:te,measurementId:de}=D.options;if(!j)throw Xi.create("no-app-id");if(!te){if(de)return{measurementId:de,appId:j};throw Xi.create("no-api-key")}const De=M.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new kp;return setTimeout((0,L.Z)(function*(){je.abort()}),void 0!==O?O:6e4),Al({appId:j,apiKey:te,measurementId:de},De,je,M)})).apply(this,arguments)}function Al(D,M,O){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,L.Z)(function*(D,{throttleEndTimeMillis:M,backoffCount:O},j,te=Rc){const{appId:de,measurementId:De}=D;try{yield Hv(j,M)}catch(je){if(De)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:de,measurementId:De};throw je}try{const je=yield Wu(D);return te.deleteThrottleMetadata(de),je}catch(je){if(!Ah(je)){if(te.deleteThrottleMetadata(de),De)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:de,measurementId:De};throw je}const $e=503===Number(je.customData.httpStatus)?(0,ae.$s)(O,te.intervalMillis,30):(0,ae.$s)(O,te.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+$e,backoffCount:O+1};return te.setThrottleMetadata(de,Nt),On.debug(`Calling attemptFetch again in ${$e} millis`),Al(D,Nt,j,te)}})).apply(this,arguments)}function Hv(D,M){return new Promise((O,j)=>{const te=Math.max(M-Date.now(),0),de=setTimeout(O,te);D.addEventListener(()=>{clearTimeout(de),j(Xi.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function Ah(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const M=Number(D.customData.httpStatus);return 429===M||500===M||503===M||504===M}class kp{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function Mh(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,L.Z)(function*(){if(!(0,ae.hl)())return On.warn(Xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return On.warn(Xi.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function $o(){return($o=(0,L.Z)(function*(D,M,O,j,te,de,De){var je;const $e=Th(D);$e.then(rr=>{O[rr.measurementId]=rr.appId,D.options.measurementId&&rr.measurementId!==D.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>On.error(rr)),M.push($e);const Nt=Mh().then(rr=>{if(rr)return j.getId()}),[sn,$n]=yield Promise.all([$e,Nt]);jg()||Ap(de,sn.measurementId),te("js",new Date);const qr=null!==(je=null==De?void 0:De.config)&&void 0!==je?je:{};return qr.origin="firebase",qr.update=!0,null!=$n&&(qr[Tp]=$n),te("config",sn.measurementId,qr),sn.measurementId})).apply(this,arguments)}class pn{constructor(M){this.app=M}_delete(){return delete Le[this.app.options.appId],Promise.resolve()}}let Le={},Ge=[];const Ku={};let xl,cn,Or="dataLayer",Qu=!1;function _n(D,M,O){!function(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const M=D.map((j,te)=>`(${te+1}) ${j}`).join(" "),O=Xi.create("invalid-analytics-context",{errorInfo:M});On.warn(O.message)}}();const j=D.options.appId;if(!j)throw Xi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Xi.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Le[j])throw Xi.create("already-exists",{id:j});if(!Qu){!function(D){let M=[];Array.isArray(window[D])?M=window[D]:window[D]=M}(Or);const{wrappedGtag:de,gtagCore:De}=function(D,M,O,j,te){let de=function(...De){window[j].push(arguments)};return window[te]&&"function"==typeof window[te]&&(de=window[te]),window[te]=function(D,M,O,j){function de(){return(de=(0,L.Z)(function*(De,je,$e){try{"event"===De?yield Pa(D,M,O,je,$e):"config"===De?yield Na(D,M,O,j,je,$e):D("set",je)}catch(Nt){On.error(Nt)}})).apply(this,arguments)}return function(De,je,$e){return de.apply(this,arguments)}}(de,D,M,O),{gtagCore:de,wrappedGtag:window[te]}}(Le,Ge,Ku,Or,"gtag");cn=de,xl=De,Qu=!0}return Le[j]=function(D,M,O,j,te,de,De){return $o.apply(this,arguments)}(D,Ge,Ku,M,xl,Or,O),new pn(D)}function Nc(){return(Nc=(0,L.Z)(function*(D,M,O,j,te){if(te&&te.global)D("event",O,j);else{const de=yield M;D("event",O,Object.assign(Object.assign({},j),{send_to:de}))}})).apply(this,arguments)}function Mi(){return kh.apply(this,arguments)}function kh(){return(kh=(0,L.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const Rh="@firebase/analytics";(0,ue._registerComponent)(new Q.wA(Oa,(M,{options:O})=>_n(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ue._registerComponent)(new Q.wA("analytics-internal",function(M){try{const O=M.getProvider(Oa).getImmediate();return{logEvent:(j,te,de)=>function(D,M,O,j){D=(0,ae.m9)(D),function(D,M,O,j,te){return Nc.apply(this,arguments)}(cn,Le[D.app.options.appId],M,O,j).catch(te=>On.error(te))}(O,j,te,de)}}catch(O){throw Xi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ue.registerVersion)(Rh,"0.7.4"),(0,ue.registerVersion)(Rh,"0.7.4","esm2017");var $v=F(7771),Lc=F(3637),Pr=F(3342),Vc=F(9673),zg=F(6136);const Oh=new a.GfV("7.2.0"),Ju="__angularfire_symbol__analyticsIsSupported",qs="__angularfire_symbol__remoteConfigIsSupported",Zs="__angularfire_symbol__messagingIsSupported";function Es(D,M,O){if(M){if(1===M.length)return M[0];const de=M.filter(De=>De.app===O);if(1===de.length)return de[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ju]||(globalThis[Ju]=Mi().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Zs]||(globalThis[Zs]=Dh().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[qs]||(globalThis[qs]=Fu().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Ol=(D,M)=>{const O=M?[M]:(0,re.C6)(),j=[];return O.forEach(te=>{te.container.getProvider(D).instances.forEach(De=>{j.includes(De)||j.push(De)})}),j};function ki(){}class Ys{constructor(M,O=$v.N){this.zone=M,this.delegate=O}now(){return this.delegate.now()}schedule(M,O,j){const te=this.zone;return this.delegate.schedule(function(De){te.runGuarded(()=>{M.apply(this,[De])})},O,j)}}class Ph{constructor(M){this.zone=M,this.task=null}call(M,O){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ki,{},ki,ki)),O.pipe((0,Pr.b)({next:j,complete:j,error:j})).subscribe(M).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xu=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ys(Zone.current)),this.insideAngular=O.run(()=>new Ys(Zone.current,Lc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(a.LFG(a.R0b))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function zo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Nn(D){return zo(),function(D){return function(O){return(O=O.lift(new Ph(D.ngZone))).pipe((0,Vc.R)(D.outsideAngular),(0,zg.QV)(D.insideAngular))}}(zo())(D)}},3854:(Ye,we,F)=>{"use strict";F.d(we,{BH:()=>se,LL:()=>Qe,ZR:()=>Ut,zI:()=>ft,US:()=>Q,tV:()=>X,$s:()=>en,r3:()=>dn,Sg:()=>_e,ne:()=>lr,vZ:()=>jt,ZB:()=>$,pd:()=>_s,m9:()=>ku,z$:()=>Se,jU:()=>oe,ru:()=>ye,d:()=>Ve,xb:()=>An,w1:()=>kt,hl:()=>Tn,uI:()=>be,UG:()=>pe,b$:()=>Oe,G6:()=>Et,Mn:()=>Vt,xO:()=>va,zd:()=>Zi,eu:()=>Dt});const ue=function(Y){const G=[];let K=0;for(let Ce=0;Ce<Y.length;Ce++){let le=Y.charCodeAt(Ce);le<128?G[K++]=le:le<2048?(G[K++]=le>>6|192,G[K++]=63&le|128):55296==(64512&le)&&Ce+1<Y.length&&56320==(64512&Y.charCodeAt(Ce+1))?(le=65536+((1023&le)<<10)+(1023&Y.charCodeAt(++Ce)),G[K++]=le>>18|240,G[K++]=le>>12&63|128,G[K++]=le>>6&63|128,G[K++]=63&le|128):(G[K++]=le>>12|224,G[K++]=le>>6&63|128,G[K++]=63&le|128)}return G},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let le=0;le<Y.length;le+=3){const He=Y[le],gt=le+1<Y.length,Ht=gt?Y[le+1]:0,Fn=le+2<Y.length,Ln=Fn?Y[le+2]:0;let yr=(15&Ht)<<2|Ln>>6,No=63&Ln;Fn||(No=64,gt||(yr=64)),Ce.push(K[He>>2],K[(3&He)<<4|Ht>>4],K[yr],K[No])}return Ce.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(ue(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let K=0,Ce=0;for(;K<Y.length;){const le=Y[K++];if(le<128)G[Ce++]=String.fromCharCode(le);else if(le>191&&le<224){const He=Y[K++];G[Ce++]=String.fromCharCode((31&le)<<6|63&He)}else if(le>239&&le<365){const Fn=((7&le)<<18|(63&Y[K++])<<12|(63&Y[K++])<<6|63&Y[K++])-65536;G[Ce++]=String.fromCharCode(55296+(Fn>>10)),G[Ce++]=String.fromCharCode(56320+(1023&Fn))}else{const He=Y[K++],gt=Y[K++];G[Ce++]=String.fromCharCode((15&le)<<12|(63&He)<<6|63&gt)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const K=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let le=0;le<Y.length;){const He=K[Y.charAt(le++)],Ht=le<Y.length?K[Y.charAt(le)]:0;++le;const Ln=le<Y.length?K[Y.charAt(le)]:64;++le;const Bt=le<Y.length?K[Y.charAt(le)]:64;if(++le,null==He||null==Ht||null==Ln||null==Bt)throw Error();Ce.push(He<<2|Ht>>4),64!==Ln&&(Ce.push(Ht<<4&240|Ln>>2),64!==Bt&&Ce.push(Ln<<6&192|Bt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},ee=function(Y){return function(Y){const G=ue(Y);return Q.encodeByteArray(G,!0)}(Y).replace(/\./g,"")},X=function(Y){try{return Q.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function $(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const K in G)!G.hasOwnProperty(K)||!B(K)||(Y[K]=$(Y[K],G[K]));return Y}function B(Y){return"__proto__"!==Y}class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,K)=>{this.resolve=G,this.reject=K})}wrapCallback(G){return(K,Ce)=>{K?this.reject(K):this.resolve(Ce),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(K):G(K,Ce))}}}function _e(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=G||"demo-project",le=Y.iat||0,He=Y.sub||Y.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:le,exp:le+3600,auth_time:le,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(gt)),""].join(".")}function Se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function oe(){return"object"==typeof self&&self.self===self}function ye(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return Se().indexOf("Electron/")>=0}function kt(){const Y=Se();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Vt(){return Se().indexOf("MSAppHost/")>=0}function Et(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tn(){return"object"==typeof indexedDB}function Dt(){return new Promise((Y,G)=>{try{let K=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ce);le.onsuccess=()=>{le.result.close(),K||self.indexedDB.deleteDatabase(Ce),Y(!0)},le.onupgradeneeded=()=>{K=!1},le.onerror=()=>{var He;G((null===(He=le.error)||void 0===He?void 0:He.message)||"")}}catch(K){G(K)}})}function ft(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ut extends Error{constructor(G,K,Ce){super(K),this.code=G,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(G,K,Ce){this.service=G,this.serviceName=K,this.errors=Ce}create(G,...K){const Ce=K[0]||{},le=`${this.service}/${G}`,He=this.errors[G],gt=He?function(Y,G){return Y.replace(eo,(K,Ce)=>{const le=G[Ce];return null!=le?String(le):`<${Ce}?>`})}(He,Ce):"Error";return new Ut(le,`${this.serviceName}: ${gt} (${le}).`,Ce)}}const eo=/\{\$([^}]+)}/g;function dn(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function An(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function jt(Y,G){if(Y===G)return!0;const K=Object.keys(Y),Ce=Object.keys(G);for(const le of K){if(!Ce.includes(le))return!1;const He=Y[le],gt=G[le];if(Mn(He)&&Mn(gt)){if(!jt(He,gt))return!1}else if(He!==gt)return!1}for(const le of Ce)if(!K.includes(le))return!1;return!0}function Mn(Y){return null!==Y&&"object"==typeof Y}function va(Y){const G=[];for(const[K,Ce]of Object.entries(Y))Array.isArray(Ce)?Ce.forEach(le=>{G.push(encodeURIComponent(K)+"="+encodeURIComponent(le))}):G.push(encodeURIComponent(K)+"="+encodeURIComponent(Ce));return G.length?"&"+G.join("&"):""}function Zi(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[le,He]=Ce.split("=");G[decodeURIComponent(le)]=decodeURIComponent(He)}}),G}function _s(Y){const G=Y.indexOf("?");if(!G)return"";const K=Y.indexOf("#",G);return Y.substring(G,K>0?K:void 0)}function lr(Y,G){const K=new qn(Y,G);return K.subscribe.bind(K)}class qn{constructor(G,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{G(this)}).catch(Ce=>{this.error(Ce)})}next(G){this.forEachObserver(K=>{K.next(G)})}error(G){this.forEachObserver(K=>{K.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,K,Ce){let le;if(void 0===G&&void 0===K&&void 0===Ce)throw new Error("Missing Observer.");le=function(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const K of["next","error","complete"])if(K in Y&&"function"==typeof Y[K])return!0;return!1}(G)?G:{next:G,error:K,complete:Ce},void 0===le.next&&(le.next=Yi),void 0===le.error&&(le.error=Yi),void 0===le.complete&&(le.complete=Yi);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(gt){}}),this.observers.push(le),He}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,G)}sendOne(G,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{K(this.observers[G])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yi(){}function en(Y,G=1e3,K=2){const Ce=G*Math.pow(K,Y),le=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+le)}function ku(Y){return Y&&Y._delegate?Y._delegate:Y}},2329:(Ye,we,F)=>{"use strict";F.d(we,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=F(8026);(0,a.registerVersion)("firebase","9.4.1","app")},7841:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>a.Z});var a=F(3394);a.Z.registerVersion("firebase","9.4.1","app-compat")},941:(Ye,we,F)=>{"use strict";F.r(we);var a=F(8239),re=F(3394),L=F(3854),ue=F(8026);function ee(y,p){var g={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&p.indexOf(w)<0&&(g[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(w=Object.getOwnPropertySymbols(y);S<w.length;S++)p.indexOf(w[S])<0&&Object.prototype.propertyIsEnumerable.call(y,w[S])&&(g[w[S]]=y[w[S]])}return g}var Ut=F(5422),Qe=F(3910);const Oo=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ls=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),An=new Ut.Yd("@firebase/auth");function ar(y,...p){An.logLevel<=Ut.in.ERROR&&An.error(`Auth (${ue.SDK_VERSION}): ${y}`,...p)}function jt(y,...p){throw _s(y,...p)}function Mn(y,...p){return _s(y,...p)}function va(y,p,g){const w=Object.assign(Object.assign({},Ls()),{[p]:g});return new L.LL("auth","Firebase",w).create(p,{appName:y.name})}function Zi(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&jt(y,"argument-error"),va(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _s(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return dn.create(y,...p)}function Te(y,p,...g){if(!y)throw _s(p,...g)}function lr(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ar(p),new Error(p)}function qn(y,p){y||lr(p)}const We=new Map;function Zt(y){qn(y instanceof Function,"Expected a class definition");let p=We.get(y);return p?(qn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,We.set(y,p),p)}function tt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function it(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Qt{constructor(p,g){this.shortDelay=p,this.longDelay=g,qn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pe(y,p){qn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Xe{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},no=new Qt(3e4,6e4);function en(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function mt(y,p,g,w){return $r.apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(y,p,g,w,S={}){return ku(y,S,()=>{let k={},q={};w&&("GET"===p?q=w:k={body:JSON.stringify(w)});const ce=(0,L.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Re=new(Xe.headers());return Re.set("Content-Type","application/json"),Re.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Re.set("X-Firebase-Locale",y.languageCode),Xe.fetch()(Ce(y,y.config.apiHost,g,ce),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function ku(y,p,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},xu),p);try{const S=new le(y),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const q=yield k.json();if("needConfirmation"in q)throw He(y,"account-exists-with-different-credential",q);if(k.ok&&!("errorMessage"in q))return q;{const ce=k.ok?q.errorMessage:q.error.message,[Re,Me]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw He(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Re)throw He(y,"email-already-in-use",q);const qe=w[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw va(y,qe,Me);jt(y,qe)}}catch(S){if(S instanceof L.ZR)throw S;jt(y,"network-request-failed")}})).apply(this,arguments)}function G(y,p,g,w){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(y,p,g,w,S={}){const k=yield mt(y,p,g,w,S);return"mfaPendingCredential"in k&&jt(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Ce(y,p,g,w){const S=`${p}${g}?${w}`;return y.config.emulator?Pe(y.config,S):`${y.config.apiScheme}://${S}`}class le{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Mn(this.auth,"timeout")),no.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function He(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=Mn(y,p,w);return S.customData._tokenResponse=g,S}function Ht(){return(Ht=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fn(y,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tr(y,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function yr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Po(){return(Po=(0,a.Z)(function*(y,p=!1){const g=(0,L.m9)(y),w=yield g.getIdToken(p),S=Fo(w);Te(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,q=null==k?void 0:k.sign_in_provider;return{claims:S,token:w,authTime:yr(gc(S.auth_time)),issuedAtTime:yr(gc(S.iat)),expirationTime:yr(gc(S.exp)),signInProvider:q||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function gc(y){return 1e3*Number(y)}function Fo(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return ar("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,L.tV)(g);return S?JSON.parse(S):(ar("Failed to decode base64 JWT payload"),null)}catch(S){return ar("Caught error parsing JWT payload as JSON",S),null}}function Ei(y,p){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&oi(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function oi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Wi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Di{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=yr(this.lastLoginAt),this.creationTime=yr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lo(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),S=yield Ei(y,Tr(g,{idToken:w}));Te(null==S?void 0:S.users.length,g,"internal-error");const k=S.users[0];y._notifyReloadListener(k);const q=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?Gr(k.providerUserInfo):[],ce=tn(y.providerData,q),qe=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==ce?void 0:ce.length)),Ke={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ce,metadata:new Di(k.createdAt,k.lastLoginAt),isAnonymous:qe};Object.assign(y,Ke)})).apply(this,arguments)}function It(){return(It=(0,a.Z)(function*(y){const p=(0,L.m9)(y);yield Lo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function tn(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function Gr(y){return y.map(p=>{var{providerId:g}=p,w=ee(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Vn(){return(Vn=(0,a.Z)(function*(y,p){const g=yield ku(y,{},()=>{const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=y.config,q=Ce(y,S,"/v1/token",`key=${k}`);return Xe.fetch()(q,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Te(p.idToken,"internal-error"),Te(void 0!==p.idToken,"internal-error"),Te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=Fo(y);return Te(p,"internal-error"),Te(void 0!==p.exp,"internal-error"),Te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,a.Z)(function*(){return Te(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,a.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:q}=yield function(y,p){return Vn.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(S,k,Number(q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:S,expirationTime:k}=g,q=new ai;return w&&(Te("string"==typeof w,"internal-error",{appName:p}),q.refreshToken=w),S&&(Te("string"==typeof S,"internal-error",{appName:p}),q.accessToken=S),k&&(Te("number"==typeof k,"internal-error",{appName:p}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ai,this.toJSON())}_performRefresh(){return lr("not implemented")}}function nn(y,p){Te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class li{constructor(p){var{uid:g,auth:w,stsTokenManager:S}=p,k=ee(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new Di(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,a.Z)(function*(){const w=yield Ei(g,g.stsTokenManager.getToken(g.auth,p));return Te(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function(y){return Po.apply(this,arguments)}(this,p)}reload(){return function(y){return It.apply(this,arguments)}(this)}_assign(p){this!==p&&(Te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new li(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,a.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Lo(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,a.Z)(function*(){const g=yield p.getIdToken();return yield Ei(p,function(y,p){return Ht.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,S,k,q,ce,Re,Me,qe;const Ke=null!==(w=g.displayName)&&void 0!==w?w:void 0,Tt=null!==(S=g.email)&&void 0!==S?S:void 0,Kn=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,ta=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Kh=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,gd=null!==(Re=g._redirectEventId)&&void 0!==Re?Re:void 0,g_=null!==(Me=g.createdAt)&&void 0!==Me?Me:void 0,__=null!==(qe=g.lastLoginAt)&&void 0!==qe?qe:void 0,{uid:_d,emailVerified:y_,isAnonymous:v_,providerData:Xp,stsTokenManager:yd}=g;Te(_d&&yd,p,"internal-error");const Qh=ai.fromJSON(this.name,yd);Te("string"==typeof _d,p,"internal-error"),nn(Ke,p.name),nn(Tt,p.name),Te("boolean"==typeof y_,p,"internal-error"),Te("boolean"==typeof v_,p,"internal-error"),nn(Kn,p.name),nn(ta,p.name),nn(Kh,p.name),nn(gd,p.name),nn(g_,p.name),nn(__,p.name);const Jh=new li({uid:_d,auth:p,email:Tt,emailVerified:y_,displayName:Ke,isAnonymous:v_,photoURL:ta,phoneNumber:Kn,tenantId:Kh,stsTokenManager:Qh,createdAt:g_,lastLoginAt:__});return Xp&&Array.isArray(Xp)&&(Jh.providerData=Xp.map(za=>Object.assign({},za))),gd&&(Jh._redirectEventId=gd),Jh}static _fromIdTokenResponse(p,g,w=!1){return(0,a.Z)(function*(){const S=new ai;S.updateFromServerResponse(g);const k=new li({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield Lo(k),k})()}}const ct=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,a.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,a.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,a.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function zr(y,p,g){return`firebase:${y}:${p}:${g}`}class Ii{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=zr(this.userKey,S.apiKey,k),this.fullPersistenceKey=zr("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?li._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,a.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,a.Z)(function*(){if(!g.length)return new Ii(Zt(ct),p,w);const S=(yield Promise.all(g.map(function(){var Me=(0,a.Z)(function*(qe){if(yield qe._isAvailable())return qe});return function(qe){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let k=S[0]||Zt(ct);const q=zr(w,p.config.apiKey,p.name);let ce=null;for(const Me of g)try{const qe=yield Me._get(q);if(qe){const Ke=li._fromJSON(p,qe);Me!==k&&(ce=Ke),k=Me;break}}catch(qe){}const Re=S.filter(Me=>Me._shouldAllowMigration);return k._shouldAllowMigration&&Re.length?(k=Re[0],ce&&(yield k._set(q,ce.toJSON())),yield Promise.all(g.map(function(){var Me=(0,a.Z)(function*(qe){if(qe!==k)try{yield qe._remove(q)}catch(Ke){}});return function(qe){return Me.apply(this,arguments)}}())),new Ii(k,p,w)):new Ii(k,p,w)})()}}function cr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(io(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(wa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ft(p))return"Blackberry";if(lh(p))return"Webos";if(ur(p))return"Safari";if((p.includes("chrome/")||ro(p))&&!p.includes("edge/"))return"Chrome";if(Mr(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function wa(y=(0,L.z$)()){return/firefox\//i.test(y)}function ur(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ro(y=(0,L.z$)()){return/crios\//i.test(y)}function io(y=(0,L.z$)()){return/iemobile/i.test(y)}function Mr(y=(0,L.z$)()){return/android/i.test(y)}function Ft(y=(0,L.z$)()){return/blackberry/i.test(y)}function lh(y=(0,L.z$)()){return/webos/i.test(y)}function Ca(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Vs(y=(0,L.z$)()){return Ca(y)||Mr(y)||lh(y)||Ft(y)||/windows phone/i.test(y)||io(y)}function tr(y,p=[]){let g;switch(y){case"Browser":g=cr((0,L.z$)());break;case"Worker":g=`${cr((0,L.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${w}`}class Pg{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=Zt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var S,k;w._deleted||(w.persistenceManager=yield Ii.create(w,p),!w._deleted&&((null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,a.Z)(function*(){var w;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,q=null==S?void 0:S._redirectEventId,ce=yield g.tryRedirectSignIn(p);(!k||k===q)&&(null==ce?void 0:ce.user)&&(S=ce.user)}return S?S._redirectEventId?(Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,a.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,a.Z)(function*(){try{yield Lo(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&Te(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){if(!g._deleted)return p&&Te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,a.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(Zt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,a.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&Zt(p)||g._popupRedirectResolver;Te(w,g,"argument-error"),g.redirectPersistenceManager=yield Ii.create(g,[Zt(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,a.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,a.Z)(function*(){if(p===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,w,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function fn(y){return(0,L.m9)(y)}class vr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bo(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ki(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class hl{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return lr("not implemented")}_getIdTokenResponse(p){return lr("not implemented")}_linkToIdToken(p,g){return lr("not implemented")}_getReauthenticationResolver(p){return lr("not implemented")}}function uh(y,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:resetPassword",en(y,p))})).apply(this,arguments)}function wp(y,p){return dh.apply(this,arguments)}function dh(){return(dh=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fg(y,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:update",en(y,p))})).apply(this,arguments)}function hh(){return(hh=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithPassword",en(y,p))})).apply(this,arguments)}function Pu(y,p){return fh.apply(this,arguments)}function fh(){return(fh=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:sendOobCode",en(y,p))})).apply(this,arguments)}function Lg(y,p){return ph.apply(this,arguments)}function ph(){return(ph=(0,a.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function Vg(y,p){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,a.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function mh(y,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,a.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function yc(y,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(y,p){return Pu(y,p)})).apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithEmailLink",en(y,p))})).apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithEmailLink",en(y,p))})).apply(this,arguments)}class gl extends hl{constructor(p,g,w,S=null){super("password",w),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new gl(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new gl(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return hh.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return ml.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:jt(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return wp(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(y,p){return vs.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:jt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Zn(y,p){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithIdp",en(y,p))})).apply(this,arguments)}class xr extends hl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new xr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):jt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=g,k=ee(g,["providerId","signInMethod"]);if(!w||!S)return null;const q=new xr(w,S);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(p){return Zn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Zn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Zn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function bs(y,p){return vc.apply(this,arguments)}function vc(){return(vc=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:sendVerificationCode",en(y,p))})).apply(this,arguments)}function wc(){return(wc=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,p))})).apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(y,p){const g=yield G(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,p));if(g.temporaryProof)throw He(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yl={USER_NOT_FOUND:"user-not-found"};function Ia(){return(Ia=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),yl)})).apply(this,arguments)}class Uo extends hl{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Uo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Uo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return wc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return ci.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return Ia.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}=p;return w||g||S||k?new Uo({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class rn{constructor(p){var g,w,S,k,q,ce;const Re=(0,L.zd)((0,L.pd)(p)),Me=null!==(g=Re.apiKey)&&void 0!==g?g:null,qe=null!==(w=Re.oobCode)&&void 0!==w?w:null,Ke=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);Te(Me&&qe&&Ke,"argument-error"),this.apiKey=Me,this.operation=Ke,this.code=qe,this.continueUrl=null!==(k=Re.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=Re.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ce=Re.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||p||y}(p);try{return new rn(g)}catch(w){return null}}}let ws=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return gl._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=rn.parseLink(w);return Te(S,"argument-error"),gl._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ji{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Jt extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Sa extends Jt{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),xr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Te(p.idToken||p.accessToken,"argument-error"),xr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Sa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Sa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:q,providerId:ce}=p;if(!w&&!S&&!g&&!k||!ce)return null;try{return new Sa(ce)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:k})}catch(Re){return null}}}let Cc=(()=>{class y extends Jt{constructor(){super("facebook.com")}static credential(g){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),jo=(()=>{class y extends Jt{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return y.credential(w,S)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ui=(()=>{class y extends Jt{constructor(){super("github.com")}static credential(g){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class oo extends hl{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Zn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Zn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Zn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:k}=g;return w&&S&&k&&w===S?new oo(w,k):null}static _create(p,g){return new oo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class br extends Ji{constructor(p){Te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return br.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return br.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=oo.fromJSON(p);return Te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return oo._create(w,g)}catch(S){return null}}}let Ec=(()=>{class y extends Jt{constructor(){super("twitter.com")}static credential(g,w){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return y.credential(w,S)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Dc(y,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signUp",en(y,p))})).apply(this,arguments)}class Bn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,S=!1){return(0,a.Z)(function*(){const k=yield li._fromIdTokenResponse(p,w,S),q=vl(w);return new Bn({user:k,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=vl(w);return new Bn({user:p,providerId:S,_tokenResponse:w,operationType:g})})()}}function vl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function at(){return(at=(0,a.Z)(function*(y){var p;const g=fn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Bn({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Dc(g,{returnSecureToken:!0}),S=yield Bn._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ic extends L.ZR{constructor(p,g,w,S){var k;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,S){return new Ic(p,g,w,S)}}function vh(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ic._fromErrorAndOperation(y,k,p,w):k})}function Sc(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function wl(){return(wl=(0,a.Z)(function*(y,p){const g=(0,L.m9)(y);yield Ee(!0,g,p);const{providerUserInfo:w}=yield Fn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=Sc(w||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Vu(y,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(y,p,g=!1){const w=yield Ei(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Bn._forOperation(y,"link",w)})).apply(this,arguments)}function Ee(y,p,g){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(y,p,g){yield Lo(p);const S=!1===y?"provider-already-linked":"no-such-provider";Te(Sc(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Tc(y,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(y,p,g=!1){const{auth:w}=y,S="reauthenticate";try{const k=yield Ei(y,vh(w,S,p,y),g);Te(k.idToken,w,"internal-error");const q=Fo(k.idToken);Te(q,w,"internal-error");const{sub:ce}=q;return Te(y.uid===ce,w,"user-mismatch"),Bn._forOperation(y,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&jt(w,"user-mismatch"),k}})).apply(this,arguments)}function Ac(y,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(y,p,g=!1){const w="signIn",S=yield vh(y,w,p),k=yield Bn._fromIdTokenResponse(y,w,S);return g||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function kr(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(y,p){return Ac(fn(y),p)})).apply(this,arguments)}function Cl(y,p){return wh.apply(this,arguments)}function wh(){return(wh=(0,a.Z)(function*(y,p){const g=(0,L.m9)(y);return yield Ee(!1,g,p.providerId),Vu(g,p)})).apply(this,arguments)}function Bu(y,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(y,p){return Tc((0,L.m9)(y),p)})).apply(this,arguments)}function Ma(y,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithCustomToken",en(y,p))})).apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(y,p){const g=fn(y),w=yield Ma(g,{token:p,returnSecureToken:!0}),S=yield Bn._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ti{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Rr._fromServerResponse(p,g):jt(p,"internal-error")}}class Rr extends Ti{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Rr(g)}}function Uu(y,p,g){var w;Te((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),Te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Dl(){return(Dl=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&Uu(w,S,g),yield Vg(w,S)})).apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(y,p,g){yield uh((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(y,p){yield Fg((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function xa(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(y,p){const g=(0,L.m9)(y),w=yield uh(g,{oobCode:p}),S=w.requestType;switch(Te(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(w.mfaInfo,g,"internal-error");default:Te(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=Ti._fromServerResponse(fn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(y,p){const{data:g}=yield xa((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function $u(){return($u=(0,a.Z)(function*(y,p,g){const w=fn(y),S=yield Dc(w,{returnSecureToken:!0,email:p,password:g}),k=yield Bn._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};Te(g.handleCodeInApp,w,"argument-error"),g&&Uu(w,S,g),yield mh(w,S)})).apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y),S=ws.credentialWithLink(p,g||tt());return Te(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),kr(w,S)})).apply(this,arguments)}function Ra(y,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:createAuthUri",en(y,p))})).apply(this,arguments)}function Ip(){return(Ip=(0,a.Z)(function*(y,p){const w={identifier:p,continueUri:it()?tt():"http://localhost"},{signinMethods:S}=yield Ra((0,L.m9)(y),w);return S||[]})).apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(y,p){const g=(0,L.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Uu(g.auth,S,p);const{email:k}=yield Lg(g.auth,S);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Uu(w.auth,k,g);const{email:q}=yield yc(w.auth,k);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function kc(y,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(y,p){return mt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,L.m9)(y),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield Ei(w,kc(w.auth,k));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ce=w.providerData.find(({providerId:Re})=>"password"===Re);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function js(y,p,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(y,p,g){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const q=yield Ei(y,wp(w,k));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Pa{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class ho extends Pa{constructor(p,g,w,S){super(p,g,w),this.username=S}}class Zu extends Pa{constructor(p,g){super(p,"facebook.com",g)}}class Yu extends ho{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class jg extends Pa{constructor(p,g){super(p,"google.com",g)}}class Hg extends ho{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Xi(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const q=null===(g=null===(p=Fo(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new Pa(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Zu(k,S);case"github.com":return new Yu(k,S);case"google.com":return new jg(k,S);case"twitter.com":return new Hg(k,S,y.screenName||null);case"custom":case"anonymous":return new Pa(k,null);default:return new Pa(k,w,S)}}(g)}class di{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new di("enroll",p)}static _fromMfaPendingCredential(p){return new di("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return di._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return di._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Al{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=fn(p),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(ce=>Ti._fromServerResponse(w,ce));Te(S.mfaPendingCredential,w,"internal-error");const q=di._fromMfaPendingCredential(S.mfaPendingCredential);return new Al(q,k,function(){var ce=(0,a.Z)(function*(Re){const Me=yield Re._process(w,q);delete S.mfaInfo,delete S.mfaPendingCredential;const qe=Object.assign(Object.assign({},S),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(g.operationType){case"signIn":const Ke=yield Bn._fromIdTokenResponse(w,g.operationType,qe);return yield w._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return Te(g.user,w,"internal-error"),Bn._forOperation(g.user,g.operationType,qe);default:jt(w,"internal-error")}});return function(Re){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,a.Z)(function*(){return g.signInResolver(p)})()}}function Hv(y,p){return mt(y,"POST","/v2/accounts/mfaEnrollment:start",en(y,p))}class Mh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Ti._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Mh(p)}getSession(){var p=this;return(0,a.Z)(function*(){return di._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,a.Z)(function*(){const S=p,k=yield w.getSession(),q=yield Ei(w.user,S._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(p){var g=this;return(0,a.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),k=yield Ei(g.user,function(y,p){return mt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",en(y,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Oc=new WeakMap,$o="__sak";class pn{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem($o,"1"),this.storage.removeItem($o),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const $s=(()=>{class y extends pn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,L.z$)();return ur(y)||Ca(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Vs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&g(w,k,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ce,Re,Me)=>{this.notifyListeners(ce,Me)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(S);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const k=()=>{const ce=this.storage.getItem(S);!w&&this.localCache[S]===ce||this.notifyListeners(S,ce)},q=this.storage.getItem(S);(0,L.w1)()&&10===document.documentMode&&q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,k=this;return(0,a.Z)(function*(){yield S().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,a.Z)(function*(){const k=yield w().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,S=this;return(0,a.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),cn=(()=>{class y extends pn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let $g=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,a.Z)(function*(){const S=g,{eventId:k,eventType:q,data:ce}=S.data,Re=w.handlersMap[q];if(!(null==Re?void 0:Re.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:q});const Me=Array.from(Re).map(function(){var Ke=(0,a.Z)(function*(Tt){return Tt(S.origin,ce)});return function(Tt){return Ke.apply(this,arguments)}}()),qe=yield function(y){return Promise.all(y.map(function(){var p=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Me);S.ports[0].postMessage({status:"done",eventId:k,eventType:q,response:qe})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function po(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class _n{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var S=this;return(0,a.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,ce;return new Promise((Re,Me)=>{const qe=po("",20);k.port1.start();const Ke=setTimeout(()=>{Me(new Error("unsupported_event"))},w);ce={messageChannel:k,onMessage(Tt){const Kn=Tt;if(Kn.data.eventId===qe)switch(Kn.data.status){case"ack":clearTimeout(Ke),q=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Re(Kn.data.response);break;default:clearTimeout(Ke),clearTimeout(q),Me(new Error("invalid_response"))}}},S.handlers.add(ce),k.port1.addEventListener("message",ce.onMessage),S.target.postMessage({eventType:p,eventId:qe,data:g},[k.port2])}).finally(()=>{ce&&S.removeMessageHandler(ce)})})()}}function Wn(){return window}function kl(){return void 0!==Wn().WorkerGlobalScope&&"function"==typeof Wn().importScripts}function Pc(){return(Pc=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ai="firebaseLocalStorageDb",es="firebaseLocalStorage",mo="fbase_key";class Nr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Mi(y,p){return y.transaction([es],p?"readwrite":"readonly").objectStore(es)}function nt(){const y=indexedDB.open(Ai,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(es,{keyPath:mo})}catch(S){g(S)}}),y.addEventListener("success",(0,a.Z)(function*(){const w=y.result;w.objectStoreNames.contains(es)?p(w):(w.close(),yield function(){const y=indexedDB.deleteDatabase(Ai);return new Nr(y).toPromise()}(),p(yield nt()))}))})}function xi(y,p,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(y,p,g){const w=Mi(y,!0).put({[mo]:p,value:g});return new Nr(w).toPromise()})).apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(y,p){const g=Mi(y,!1).get(p),w=yield new Nr(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Rh(y,p){const g=Mi(y,!0).delete(p);return new Nr(g).toPromise()}const Lc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield nt()),g.db})()}_withRetries(g){var w=this;return(0,a.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return kl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=$g._getInstance(kl()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function(){return Pc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new _n(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield nt();return yield xi(g,$o,"1"),yield Rh(g,$o),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(k=>xi(k,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,a.Z)(function*(){const S=yield w._withRetries(k=>function(y,p){return yn.apply(this,arguments)}(k,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(S=>Rh(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const w=yield g._withRetries(q=>{const ce=Mi(q,!1).getAll();return new Nr(ce).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:q,value:ce}of w)k.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ce)&&(g.notifyListeners(q,ce),S.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!k.has(q)&&(g.notifyListeners(q,null),S.push(q));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Pr(y,p){return mt(y,"POST","/v2/accounts/mfaSignIn:start",en(y,p))}function Oh(){return(Oh=(0,a.Z)(function*(y){return(yield mt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ju(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const k=Mn("internal-error");k.customData=S,g(k)},w.type="text/javascript",w.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Go(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Zs=1e12;class Hn{constructor(p){this.auth=p,this.counter=Zs,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Bc(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Zs;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Zs))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,a.Z)(function*(){var w;return null===(w=g._widgets.get(p||Zs))||void 0===w||w.execute(),""})()}}class Bc{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Te(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hi=Go("rcb"),Es=new Qt(3e4,6e4);class ki{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wn().grecaptcha}load(p,g=""){return Te((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Wn().grecaptcha):new Promise((w,S)=>{const k=Wn().setTimeout(()=>{S(Mn(p,"network-request-failed"))},Es.get());Wn()[hi]=()=>{Wn().clearTimeout(k),delete Wn()[hi];const ce=Wn().grecaptcha;if(!ce)return void S(Mn(p,"internal-error"));const Re=ce.render;ce.render=(Me,qe)=>{const Ke=Re(Me,qe);return this.counter++,Ke},this.hostLanguage=g,w(ce)},Ju(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:hi,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(Mn(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Wn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ph{load(p){return(0,a.Z)(function*(){return new Hn(p)})()}clearedOneInstance(){}}const Xu="recaptcha",zo={theme:"light",type:"image"};class qg{constructor(p,g=Object.assign({},zo),w){this.parameters=g,this.type=Xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(w),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ph:new ki,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const q=ce=>{!ce||(p.tokenChangeListeners.delete(q),k(ce))};p.tokenChangeListeners.add(q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Wn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){Te(it()&&!kl(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return Oh.apply(this,arguments)}(p.auth);Te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ed{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Uo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Nn(){return(Nn=(0,a.Z)(function*(y,p,g){const w=fn(y),S=yield M(w,p,(0,L.m9)(g));return new ed(S,k=>kr(w,k))})).apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y);yield Ee(!1,w,"phone");const S=yield M(w.auth,p,(0,L.m9)(g));return new ed(S,k=>Cl(w,k))})).apply(this,arguments)}function D(){return(D=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y),S=yield M(w.auth,p,(0,L.m9)(g));return new ed(S,k=>Bu(w,k))})).apply(this,arguments)}function M(y,p,g){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(y,p,g){var w;const S=yield g.verify();try{let k;if(Te("string"==typeof S,y,"argument-error"),Te(g.type===Xu,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const q=k.session;if("phoneNumber"in k)return Te("enroll"===q.type,y,"internal-error"),(yield Hv(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Te("signin"===q.type,y,"internal-error");const ce=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Te(ce,y,"missing-multi-factor-info"),(yield Pr(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield bs(y,{phoneNumber:k.phoneNumber,recaptchaToken:S});return q}}finally{g._reset()}})).apply(this,arguments)}function te(){return(te=(0,a.Z)(function*(y,p){yield Vu((0,L.m9)(y),p)})).apply(this,arguments)}let de=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=fn(g)}verifyPhoneNumber(g,w){return M(this.auth,g,(0,L.m9)(w))}static credential(g,w){return Uo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?Uo._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function De(y,p){return p?Zt(p):(Te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class je extends hl{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Zn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Zn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Zn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function $e(y){return Ac(y.auth,new je(y),y.bypassAuthState)}function Nt(y){const{auth:p,user:g}=y;return Te(g,p,"internal-error"),Tc(g,new je(y),y.bypassAuthState)}function sn(y){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(y){const{auth:p,user:g}=y;return Te(g,p,"internal-error"),Vu(g,new je(y),y.bypassAuthState)})).apply(this,arguments)}class qr{constructor(p,g,w,S,k=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,a.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:q,error:ce,type:Re}=p;if(ce)return void g.reject(ce);const Me={auth:g.auth,requestUri:w,sessionId:S,tenantId:q||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Re)(Me))}catch(qe){g.reject(qe)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $e;case"linkViaPopup":case"linkViaRedirect":return sn;case"reauthViaPopup":case"reauthViaRedirect":return Nt;default:jt(this.auth,"internal-error")}}resolve(p){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rr=new Qt(2e3,1e4);function Zo(){return(Zo=(0,a.Z)(function*(y,p,g){const w=fn(y);Zi(y,p,Ji);const S=De(w,g);return new Rp(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y);Zi(w.auth,p,Ji);const S=De(w.auth,g);return new Rp(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y);Zi(w.auth,p,Ji);const S=De(w.auth,g);return new Rp(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Rp=(()=>{class y extends qr{constructor(g,w,S,k,q){super(g,w,k,q),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const w=yield g.execute();return Te(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,a.Z)(function*(){qn(1===g.filter.length,"Popup operations only handle one event");const w=po();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Mn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,rr.get())};g()}}return y.currentPopupAction=null,y})();const Hc=new Map;class Op extends qr{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,a.Z)(function*(){let w=Hc.get(g.auth._key());if(!w){try{const k=(yield function(y,p){return Pl.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}Hc.set(g.auth._key(),w)}return g.bypassAuthState||Hc.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Pl(){return(Pl=(0,a.Z)(function*(y,p){const g=Va(p),w=Zg(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Np(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.Z)(function*(y,p){return Zg(y)._set(Va(p),"true")})).apply(this,arguments)}function Zg(y){return Zt(y._redirectPersistence)}function Va(y){return zr("pendingRedirect",y.config.apiKey,y.name)}function hr(){return(hr=(0,a.Z)(function*(y,p,g){const w=fn(y);Zi(y,p,Ji);const S=De(w,g);return yield Np(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function $c(){return($c=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y);Zi(w.auth,p,Ji);const S=De(w.auth,g);yield Np(S,w.auth);const k=yield Fl(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Lh(){return(Lh=(0,a.Z)(function*(y,p,g){const w=(0,L.m9)(y);Zi(w.auth,p,Ji);const S=De(w.auth,g);yield Ee(!1,w,p.providerId),yield Np(S,w.auth);const k=yield Fl(w);return S._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(y,p){return yield fn(y)._initializationPromise,Wo(y,p,!1)})).apply(this,arguments)}function Wo(y,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,a.Z)(function*(y,p,g=!1){const w=fn(y),S=De(w,p),q=yield new Op(w,S,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,p)),q})).apply(this,arguments)}function Fl(y){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(y){const p=po(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class qv{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kg(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Kg(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Mn(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ua(p))}saveEventToCache(p){this.cachedEventUids.add(Ua(p)),this.lastProcessedEventTime=Date.now()}}function Ua(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Kg({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function zc(y){return rd.apply(this,arguments)}function rd(){return(rd=(0,a.Z)(function*(y,p={}){return mt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ko=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,id=/^https?/;function sd(){return(sd=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield zc(y);for(const g of p)try{if(Vh(g))return}catch(w){}jt(y,"unauthorized-domain")})).apply(this,arguments)}function Vh(y){const p=tt(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!id.test(g))return!1;if(Ko.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const od=new Qt(3e4,6e4);function qc(){const y=Wn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Zc=null;function Ll(y){return Zc=Zc||function(y){return new Promise((p,g)=>{var w,S,k;function q(){qc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{qc(),g(Mn(y,"network-request-failed"))},timeout:od.get()})}if(null===(S=null===(w=Wn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=Wn().gapi)||void 0===k?void 0:k.load)){const ce=Go("iframefcb");return Wn()[ce]=()=>{gapi.load?q():g(Mn(y,"network-request-failed"))},Ju(`https://apis.google.com/js/api.js?onload=${ce}`)}q()}}).catch(p=>{throw Zc=null,p})}(y),Zc}const Zv=new Qt(5e3,15e3),Wv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qo(y){const p=y.config;Te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Pe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ue.SDK_VERSION},S=Kv.get(y.config.apiHost);S&&(w.eid=S);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function Uh(){return(Uh=(0,a.Z)(function*(y){const p=yield Ll(y),g=Wn().gapi;return Te(g,y,"internal-error"),p.open({where:document.body,url:Qo(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wv,dontclear:!0},w=>new Promise(function(){var S=(0,a.Z)(function*(k,q){yield w.restyle({setHideOnLeave:!1});const ce=Mn(y,"network-request-failed"),Re=Wn().setTimeout(()=>{q(ce)},Zv.get());function Me(){Wn().clearTimeout(Re),k(w)}w.ping(Me).then(Me,()=>{q(ce)})});return function(k,q){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Jg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function t_(y,p,g,w,S,k){Te(y.config.authDomain,y,"auth-domain-config-required"),Te(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ue.SDK_VERSION,eventId:S};if(p instanceof Ji){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Re,Me]of Object.entries(k||{}))q[Re]=Me}if(p instanceof Jt){const Re=p.getScopes().filter(Me=>""!==Me);Re.length>0&&(q.scopes=Re.join(","))}y.tenantId&&(q.tid=y.tenantId);const ce=q;for(const Re of Object.keys(ce))void 0===ce[Re]&&delete ce[Re];return`${function({config:y}){return y.emulator?Pe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ce).slice(1)}`}const ja="webStorageSupport";class Wc extends class{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return lr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Wc(p)}_finalizeEnroll(p,g,w){return function(y,p){return mt(y,"POST","/v2/accounts/mfaEnrollment:finalize",en(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return mt(y,"POST","/v2/accounts/mfaSignIn:finalize",en(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let n_=(()=>{class y{constructor(){}static assertion(g){return Wc._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Kc="@firebase/auth";class UE{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function is(){return window}function cd(){return(cd=(0,a.Z)(function*(y,p,g){var w;const{BuildInfo:S}=is();qn(p.sessionId,"AuthEvent did not contain a session ID");const k=yield hd(p.sessionId),q={};return Ca()?q.ibi=S.packageName:Mr()?q.apn=S.packageName:jt(y,"operation-not-supported-in-this-environment"),S.displayName&&(q.appDisplayName=S.displayName),q.sessionId=k,t_(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function ud(){return(ud=(0,a.Z)(function*(y){const{BuildInfo:p}=is(),g={};Ca()?g.iosBundleId=p.packageName:Mr()?g.androidPackageName=p.packageName:jt(y,"operation-not-supported-in-this-environment"),yield zc(y,g)})).apply(this,arguments)}function Gh(){return(Gh=(0,a.Z)(function*(y,p,g){const{cordova:w}=is();let S=()=>{};try{yield new Promise((k,q)=>{let ce=null;function Re(){var Ke;k();const Tt=null===(Ke=w.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof Tt&&Tt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Me(){ce||(ce=window.setTimeout(()=>{q(Mn(y,"redirect-cancelled-by-user"))},2e3))}function qe(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}p.addPassiveListener(Re),document.addEventListener("resume",Me,!1),Mr()&&document.addEventListener("visibilitychange",qe,!1),S=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",qe,!1),ce&&window.clearTimeout(ce)}})}finally{S()}})).apply(this,arguments)}function hd(y){return fd.apply(this,arguments)}function fd(){return(fd=(0,a.Z)(function*(y){const p=jp(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function jp(y){if(qn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}y="Browser",(0,ue._registerComponent)(new Qe.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:k}=w.options;return(q=>{Te(S&&!S.includes(":"),"invalid-api-key",{appName:q.name}),Te(!(null==k?void 0:k.includes(":")),"argument-error",{appName:q.name});const ce={apiKey:S,authDomain:k,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(y)},Re=new Pg(q,ce);return function(y,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(Zt);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Re,g),Re})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Qe.wA("auth-internal",p=>{const g=fn(p.getProvider("auth").getImmediate());return new UE(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Kc,"0.19.3",void 0),(0,ue.registerVersion)(Kc,"0.19.3","esm2017");class s_ extends qv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function $p(y){return zh.apply(this,arguments)}function zh(){return(zh=(0,a.Z)(function*(y){const p=yield go()._get(zp(y));return p&&(yield go()._remove(zp(y))),p})).apply(this,arguments)}function Gp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function go(){return Zt($s)}function zp(y){return zr("authEvent",y.config.apiKey,y.name)}function Ha(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function Ul(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mn("no-auth-event")}}function eu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Yp(y=(0,L.z$)()){return!("file:"!==eu()&&"ionic:"!==eu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function a_(){try{const y=self.localStorage,p=po();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return Kp()&&(0,L.hl)()}return!1}function Kp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zh(){return("http:"===eu()||"https:"===eu()||(0,L.ru)()||Yp())&&!((0,L.b$)()||(0,L.UG)())&&a_()&&!Kp()}function jl(){return Yp()&&"undefined"!=typeof document}function Yh(){return(Yh=(0,a.Z)(function*(){return!!jl()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},Hl=Te,$a="persistence";function Jp(y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(y){yield y._initializationPromise;const p=c_(),g=zr($a,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function c_(){return"undefined"!=typeof window?window:null}const ob=Te;class _o{constructor(){this.browserResolver=Zt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cn,this._completeRedirectFn=Wo}_openPopup(p,g,w,S){var k=this;return(0,a.Z)(function*(){var q;qn(null===(q=k.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ce=t_(p,g,w,tt(),S);return function(y,p,g,w=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Re=Object.assign(Object.assign({},Jg),{width:w.toString(),height:S.toString(),top:k,left:q}),Me=(0,L.z$)().toLowerCase();g&&(ce=ro(Me)?"_blank":g),wa(Me)&&(p=p||"http://localhost",Re.scrollbars="yes");const qe=Object.entries(Re).reduce((Tt,[Kn,ta])=>`${Tt}${Kn}=${ta},`,"");if(function(y=(0,L.z$)()){var p;return Ca(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Me)&&"_self"!==ce)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ce),new jh(null);const Ke=window.open(p||"",ce,qe);Te(Ke,y,"popup-blocked");try{Ke.focus()}catch(Tt){}return new jh(Ke)}(p,ce,po())})()}_openRedirect(p,g,w,S){var k=this;return(0,a.Z)(function*(){return yield k._originValidation(p),y=t_(p,g,w,tt(),S),Wn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(qn(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w}initAndGetManager(p){var g=this;return(0,a.Z)(function*(){const w=yield function(y){return Uh.apply(this,arguments)}(p),S=new qv(p);return w.register("authEvent",k=>(Te(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ja,{type:ja},S=>{var k;const q=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[ja];void 0!==q&&g(!!q),jt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return sd.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Vs()||ur()||Ca()}}),this.cordovaResolver=Zt(class{constructor(){this._redirectPersistence=cn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wo}_initialize(p){var g=this;return(0,a.Z)(function*(){const w=p._key();let S=g.eventManagers.get(w);return S||(S=new s_(p),g.eventManagers.set(w,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){jt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,S){var k=this;return(0,a.Z)(function*(){!function(y){var p,g,w,S,k,q,ce,Re,Me,qe;const Ke=is();Te("function"==typeof(null===(p=null==Ke?void 0:Ke.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(g=null==Ke?void 0:Ke.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(k=null===(S=null===(w=null==Ke?void 0:Ke.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Re=null===(ce=null===(q=null==Ke?void 0:Ke.cordova)||void 0===q?void 0:q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(qe=null===(Me=null==Ke?void 0:Ke.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===qe?void 0:qe.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield k._initialize(p);yield q.initialized(),q.resetRedirect(),Hc.clear(),yield k._originValidation(p);const ce=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Gp(),postBody:null,tenantId:y.tenantId,error:Mn(y,"no-auth-event")}}(p,w,S);yield function(y,p){return go()._set(zp(y),p)}(p,ce);const Re=yield function(y,p,g){return cd.apply(this,arguments)}(p,ce,g),Me=yield function(y){const{cordova:p}=is();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Re);return function(y,p,g){return Gh.apply(this,arguments)}(p,q,Me)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return ud.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:k}=is(),q=setTimeout((0,a.Z)(function*(){yield $p(p),g.onEvent(Ul())}),500),ce=function(){var qe=(0,a.Z)(function*(Ke){clearTimeout(q);const Tt=yield $p(p);let Kn=null;Tt&&(null==Ke?void 0:Ke.url)&&(Kn=function(y,p){var g,w;const S=function(y){const p=Ha(y),g=p.link?decodeURIComponent(p.link):void 0,w=Ha(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ha(S).link||S||w||g||y}(p);if(S.includes("/__/auth/callback")){const k=Ha(S),q=k.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,ce=null===(w=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Re=ce?Mn(ce):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Tt,Ke.url)),g.onEvent(Kn||Ul())});return function(Tt){return qe.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Re=S,Me=`${k.packageName.toLowerCase()}://`;is().handleOpenURL=function(){var qe=(0,a.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(Me)&&ce({url:Ke}),"function"==typeof Re)try{Re(Ke)}catch(Tt){console.error(Tt)}});return function(Ke){return qe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=cn,this._completeRedirectFn=Wo}_initialize(p){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,S){var k=this;return(0,a.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,w,S)})()}_openRedirect(p,g,w,S){var k=this;return(0,a.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,w,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return jl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ob(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Yh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function u_(y){return y.unwrap()}function pi(y){return h_(y)}function h_(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return de.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=jo;break;case"facebook.com":w=Cc;break;case"github.com":w=ui;break;case"twitter.com":w=Ec;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:q,pendingToken:ce,nonce:Re}=p;return k||q||S||ce?ce?g.startsWith("saml.")?oo._create(g,ce):xr._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:S,accessToken:k}):new Sa(g).credential({idToken:S,accessToken:k,rawNonce:Re}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Lr(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new f_(y,function(y,p){var g;const w=(0,L.m9)(y),S=p;return Te(p.customData.operationType,w,"argument-error"),Te(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Al._fromError(w,S)}(y,p));else if(w){const S=h_(p),k=p;S&&(k.credential=S,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:pi(g),additionalUserInfo:Xi(g),user:Xo.getOrCreate(S)}})}function Wh(y,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,a.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Lr(y,g.confirm(w))}})).apply(this,arguments)}class f_{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Lr(u_(this.auth),this.resolver.resolveSignIn(p))}}class Xo{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,L.m9)(y);return Oc.has(p)||Oc.set(p,Mh._fromUser(p)),Oc.get(p)}(p)}static getOrCreate(p){return Xo.USER_MAP.has(p)||Xo.USER_MAP.set(p,new Xo(p)),Xo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,Cl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,a.Z)(function*(){return Wh(w.auth,function(y,p,g){return Cn.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,function(y,p,g){return dt.apply(this,arguments)}(g._delegate,p,_o))})()}linkWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Jp(fn(g.auth)),function(y,p,g){return function(y,p,g){return Lh.apply(this,arguments)}(y,p,g)}(g._delegate,p,_o)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,Bu(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Wh(this.auth,function(y,p,g){return D.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Lr(this.auth,function(y,p,g){return ts.apply(this,arguments)}(this._delegate,p,_o))}reauthenticateWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Jp(fn(g.auth)),function(y,p,g){return function(y,p,g){return $c.apply(this,arguments)}(y,p,g)}(g._delegate,p,_o)})()}sendEmailVerification(p){return function(y,p){return Oa.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,a.Z)(function*(){return yield function(y,p){return wl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return js((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return js((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return te.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return On.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return co.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xo.USER_MAP=new WeakMap;const ea=Te;let p_=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;ea(S,"invalid-api-key",{appName:g.name});let k=[ct];if("undefined"!=typeof window){k=function(y,p){const g=c_();if(!(null==g?void 0:g.sessionStorage))return[];const w=zr($a,y,p);switch(g.sessionStorage.getItem(w)){case Zr.NONE:return[ct];case Zr.LOCAL:return[Lc,cn];case Zr.SESSION:return[cn];default:return[]}}(S,g.name);for(const ce of[Lc,$s,cn])k.includes(ce)||k.push(ce)}ea(S,"invalid-api-key",{appName:g.name});const q="undefined"!=typeof window?_o:void 0;this._delegate=w.initialize({options:{persistence:k,popupRedirectResolver:q}}),this._delegate._updateErrorMap(Oo),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(y,p,g){const w=fn(y);Te(w._canInitEmulator,w,"emulator-config-failed"),Te(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),k=Bo(p),{host:q,port:ce}=function(y){const p=Bo(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:Ki(w.substr(k.length+1))}}{const[k,q]=w.split(":");return{host:k,port:Ki(q)}}}(p);w.config.emulator={url:`${k}//${q}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ce,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function(y,p){return xc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return xa(this._delegate,g)}confirmPasswordReset(g,w){return function(y,p,g){return Il.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,a.Z)(function*(){return Lr(S._delegate,function(y,p,g){return $u.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return Ip.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=rn.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){ea(Zh(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(y,p){return Yo.apply(this,arguments)}(g._delegate,_o);return w?Lr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){fn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:k,error:q,complete:ce}=$l(g,w,S);return this._delegate.onAuthStateChanged(k,q,ce)}onIdTokenChanged(g,w,S){const{next:k,error:q,complete:ce}=$l(g,w,S);return this._delegate.onIdTokenChanged(k,q,ce)}sendSignInLinkToEmail(g,w){return function(y,p,g){return Us.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(y,p,g){return Dl.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,a.Z)(function*(){let S;switch(function(y,p){Hl(Object.values(Zr).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Hl(p!==Zr.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Hl(p===Zr.NONE,y,"unsupported-persistence-type"):Kp()?Hl(p===Zr.NONE||p===Zr.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Hl(p===Zr.NONE||a_(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Zr.SESSION:S=cn;break;case Zr.LOCAL:S=(yield Zt(Lc)._isAvailable())?Lc:$s;break;case Zr.NONE:S=ct;break;default:return jt("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lr(this._delegate,function(y){return at.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lr(this._delegate,kr(this._delegate,g))}signInWithCustomToken(g){return Lr(this._delegate,function(y,p){return El.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Lr(this._delegate,function(y,p,g){return kr((0,L.m9)(y),ws.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Lr(this._delegate,function(y,p,g){return nr.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Wh(this._delegate,function(y,p,g){return Nn.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,a.Z)(function*(){return ea(Zh(),w._delegate,"operation-not-supported-in-this-environment"),Lr(w._delegate,function(y,p,g){return Zo.apply(this,arguments)}(w._delegate,g,_o))})()}signInWithRedirect(g){var w=this;return(0,a.Z)(function*(){return ea(Zh(),w._delegate,"operation-not-supported-in-this-environment"),yield Jp(w._delegate),function(y,p,g){return function(y,p,g){return hr.apply(this,arguments)}(y,p,g)}(w._delegate,g,_o)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return Ho.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zr,y})();function $l(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const S=w;return{next:q=>S(q&&Xo.getOrCreate(q)),error:p,complete:g}}class Is{constructor(){this.providerId="phone",this._delegate=new de(u_(re.Z.auth()))}static credential(p,g){return de.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Is.PHONE_SIGN_IN_METHOD=de.PHONE_SIGN_IN_METHOD,Is.PROVIDER_ID=de.PROVIDER_ID;const $E=Te;class GE{constructor(p,g,w=re.Z.app()){var S;$E(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new qg(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Qe.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new p_(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ws,FacebookAuthProvider:Cc,GithubAuthProvider:ui,GoogleAuthProvider:jo,OAuthProvider:Sa,SAMLAuthProvider:br,PhoneAuthProvider:Is,PhoneMultiFactorGenerator:n_,RecaptchaVerifier:GE,TwitterAuthProvider:Ec,Auth:p_,AuthCredential:hl,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(re.Z)},6676:function(Ye,we){!function(F){"use strict";function a(pe){return Array.prototype.slice.call(pe)}function re(pe){return new Promise(function(oe,ye){pe.onsuccess=function(){oe(pe.result)},pe.onerror=function(){ye(pe.error)}})}function L(pe,oe,ye){var Oe,Ve=new Promise(function(kt,Vt){re(Oe=pe[oe].apply(pe,ye)).then(kt,Vt)});return Ve.request=Oe,Ve}function ue(pe,oe,ye){var Oe=L(pe,oe,ye);return Oe.then(function(Ve){if(Ve)return new V(Ve,Oe.request)})}function ae(pe,oe,ye){ye.forEach(function(Oe){Object.defineProperty(pe.prototype,Oe,{get:function(){return this[oe][Oe]},set:function(Ve){this[oe][Oe]=Ve}})})}function Q(pe,oe,ye,Oe){Oe.forEach(function(Ve){Ve in ye.prototype&&(pe.prototype[Ve]=function(){return L(this[oe],Ve,arguments)})})}function ne(pe,oe,ye,Oe){Oe.forEach(function(Ve){Ve in ye.prototype&&(pe.prototype[Ve]=function(){return this[oe][Ve].apply(this[oe],arguments)})})}function ee(pe,oe,ye,Oe){Oe.forEach(function(Ve){Ve in ye.prototype&&(pe.prototype[Ve]=function(){return ue(this[oe],Ve,arguments)})})}function X(pe){this._index=pe}function V(pe,oe){this._cursor=pe,this._request=oe}function $(pe){this._store=pe}function B(pe){this._tx=pe,this.complete=new Promise(function(oe,ye){pe.oncomplete=function(){oe()},pe.onerror=function(){ye(pe.error)},pe.onabort=function(){ye(pe.error)}})}function se(pe,oe,ye){this._db=pe,this.oldVersion=oe,this.transaction=new B(ye)}function _e(pe){this._db=pe}ae(X,"_index",["name","keyPath","multiEntry","unique"]),Q(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ee(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(V,"_cursor",["direction","key","primaryKey","value"]),Q(V,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(pe){pe in IDBCursor.prototype&&(V.prototype[pe]=function(){var oe=this,ye=arguments;return Promise.resolve().then(function(){return oe._cursor[pe].apply(oe._cursor,ye),re(oe._request).then(function(Oe){if(Oe)return new V(Oe,oe._request)})})})}),$.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},$.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},ae($,"_store",["name","keyPath","indexNames","autoIncrement"]),Q($,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ee($,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne($,"_store",IDBObjectStore,["deleteIndex"]),B.prototype.objectStore=function(){return new $(this._tx.objectStore.apply(this._tx,arguments))},ae(B,"_tx",["objectStoreNames","mode"]),ne(B,"_tx",IDBTransaction,["abort"]),se.prototype.createObjectStore=function(){return new $(this._db.createObjectStore.apply(this._db,arguments))},ae(se,"_db",["name","version","objectStoreNames"]),ne(se,"_db",IDBDatabase,["deleteObjectStore","close"]),_e.prototype.transaction=function(){return new B(this._db.transaction.apply(this._db,arguments))},ae(_e,"_db",["name","version","objectStoreNames"]),ne(_e,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(pe){[$,X].forEach(function(oe){pe in oe.prototype&&(oe.prototype[pe.replace("open","iterate")]=function(){var ye=a(arguments),Oe=ye[ye.length-1],Ve=this._store||this._index,kt=Ve[pe].apply(Ve,ye.slice(0,-1));kt.onsuccess=function(){Oe(kt.result)}})})}),[X,$].forEach(function(pe){pe.prototype.getAll||(pe.prototype.getAll=function(oe,ye){var Oe=this,Ve=[];return new Promise(function(kt){Oe.iterateCursor(oe,function(Vt){Vt?(Ve.push(Vt.value),void 0===ye||Ve.length!=ye?Vt.continue():kt(Ve)):kt(Ve)})})})}),F.openDb=function(pe,oe,ye){var Oe=L(indexedDB,"open",[pe,oe]),Ve=Oe.request;return Ve&&(Ve.onupgradeneeded=function(kt){ye&&ye(new se(Ve.result,kt.oldVersion,Ve.transaction))}),Oe.then(function(kt){return new _e(kt)})},F.deleteDb=function(pe){return L(indexedDB,"deleteDatabase",[pe])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},7574:(Ye,we,F)=>{"use strict";F.d(we,{y:()=>$});var a=F(7393),L=F(9181),ue=F(6490),Q=F(6554),ne=F(4487);var V=F(2494);let $=(()=>{class se{constructor(Se){this._isScalar=!1,Se&&(this._subscribe=Se)}lift(Se){const be=new se;return be.source=this,be.operator=Se,be}subscribe(Se,be,pe){const{operator:oe}=this,ye=function(se,_e,Se){if(se){if(se instanceof a.L)return se;if(se[L.b])return se[L.b]()}return se||_e||Se?new a.L(se,_e,Se):new a.L(ue.c)}(Se,be,pe);if(ye.add(oe?oe.call(ye,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),V.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(Se){try{return this._subscribe(Se)}catch(be){V.v.useDeprecatedSynchronousErrorHandling&&(Se.syncErrorThrown=!0,Se.syncErrorValue=be),function(se){for(;se;){const{closed:_e,destination:Se,isStopped:be}=se;if(_e||be)return!1;se=Se&&Se instanceof a.L?Se:null}return!0}(Se)?Se.error(be):console.warn(be)}}forEach(Se,be){return new(be=B(be))((pe,oe)=>{let ye;ye=this.subscribe(Oe=>{try{Se(Oe)}catch(Ve){oe(Ve),ye&&ye.unsubscribe()}},oe,pe)})}_subscribe(Se){const{source:be}=this;return be&&be.subscribe(Se)}[Q.L](){return this}pipe(...Se){return 0===Se.length?this:function(se){return 0===se.length?ne.y:1===se.length?se[0]:function(Se){return se.reduce((be,pe)=>pe(be),Se)}}(Se)(this)}toPromise(Se){return new(Se=B(Se))((be,pe)=>{let oe;this.subscribe(ye=>oe=ye,ye=>pe(ye),()=>be(oe))})}}return se.create=_e=>new se(_e),se})();function B(se){if(se||(se=V.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},6490:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>L});var a=F(2494),re=F(4449);const L={closed:!0,next(ue){},error(ue){if(a.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,re.z)(ue)},complete(){}}},9765:(Ye,we,F)=>{"use strict";F.d(we,{Yc:()=>ne,xQ:()=>ee});var a=F(7574),re=F(7393),L=F(5319),ue=F(7971),ae=F(8858),Q=F(9181);class ne extends re.L{constructor($){super($),this.destination=$}}let ee=(()=>{class V extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new ne(this)}lift(B){const se=new X(this,this);return se.operator=B,se}next(B){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:se}=this,_e=se.length,Se=se.slice();for(let be=0;be<_e;be++)Se[be].next(B)}}error(B){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:se}=this,_e=se.length,Se=se.slice();for(let be=0;be<_e;be++)Se[be].error(B);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:B}=this,se=B.length,_e=B.slice();for(let Se=0;Se<se;Se++)_e[Se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new ue.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new ue.N;return this.hasError?(B.error(this.thrownError),L.w.EMPTY):this.isStopped?(B.complete(),L.w.EMPTY):(this.observers.push(B),new ae.W(this,B))}asObservable(){const B=new a.y;return B.source=this,B}}return V.create=($,B)=>new X($,B),V})();class X extends ee{constructor($,B){super(),this.destination=$,this.source=B}next($){const{destination:B}=this;B&&B.next&&B.next($)}error($){const{destination:B}=this;B&&B.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:B}=this;return B?this.source.subscribe($):L.w.EMPTY}}},8858:(Ye,we,F)=>{"use strict";F.d(we,{W:()=>re});var a=F(5319);class re extends a.w{constructor(ue,ae){super(),this.subject=ue,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,ae=ue.observers;if(this.subject=null,!ae||0===ae.length||ue.isStopped||ue.closed)return;const Q=ae.indexOf(this.subscriber);-1!==Q&&ae.splice(Q,1)}}},7393:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>ne});var a=F(9105),re=F(6490),L=F(5319),ue=F(9181),ae=F(2494),Q=F(4449);class ne extends L.w{constructor(V,$,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=re.c;break;case 1:if(!V){this.destination=re.c;break}if("object"==typeof V){V instanceof ne?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,V,$,B)}}[ue.b](){return this}static create(V,$,B){const se=new ne(V,$,B);return se.syncErrorThrowable=!1,se}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class ee extends ne{constructor(V,$,B,se){super(),this._parentSubscriber=V;let _e,Se=this;(0,a.m)($)?_e=$:$&&(_e=$.next,B=$.error,se=$.complete,$!==re.c&&(Se=Object.create($),(0,a.m)(Se.unsubscribe)&&this.add(Se.unsubscribe.bind(Se)),Se.unsubscribe=this.unsubscribe.bind(this))),this._context=Se,this._next=_e,this._error=B,this._complete=se}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;ae.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:B}=ae.v;if(this._error)B&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if($.syncErrorThrowable)B?($.syncErrorValue=V,$.syncErrorThrown=!0):(0,Q.z)(V),this.unsubscribe();else{if(this.unsubscribe(),B)throw V;(0,Q.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const $=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,$){try{V.call(this._context,$)}catch(B){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw B;(0,Q.z)(B)}}__tryOrSetError(V,$,B){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,B)}catch(se){return ae.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=se,V.syncErrorThrown=!0,!0):((0,Q.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Ye,we,F)=>{"use strict";F.d(we,{w:()=>Q});var a=F(9796),re=F(1555),L=F(9105);const ae=(()=>{function ee(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((V,$)=>`${$+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return ee.prototype=Object.create(Error.prototype),ee})();class Q{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:$,_unsubscribe:B,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof Q)V.remove(this);else if(null!==V)for(let _e=0;_e<V.length;++_e)V[_e].remove(this);if((0,L.m)(B)){$&&(this._unsubscribe=void 0);try{B.call(this)}catch(_e){X=_e instanceof ae?ne(_e.errors):[_e]}}if((0,a.k)(se)){let _e=-1,Se=se.length;for(;++_e<Se;){const be=se[_e];if((0,re.K)(be))try{be.unsubscribe()}catch(pe){X=X||[],pe instanceof ae?X=X.concat(ne(pe.errors)):X.push(pe)}}}if(X)throw new ae(X)}add(X){let V=X;if(!X)return Q.EMPTY;switch(typeof X){case"function":V=new Q(X);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof Q)){const se=V;V=new Q,V._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:$}=V;if(null===$)V._parentOrParents=this;else if($ instanceof Q){if($===this)return V;V._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return V;$.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[V]:B.push(V),V}remove(X){const V=this._subscriptions;if(V){const $=V.indexOf(X);-1!==$&&V.splice($,1)}}}var ee;function ne(ee){return ee.reduce((X,V)=>X.concat(V instanceof ae?V.errors:V),[])}Q.EMPTY=((ee=new Q).closed=!0,ee)},2494:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>re});let a=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=L},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(Ye,we,F)=>{"use strict";F.d(we,{IY:()=>ue,Ds:()=>Q,ft:()=>ee});var a=F(7393),re=F(7574),L=F(7444);class ue extends a.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends a.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function ee(X,V){if(V.closed)return;if(X instanceof re.y)return X.subscribe(V);let $;try{$=(0,L.s)(X)(V)}catch(B){V.error(B)}return $}},2441:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>ae,N:()=>Q});var a=F(9765),re=F(7574),L=F(5319),ue=F(1307);class ae extends re.y{constructor($,B){super(),this.source=$,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new L.w,$.add(this.source.subscribe(new ne(this.getSubject(),this))),$.closed&&(this._connection=null,$=L.w.EMPTY)),$}refCount(){return(0,ue.x)()(this)}}const Q=(()=>{const V=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class ne extends a.Yc{constructor($,B){super($),this.connectable=B}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const B=$._connection;$._refCount=0,$._subject=null,$._connection=null,B&&B.unsubscribe()}}}},9193:(Ye,we,F)=>{"use strict";F.d(we,{E:()=>re,c:()=>L});var a=F(7574);const re=new a.y(ae=>ae.complete());function L(ae){return ae?function(ae){return new a.y(Q=>ae.schedule(()=>Q.complete()))}(ae):re}},4402:(Ye,we,F)=>{"use strict";F.d(we,{D:()=>Se});var a=F(7574),re=F(7444),L=F(5319),ue=F(6554),ne=F(4087),ee=F(377),$=F(4072),B=F(9489);function Se(be,pe){return pe?function(be,pe){if(null!=be){if(function(be){return be&&"function"==typeof be[ue.L]}(be))return function(be,pe){return new a.y(oe=>{const ye=new L.w;return ye.add(pe.schedule(()=>{const Oe=be[ue.L]();ye.add(Oe.subscribe({next(Ve){ye.add(pe.schedule(()=>oe.next(Ve)))},error(Ve){ye.add(pe.schedule(()=>oe.error(Ve)))},complete(){ye.add(pe.schedule(()=>oe.complete()))}}))})),ye})}(be,pe);if((0,$.t)(be))return function(be,pe){return new a.y(oe=>{const ye=new L.w;return ye.add(pe.schedule(()=>be.then(Oe=>{ye.add(pe.schedule(()=>{oe.next(Oe),ye.add(pe.schedule(()=>oe.complete()))}))},Oe=>{ye.add(pe.schedule(()=>oe.error(Oe)))}))),ye})}(be,pe);if((0,B.z)(be))return(0,ne.r)(be,pe);if(function(be){return be&&"function"==typeof be[ee.hZ]}(be)||"string"==typeof be)return function(be,pe){if(!be)throw new Error("Iterable cannot be null");return new a.y(oe=>{const ye=new L.w;let Oe;return ye.add(()=>{Oe&&"function"==typeof Oe.return&&Oe.return()}),ye.add(pe.schedule(()=>{Oe=be[ee.hZ](),ye.add(pe.schedule(function(){if(oe.closed)return;let Ve,kt;try{const Vt=Oe.next();Ve=Vt.value,kt=Vt.done}catch(Vt){return void oe.error(Vt)}kt?oe.complete():(oe.next(Ve),this.schedule())}))})),ye})}(be,pe)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,pe):be instanceof a.y?be:new a.y((0,re.s)(be))}},6693:(Ye,we,F)=>{"use strict";F.d(we,{n:()=>ue});var a=F(7574),re=F(5015),L=F(4087);function ue(ae,Q){return Q?(0,L.r)(ae,Q):new a.y((0,re.V)(ae))}},6682:(Ye,we,F)=>{"use strict";F.d(we,{T:()=>ae});var a=F(7574),re=F(4869),L=F(3282),ue=F(6693);function ae(...Q){let ne=Number.POSITIVE_INFINITY,ee=null,X=Q[Q.length-1];return(0,re.K)(X)?(ee=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(ne=Q.pop())):"number"==typeof X&&(ne=Q.pop()),null===ee&&1===Q.length&&Q[0]instanceof a.y?Q[0]:(0,L.J)(ne)((0,ue.n)(Q,ee))}},5917:(Ye,we,F)=>{"use strict";F.d(we,{of:()=>ue});var a=F(4869),re=F(6693),L=F(4087);function ue(...ae){let Q=ae[ae.length-1];return(0,a.K)(Q)?(ae.pop(),(0,L.r)(ae,Q)):(0,re.n)(ae)}},205:(Ye,we,F)=>{"use strict";F.d(we,{_:()=>re});var a=F(7574);function re(ue,ae){return new a.y(ae?Q=>ae.schedule(L,0,{error:ue,subscriber:Q}):Q=>Q.error(ue))}function L({error:ue,subscriber:ae}){ae.error(ue)}},8002:(Ye,we,F)=>{"use strict";F.d(we,{U:()=>re});var a=F(7393);function re(ae,Q){return function(ee){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new L(ae,Q))}}class L{constructor(Q,ne){this.project=Q,this.thisArg=ne}call(Q,ne){return ne.subscribe(new ue(Q,this.project,this.thisArg))}}class ue extends a.L{constructor(Q,ne,ee){super(Q),this.project=ne,this.count=0,this.thisArg=ee||this}_next(Q){let ne;try{ne=this.project.call(this.thisArg,Q,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(ne)}}},3282:(Ye,we,F)=>{"use strict";F.d(we,{J:()=>L});var a=F(9773),re=F(4487);function L(ue=Number.POSITIVE_INFINITY){return(0,a.zg)(re.y,ue)}},9773:(Ye,we,F)=>{"use strict";F.d(we,{zg:()=>ue});var a=F(8002),re=F(4402),L=F(5345);function ue(ee,X,V=Number.POSITIVE_INFINITY){return"function"==typeof X?$=>$.pipe(ue((B,se)=>(0,re.D)(ee(B,se)).pipe((0,a.U)((_e,Se)=>X(B,_e,se,Se))),V)):("number"==typeof X&&(V=X),$=>$.lift(new ae(ee,V)))}class ae{constructor(X,V=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=V}call(X,V){return V.subscribe(new Q(X,this.project,this.concurrent))}}class Q extends L.Ds{constructor(X,V,$=Number.POSITIVE_INFINITY){super(X),this.project=V,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let V;const $=this.index++;try{V=this.project(X,$)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(V)}_innerSub(X){const V=new L.IY(this),$=this.destination;$.add(V);const B=(0,L.ft)(X,V);B!==V&&$.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Ye,we,F)=>{"use strict";F.d(we,{ht:()=>X,QV:()=>ne});var a=F(7393),re=F(9193),L=F(5917),ue=F(205);class Q{constructor(B,se,_e){this.kind=B,this.value=se,this.error=_e,this.hasValue="N"===B}observe(B){switch(this.kind){case"N":return B.next&&B.next(this.value);case"E":return B.error&&B.error(this.error);case"C":return B.complete&&B.complete()}}do(B,se,_e){switch(this.kind){case"N":return B&&B(this.value);case"E":return se&&se(this.error);case"C":return _e&&_e()}}accept(B,se,_e){return B&&"function"==typeof B.next?this.observe(B):this.do(B,se,_e)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return(0,ue._)(this.error);case"C":return(0,re.c)()}throw new Error("unexpected notification kind value")}static createNext(B){return void 0!==B?new Q("N",B):Q.undefinedValueNotification}static createError(B){return new Q("E",void 0,B)}static createComplete(){return Q.completeNotification}}function ne($,B=0){return function(_e){return _e.lift(new ee($,B))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class ee{constructor(B,se=0){this.scheduler=B,this.delay=se}call(B,se){return se.subscribe(new X(B,this.scheduler,this.delay))}}class X extends a.L{constructor(B,se,_e=0){super(B),this.scheduler=se,this.delay=_e}static dispatch(B){const{notification:se,destination:_e}=B;se.observe(_e),this.unsubscribe()}scheduleMessage(B){this.destination.add(this.scheduler.schedule(X.dispatch,this.delay,new V(B,this.destination)))}_next(B){this.scheduleMessage(Q.createNext(B))}_error(B){this.scheduleMessage(Q.createError(B)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class V{constructor(B,se){this.notification=B,this.destination=se}}},1307:(Ye,we,F)=>{"use strict";F.d(we,{x:()=>re});var a=F(7393);function re(){return function(Q){return Q.lift(new L(Q))}}class L{constructor(Q){this.connectable=Q}call(Q,ne){const{connectable:ee}=this;ee._refCount++;const X=new ue(Q,ee),V=ne.subscribe(X);return X.closed||(X.connection=ee.connect()),V}}class ue extends a.L{constructor(Q,ne){super(Q),this.connectable=ne}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const ne=Q._refCount;if(ne<=0)return void(this.connection=null);if(Q._refCount=ne-1,ne>1)return void(this.connection=null);const{connection:ee}=this,X=Q._connection;this.connection=null,X&&(!ee||X===ee)&&X.unsubscribe()}}},8819:(Ye,we,F)=>{"use strict";F.d(we,{B:()=>ne});var a=F(2441);var ue=F(1307),ae=F(9765);function Q(){return new ae.xQ}function ne(){return ee=>(0,ue.x)()(function(ee,X){return function($){let B;B="function"==typeof ee?ee:function(){return ee};const se=Object.create($,a.N);return se.source=$,se.subjectFactory=B,se}}(Q)(ee))}},9673:(Ye,we,F)=>{"use strict";F.d(we,{R:()=>ae});var a=F(7574),re=F(4581),L=F(6561);class ue extends a.y{constructor(ee,X=0,V=re.e){super(),this.source=ee,this.delayTime=X,this.scheduler=V,(!(0,L.k)(X)||X<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=re.e)}static create(ee,X=0,V=re.e){return new ue(ee,X,V)}static dispatch(ee){const{source:X,subscriber:V}=ee;return this.add(X.subscribe(V))}_subscribe(ee){return this.scheduler.schedule(ue.dispatch,this.delayTime,{source:this.source,subscriber:ee})}}function ae(ne,ee=0){return function(V){return V.lift(new Q(ne,ee))}}class Q{constructor(ee,X){this.scheduler=ee,this.delay=X}call(ee,X){return new ue(X,this.delay,this.scheduler).subscribe(ee)}}},3342:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>ue});var a=F(7393);function re(){}var L=F(9105);function ue(ne,ee,X){return function($){return $.lift(new ae(ne,ee,X))}}class ae{constructor(ee,X,V){this.nextOrObserver=ee,this.error=X,this.complete=V}call(ee,X){return X.subscribe(new Q(ee,this.nextOrObserver,this.error,this.complete))}}class Q extends a.L{constructor(ee,X,V,$){super(ee),this._tapNext=re,this._tapError=re,this._tapComplete=re,this._tapError=V||re,this._tapComplete=$||re,(0,L.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||re,this._tapError=X.error||re,this._tapComplete=X.complete||re)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(X){return void this.destination.error(X)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(X){return void this.destination.error(X)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},4087:(Ye,we,F)=>{"use strict";F.d(we,{r:()=>L});var a=F(7574),re=F(5319);function L(ue,ae){return new a.y(Q=>{const ne=new re.w;let ee=0;return ne.add(ae.schedule(function(){ee!==ue.length?(Q.next(ue[ee++]),Q.closed||ne.add(this.schedule())):Q.complete()})),ne})}},6465:(Ye,we,F)=>{"use strict";F.d(we,{o:()=>L});var a=F(5319);class re extends a.w{constructor(ae,Q){super()}schedule(ae,Q=0){return this}}class L extends re{constructor(ae,Q){super(ae,Q),this.scheduler=ae,this.work=Q,this.pending=!1}schedule(ae,Q=0){if(this.closed)return this;this.state=ae;const ne=this.id,ee=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ee,ne,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(ee,this.id,Q),this}requestAsyncId(ae,Q,ne=0){return setInterval(ae.flush.bind(ae,this),ne)}recycleAsyncId(ae,Q,ne=0){if(null!==ne&&this.delay===ne&&!1===this.pending)return Q;clearInterval(Q)}execute(ae,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(ae,Q);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,Q){let ee,ne=!1;try{this.work(ae)}catch(X){ne=!0,ee=!!X&&X||new Error(X)}if(ne)return this.unsubscribe(),ee}_unsubscribe(){const ae=this.id,Q=this.scheduler,ne=Q.actions,ee=ne.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&ne.splice(ee,1),null!=ae&&(this.id=this.recycleAsyncId(Q,ae,null)),this.delay=null}}},6102:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>re});let a=(()=>{class L{constructor(ae,Q=L.now){this.SchedulerAction=ae,this.now=Q}schedule(ae,Q=0,ne){return new this.SchedulerAction(this,ae).schedule(ne,Q)}}return L.now=()=>Date.now(),L})();class re extends a{constructor(ue,ae=a.now){super(ue,()=>re.delegate&&re.delegate!==this?re.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,ae=0,Q){return re.delegate&&re.delegate!==this?re.delegate.schedule(ue,ae,Q):super.schedule(ue,ae,Q)}flush(ue){const{actions:ae}=this;if(this.active)return void ae.push(ue);let Q;this.active=!0;do{if(Q=ue.execute(ue.state,ue.delay))break}while(ue=ae.shift());if(this.active=!1,Q){for(;ue=ae.shift();)ue.unsubscribe();throw Q}}}},4581:(Ye,we,F)=>{"use strict";F.d(we,{e:()=>B,E:()=>$});let a=1;const re=Promise.resolve(),L={};function ue(se){return se in L&&(delete L[se],!0)}const ae={setImmediate(se){const _e=a++;return L[_e]=!0,re.then(()=>ue(_e)&&se()),_e},clearImmediate(se){ue(se)}};var ne=F(6465),X=F(6102);const $=new class extends X.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let be,pe=-1,oe=Se.length;_e=_e||Se.shift();do{if(be=_e.execute(_e.state,_e.delay))break}while(++pe<oe&&(_e=Se.shift()));if(this.active=!1,be){for(;++pe<oe&&(_e=Se.shift());)_e.unsubscribe();throw be}}}(class extends ne.o{constructor(_e,Se){super(_e,Se),this.scheduler=_e,this.work=Se}requestAsyncId(_e,Se,be=0){return null!==be&&be>0?super.requestAsyncId(_e,Se,be):(_e.actions.push(this),_e.scheduled||(_e.scheduled=ae.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,Se,be=0){if(null!==be&&be>0||null===be&&this.delay>0)return super.recycleAsyncId(_e,Se,be);0===_e.actions.length&&(ae.clearImmediate(Se),_e.scheduled=void 0)}}),B=$},3637:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>L,P:()=>ue});var a=F(6465);const L=new(F(6102).v)(a.o),ue=L},7771:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>Q,N:()=>ae});var a=F(6465),L=F(6102);const ae=new class extends L.v{}(class extends a.o{constructor(ee,X){super(ee,X),this.scheduler=ee,this.work=X}schedule(ee,X=0){return X>0?super.schedule(ee,X):(this.delay=X,this.state=ee,this.scheduler.flush(this),this)}execute(ee,X){return X>0||this.closed?super.execute(ee,X):this._execute(ee,X)}requestAsyncId(ee,X,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(ee,X,V):ee.flush(this)}}),Q=ae},377:(Ye,we,F)=>{"use strict";F.d(we,{hZ:()=>re});const re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,we,F)=>{"use strict";F.d(we,{N:()=>re});const re=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Ye,we,F)=>{"use strict";function a(re){setTimeout(()=>{throw re},0)}F.d(we,{z:()=>a})},4487:(Ye,we,F)=>{"use strict";function a(re){return re}F.d(we,{y:()=>a})},9796:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>a});const a=Array.isArray||(re=>re&&"number"==typeof re.length)},9489:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>a});const a=re=>re&&"number"==typeof re.length&&"function"!=typeof re},9105:(Ye,we,F)=>{"use strict";function a(re){return"function"==typeof re}F.d(we,{m:()=>a})},6561:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>re});var a=F(9796);function re(L){return!(0,a.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Ye,we,F)=>{"use strict";function a(re){return null!==re&&"object"==typeof re}F.d(we,{K:()=>a})},4072:(Ye,we,F)=>{"use strict";function a(re){return!!re&&"function"!=typeof re.subscribe&&"function"==typeof re.then}F.d(we,{t:()=>a})},4869:(Ye,we,F)=>{"use strict";function a(re){return re&&"function"==typeof re.schedule}F.d(we,{K:()=>a})},7444:(Ye,we,F)=>{"use strict";F.d(we,{s:()=>$});var a=F(5015),re=F(4449),ue=F(377),Q=F(6554),ee=F(9489),X=F(4072),V=F(1555);const $=B=>{if(B&&"function"==typeof B[Q.L])return(B=>se=>{const _e=B[Q.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(se)})(B);if((0,ee.z)(B))return(0,a.V)(B);if((0,X.t)(B))return(B=>se=>(B.then(_e=>{se.closed||(se.next(_e),se.complete())},_e=>se.error(_e)).then(null,re.z),se))(B);if(B&&"function"==typeof B[ue.hZ])return(B=>se=>{const _e=B[ue.hZ]();for(;;){let Se;try{Se=_e.next()}catch(be){return se.error(be),se}if(Se.done){se.complete();break}if(se.next(Se.value),se.closed)break}return"function"==typeof _e.return&&se.add(()=>{_e.return&&_e.return()}),se})(B);{const _e=`You provided ${(0,V.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},5015:(Ye,we,F)=>{"use strict";F.d(we,{V:()=>a});const a=re=>L=>{for(let ue=0,ae=re.length;ue<ae&&!L.closed;ue++)L.next(re[ue]);L.complete()}},8071:(Ye,we,F)=>{"use strict";var a=F(7716);let re=null;function L(){return re}const ne=new a.OlP("DocumentToken");let ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function X(){return(0,a.LFG)($)}const V=new a.OlP("Location Initialized");let $=(()=>{class n extends ee{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){B()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){B()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=(0,a.Yz7)({factory:se,token:n,providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function se(){return new $((0,a.LFG)(ne))}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Se(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function be(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:oe,token:n,providedIn:"root"}),n})();function oe(n){const t=(0,a.LFG)(ne).location;return new Oe((0,a.LFG)(ee),t&&t.origin||"")}const ye=new a.OlP("appBaseHref");let Oe=(()=>{class n extends pe{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+be(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,c){const h=this.prepareExternalUrl(i+be(c));this._platformLocation.pushState(e,r,h)}replaceState(e,r,i,c){const h=this.prepareExternalUrl(i+be(c));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ee),a.LFG(ye,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n extends pe{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=_e(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,c){let h=this.prepareExternalUrl(i+be(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,i,c){let h=this.prepareExternalUrl(i+be(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ee),a.LFG(ye,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),kt=(()=>{class n{constructor(e,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Se(Et(i)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+be(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Et(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+be(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(pe),a.LFG(ee))},n.normalizeQueryParams=be,n.joinWithSlash=_e,n.stripTrailingSlash=Se,n.\u0275prov=(0,a.Yz7)({factory:Vt,token:n,providedIn:"root"}),n})();function Vt(){return new kt((0,a.LFG)(pe),(0,a.LFG)(ee))}function Et(n){return n.replace(/\/index.html$/,"")}var ft=(()=>((ft=ft||{})[ft.Zero=0]="Zero",ft[ft.One=1]="One",ft[ft.Two=2]="Two",ft[ft.Few=3]="Few",ft[ft.Many=4]="Many",ft[ft.Other=5]="Other",ft))();const _s=a.kL8;class zr{}let cr=(()=>{class n extends zr{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(_s(r||this.locale)(e)){case ft.Zero:return"zero";case ft.One:return"one";case ft.Two:return"two";case ft.Few:return"few";case ft.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Mr{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ft=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((i,c,h)=>{if(null==i.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Mr(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new lh(i,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const m=this._viewContainer.get(c);this._viewContainer.move(m,h);const b=new lh(i,m);r.push(b)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,c=this._viewContainer.length;i<c;i++){const h=this._viewContainer.get(i);h.context.index=i,h.context.count=c,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class lh{constructor(t,e){this.record=t,this.view=e}}let xn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ou,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ea("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ea("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ou{constructor(){this.$implicit=null,this.ngIf=null}}function Ea(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Vs{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ys=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),tr=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Vs(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ys,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Zn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:zr,useClass:cr}]}),n})();function bc(n){return"server"===n}let yl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new _h((0,a.LFG)(ne),window)}),n})();class _h{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ia(this.window.history)||Ia(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ia(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new yh,re||(re=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null);return null==e?null:function(n){Jt=Jt||document.createElement("a"),Jt.setAttribute("href",n);const t=Jt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Jt,ws=null;const Cc=new a.OlP("TRANSITION_ID"),ui=[{provide:a.ip1,useFactory:function(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const r=L(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[Cc,ne,a.zs3],multi:!0}];class Yn{static init(){(0,a.VLi)(new Yn)}addToWindow(t){a.dqk.getAngularTestability=(r,i=!0)=>{const c=t.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let c=i.length,h=!1;const m=function(b){h=h||b,c--,0==c&&r(h)};i.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let oo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=new a.OlP("EventManagerPlugins");let Ee=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const h=i[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Bs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class St{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=L().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Tc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ln=(()=>{class n extends Tc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,i.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Ac),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ac))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ac(n){L().remove(n)}const Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kr=/%COMP%/g;function Un(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Un(n,i,e):(i=i.replace(kr,n),e.push(i))}return e}function Si(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ti=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Rr(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ju(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case a.ifc.ShadowDom:return new Il(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Un(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ee),a.LFG(ln),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Rr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Cs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const c=Cs[i];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Cs[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,r,i&a.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Si(r)):this.eventManager.addEventListener(t,e,Si(r))}}class ju extends Rr{constructor(t,e,r,i){super(t),this.component=r;const c=Un(i+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(kr,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(kr,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Il extends Rr{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Un(i.id,i.styles,[]);for(let h=0;h<c.length;h++){const m=document.createElement("style");m.textContent=c[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Sl=(()=>{class n extends St{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=["alt","control","meta","shift"],Gu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Oa=(()=>{class n extends St{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let h="";if(Us.forEach(b=>{const E=r.indexOf(b);E>-1&&(r.splice(E,1),h+=b+".")}),h+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=i,m.fullKey=h,m}static getEventFullKey(e){let r="",i=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&nr.hasOwnProperty(t)&&(t=nr[t]))}return Gu[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Us.forEach(c=>{c!=i&&Sp[c](e)&&(r+=c+".")}),r+=i,r}static eventCallback(e,r,i){return c=>{n.getEventFullKey(c)===e&&i.runGuarded(()=>r(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),co=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:function(){return(0,a.LFG)(uo)},token:n,providedIn:"root"}),n})(),uo=(()=>{class n extends co{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(r),(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=(0,a.Yz7)({factory:function(){return function(n){return new uo(n.get(ne))}((0,a.LFG)(a.gxx))},token:n,providedIn:"root"}),n})();const ho=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){yh.makeCurrent(),Yn.init()},multi:!0},{provide:ne,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),Zu=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:Bs,useClass:Sl,multi:!0,deps:[ne,a.R0b,a.Lbi]},{provide:Bs,useClass:Oa,multi:!0,deps:[ne]},[],{provide:Ti,useClass:Ti,deps:[Ee,ln,a.AFp]},{provide:a.FYo,useExisting:Ti},{provide:Tc,useExisting:ln},{provide:ln,useClass:ln,deps:[ne]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Ee,useClass:Ee,deps:[Bs,a.R0b]},{provide:class{},useClass:oo,deps:[]},[]];let Yu=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Cc,useExisting:a.AFp},ui]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Zu,imports:[Zn,a.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(4402),Le=F(5917),Ge=F(9765),Ku=F(7971);class Or extends Ge.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ku.N;return this._value}next(t){super.next(this._value=t)}}var $s=F(4869),xl=F(9796),cn=F(7393);class Qu extends cn.L{notifyNext(t,e,r,i,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class $g extends cn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var po=F(7444),_n=F(7574);function Wn(n,t,e,r,i=new $g(n,e,r)){if(!i.closed)return t instanceof _n.y?t.subscribe(i):(0,po.s)(t)(i)}var Nc=F(6693);const kl={};function Gs(...n){let t,e;return(0,$s.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,xl.k)(n[0])&&(n=n[0]),(0,Nc.n)(n,e).lift(new Pc(t))}class Pc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Rl(t,this.resultSelector))}}class Rl extends Qu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Wn(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const i=this.values,h=this.toRespond?i[r]===kl?--this.toRespond:this.toRespond:0;i[r]=e,0===h&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Ai=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var zs=F(3282);function mo(...n){return(0,zs.J)(1)((0,Le.of)(...n))}var Nr=F(9193);function Mi(n){return new _n.y(t=>{let e;try{e=n()}catch(i){return void t.error(i)}return(e?(0,pn.D)(e):(0,Nr.c)()).subscribe(t)})}var kh=F(2441),nt=F(8002),xi=F(5345);function dr(n,t){return"function"==typeof t?e=>e.pipe(dr((r,i)=>(0,pn.D)(n(r,i)).pipe((0,nt.U)((c,h)=>t(r,c,i,h))))):e=>e.lift(new Gg(n))}class Gg{constructor(t){this.project=t}call(t,e){return e.subscribe(new yn(t,this.project))}}class yn extends xi.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new xi.IY(this),i=this.destination;i.add(r),this.innerSubscription=(0,xi.ft)(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Fc=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function wr(n){return t=>0===n?(0,Nr.c)():t.lift(new $v(n))}class $v{constructor(t){if(this.total=t,this.total<0)throw new Fc}call(t,e){return e.subscribe(new Lc(t,this.total))}}class Lc extends cn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Pr(...n){const t=n[n.length-1];return(0,$s.K)(t)?(n.pop(),e=>mo(n,e,t)):e=>mo(n,e)}function Vc(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new zg(n,t,e))}}class zg{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Oh(t,this.accumulator,this.seed,this.hasSeed))}}class Oh extends cn.L{constructor(t,e,r,i){super(t),this.accumulator=e,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function wn(n,t){return function(r){return r.lift(new Ju(n,t))}}class Ju{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Go(t,this.predicate,this.thisArg))}}class Go extends cn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function qs(n){return function(e){const r=new jn(n),i=e.lift(r);return r.caught=i}}class jn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zs(t,this.selector,this.caught))}}class Zs extends xi.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new xi.IY(this);this.add(r);const i=(0,xi.ft)(e,r);i!==r&&this.add(i)}}}var Hn=F(9773);function Bc(n,t){return(0,Hn.zg)(n,t,1)}function Nh(n){return function(e){return 0===n?(0,Nr.c)():e.lift(new hi(n))}}class hi{constructor(t){if(this.total=t,this.total<0)throw new Fc}call(t,e){return e.subscribe(new Es(t,this.total))}}class Es extends cn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let c=0;c<r;c++){const h=e++%r;t.next(i[h])}}t.complete()}}function Ol(n=Ph){return t=>t.lift(new ki(n))}class ki{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ys(t,this.errorFactory))}}class Ys extends cn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ph(){return new Ai}function Xu(n=null){return t=>t.lift(new zo(n))}class zo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qg(t,this.defaultValue))}}class qg extends cn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var qo=F(4487);function Rn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?wn((i,c)=>n(i,c,r)):qo.y,wr(1),e?Xu(t):Ol(()=>new Ai))}var Nn=F(3342),La=F(1307),Cn=F(5319);function Fh(n){return t=>t.lift(new D(n))}class D{constructor(t){this.callback=t}call(t,e){return e.subscribe(new M(t,this.callback))}}class M extends cn.L{constructor(t,e){super(t),this.add(new Cn.w(e))}}class O{constructor(t,e){this.id=t,this.url=e}}class j extends O{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends O{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class de extends O{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class De extends O{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends O{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends O{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends O{constructor(t,e,r,i,c){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sn extends O{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends O{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dt="primary";class Rp{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vn(n){return new Rp(n)}const Hc="ngNavigationCancelingError";function Op(n){const t=Error("NavigationCancelingError: "+n);return t[Hc]=!0,t}function Pl(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const h=r[c],m=n[c];if(h.startsWith(":"))i[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function rs(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let c=0;c<e.length;c++)if(i=e[c],!Pp(n[i],t[i]))return!1;return!0}function Pp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,c)=>r[c]===i)}return n===t}function Zg(n){return Array.prototype.concat.apply([],n)}function Va(n){return n.length>0?n[n.length-1]:null}function ir(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function hr(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,Le.of)(n)}const Yg={exact:function Lh(n,t,e){if(!Ua(n.segments,t.segments)||!Gc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Lh(n.children[r],t.children[r],e))return!1;return!0},subset:Yo},$c={exact:function(n,t){return rs(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Pp(n[e],t[e]))},ignored:()=>!0};function td(n,t,e){return Yg[e.paths](n.root,t.root,e.matrixParams)&&$c[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yo(n,t,e){return Wo(n,t,t.segments,e)}function Wo(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Ua(i,e)||t.hasChildren()||!Gc(i,e,r))}if(n.segments.length===e.length){if(!Ua(n.segments,e)||!Gc(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!Yo(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Ua(n.segments,i)&&Gc(n.segments,i,r)&&n.children[dt])&&Wo(n.children[dt],t,c,r)}}function Gc(n,t,e){return t.every((r,i)=>$c[e](n[i].parameters,r.parameters))}class Fl{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return rd.serialize(this)}}class xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ir(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ko(this)}}class nd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vn(this.parameters)),this._parameterMap}toString(){return Zc(this)}}function Ua(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class Fp{}class zc{parse(t){const e=new Uh(t);return new Fl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${id(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${sd(e)}=${sd(i)}`).join("&"):`${sd(e)}=${sd(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const rd=new zc;function Ko(n){return n.segments.map(t=>Zc(t)).join("/")}function id(n,t){if(!n.hasChildren())return Ko(n);if(t){const e=n.children[dt]?id(n.children[dt],!1):"",r=[];return ir(n.children,(i,c)=>{c!==dt&&r.push(`${c}:${id(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return ir(n.children,(r,i)=>{i===dt&&(e=e.concat(t(r,i)))}),ir(n.children,(r,i)=>{i!==dt&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===dt?[id(n.children[dt],!1)]:[`${i}:${id(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${Ko(n)}/${e[0]}`:`${Ko(n)}/(${e.join("//")})`}}function Qg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sd(n){return Qg(n).replace(/%3B/gi,";")}function od(n){return Qg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qc(n){return decodeURIComponent(n)}function Lp(n){return qc(n.replace(/\+/g,"%20"))}function Zc(n){return`${od(n.path)}${function(n){return Object.keys(n).map(t=>`;${od(t)}=${od(n[t])}`).join("")}(n.parameters)}`}const Yv=/^[^\/()?;=#]+/;function Bh(n){const t=n.match(Yv);return t?t[0]:""}const Wv=/^[^=?&#]+/,Qo=/^[^?&#]+/;class Uh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[dt]=new xt(t,e)),r}parseSegment(){const t=Bh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new nd(qc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Bh(this.remaining);i&&(r=i,this.capture(r))}t[qc(e)]=qc(r)}parseQueryParam(t){const e=function(n){const t=n.match(Wv);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(Qo);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=Lp(e),c=Lp(r);if(t.hasOwnProperty(i)){let h=t[i];Array.isArray(h)||(h=[h],t[i]=h),h.push(c)}else t[i]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=dt);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[dt]:new xt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vp(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Vp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Bp(t,this._root).map(e=>e.value)}}function Vp(n,t){if(n===t.value)return t;for(const e of t.children){const r=Vp(n,e);if(r)return r}return null}function Bp(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Bp(n,e);if(r.length)return r.unshift(t),r}return[]}class Jo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ad(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jh extends Jg{constructor(t,e){super(t),this.snapshot=e,$h(this,t)}toString(){return this.snapshot.toString()}}function Xg(n,t){const e=function(n,t){const h=new Hh([],{},{},"",{},dt,t,null,n.root,-1,{});return new ja("",new Jo(h,[]))}(n,t),r=new Or([new nd("",{})]),i=new Or({}),c=new Or({}),h=new Or({}),m=new Or(""),b=new Vl(r,i,h,m,c,dt,t,e.root);return b.snapshot=e.root,new jh(new Jo(b,[]),e)}class Vl{constructor(t,e,r,i,c,h,m,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(t=>vn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(t=>vn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e_(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],c=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Hh{constructor(t,e,r,i,c,h,m,b,E,T,R){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=E,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ja extends Jg{constructor(t,e){super(e),this.url=t,$h(this,e)}toString(){return Ds(this._root)}}function $h(n,t){t.value._routerState=n,t.children.forEach(e=>$h(n,e))}function Ds(n){const t=n.children.length>0?` { ${n.children.map(Ds).join(", ")} } `:"";return`${n.value}${t}`}function Bl(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,rs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),rs(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!rs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),rs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wc(n,t){return rs(n.params,t.params)&&function(n,t){return Ua(n,t)&&n.every((e,r)=>rs(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Wc(n.parent,t.parent))}function Kc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kc(n,r,i);return Kc(n,r)})}(n,t,e);return new Jo(r,i)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const h=c.route;return r_(t,h),h}}const r=function(n){return new Vl(new Or(n.url),new Or(n.params),new Or(n.queryParams),new Or(n.fragment),new Or(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(c=>Kc(n,c));return new Jo(r,i)}}function r_(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)r_(n.children[e],t.children[e])}function ld(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function is(n){return"object"==typeof n&&null!=n&&n.outlets}function i_(n,t,e,r,i){let c={};return r&&ir(r,(h,m)=>{c[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Fl(e.root===n?t:Jv(e.root,n,t),c,i)}function Jv(n,t,e){const r={};return ir(n.children,(i,c)=>{r[c]=i===t?e:Jv(i,t,e)}),new xt(n.segments,r)}class cd{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ld(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(is);if(i&&i!==Va(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ud{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function dd(n,t,e){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return hd(n,t,e);const r=function(n,t,e){let r=0,i=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return c;const h=n.segments[i],m=e[r];if(is(m))break;const b=`${m}`,E=r<e.length-1?e[r+1]:null;if(i>0&&void 0===b)break;if(b&&E&&"object"==typeof E&&void 0===E.outlets){if(!o_(b,E,h))return c;r+=2}else{if(!o_(b,{},h))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new xt(n.segments.slice(0,r.pathIndex),{});return c.children[dt]=new xt(n.segments.slice(r.pathIndex),n.children),hd(c,0,i)}return r.match&&0===i.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?jp(n,t,e):r.match?hd(n,0,i):jp(n,t,e)}function hd(n,t,e){if(0===e.length)return new xt(n.segments,{});{const r=function(n){return is(n[0])?n[0].outlets:{[dt]:n}}(e),i={};return ir(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[h]=dd(n.children[h],t,c))}),ir(n.children,(c,h)=>{void 0===r[h]&&(i[h]=c)}),new xt(n.segments,i)}}function jp(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const c=e[i];if(is(c)){const b=Gn(c.outlets);return new xt(r,b)}if(0===i&&ld(e[0])){r.push(new nd(n.segments[t].path,s_(e[0]))),i++;continue}const h=is(c)?c.outlets[dt]:`${c}`,m=i<e.length-1?e[i+1]:null;h&&m&&ld(m)?(r.push(new nd(h,s_(m))),i+=2):(r.push(new nd(h,{})),i++)}return new xt(r,{})}function Gn(n){const t={};return ir(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=jp(new xt([],{}),0,e))}),t}function s_(n){const t={};return ir(n,(e,r)=>t[r]=`${e}`),t}function o_(n,t,e){return n==e.path&&rs(t,e.parameters)}class $p{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Bl(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=ad(e);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,i[h],r),delete i[h]}),ir(i,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(i===c)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=ad(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=ad(e);t.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new ts(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Zo(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(Bl(i),i===c)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),zh(m.route)}else{const m=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=i,h.resolver=b,h.outlet&&h.outlet.activateWith(i,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}function zh(n){Bl(n.value),n.children.forEach(zh)}class Gp{constructor(t,e){this.routes=t,this.module=e}}function go(n){return"function"==typeof n}function Qc(n){return n instanceof Fl}const Jc=Symbol("INITIAL_VALUE");function Ul(){return dr(n=>Gs(n.map(t=>t.pipe(wr(1),Pr(Jc)))).pipe(Vc((t,e)=>{let r=!1;return e.reduce((i,c,h)=>i!==Jc?i:(c===Jc&&(r=!0),r||!1!==c&&h!==e.length-1&&!Qc(c)?i:c),t)},Jc),wn(t=>t!==Jc),(0,nt.U)(t=>Qc(t)?t:!0===t),wr(1)))}let Fr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&a._UZ(0,"router-outlet")},directives:function(){return[ef]},encapsulation:2}),n})();function Xc(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Zp(r,rb(t,r))}}function Zp(n,t){n.children&&Xc(n.children,t)}function rb(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function eu(n){const t=n.children&&n.children.map(eu),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==dt&&(e.component=Fr),e}function ss(n){return n.outlet||dt}function Yp(n,t){const e=n.filter(r=>ss(r)===t);return e.push(...n.filter(r=>ss(r)!==t)),e}const Wp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qh(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Wp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||Pl)(e,n,t);if(!c)return Object.assign({},Wp);const h={};ir(c.posParams,(b,E)=>{h[E]=b.path});const m=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:m,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function pd(n,t,e,r,i="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>jl(n,t,r)&&ss(r)!==dt)}(n,e,r)){const h=new xt(t,function(n,t,e,r){const i={};i[dt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&ss(c)!==dt){const h=new xt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,i[ss(c)]=h}return i}(n,t,r,new xt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>jl(n,t,r))}(n,e,r)){const h=new xt(n.segments,function(n,t,e,r,i,c){const h={};for(const m of r)if(jl(n,e,m)&&!i[ss(m)]){const b=new xt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:t.length,h[ss(m)]=b}return Object.assign(Object.assign({},i),h)}(n,t,e,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const c=new xt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function jl(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Qp(n,t,e,r){return!!(ss(n)===r||r!==dt&&jl(t,e,n))&&("**"===n.path||qh(t,n,e).matched)}function Yh(n,t,e){return 0===t.length&&!n.children[e]}class Zr{constructor(t){this.segmentGroup=t||null}}class Hl{constructor(t){this.urlTree=t}}function $a(n){return new _n.y(t=>t.error(new Zr(n)))}function l_(n){return new _n.y(t=>t.error(new Hl(n)))}function Jp(n){return new _n.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class c_{constructor(t,e,r,i,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=pd(this.urlTree.root,[],[],this.config).segmentGroup,e=new xt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,dt).pipe((0,nt.U)(c=>this.createUrlTree(_o(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qs(c=>{if(c instanceof Hl)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Zr?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,dt).pipe((0,nt.U)(i=>this.createUrlTree(_o(i),t.queryParams,t.fragment))).pipe(qs(i=>{throw i instanceof Zr?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new xt([],{[dt]:t}):t;return new Fl(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,nt.U)(c=>new xt([],c))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,pn.D)(i).pipe(Bc(c=>{const h=r.children[c],m=Yp(e,c);return this.expandSegmentGroup(t,m,h,c).pipe((0,nt.U)(b=>({segment:b,outlet:c})))}),Vc((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?wn((i,c)=>n(i,c,r)):qo.y,Nh(1),e?Xu(t):Ol(()=>new Ai))}())}expandSegment(t,e,r,i,c,h){return(0,pn.D)(r).pipe(Bc(m=>this.expandSegmentAgainstRoute(t,e,r,m,i,c,h).pipe(qs(E=>{if(E instanceof Zr)return(0,Le.of)(null);throw E}))),Rn(m=>!!m),qs((m,b)=>{if(m instanceof Ai||"EmptyError"===m.name){if(Yh(e,i,c))return(0,Le.of)(new xt([],{}));throw new Zr(e)}throw m}))}expandSegmentAgainstRoute(t,e,r,i,c,h,m){return Qp(i,e,c,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,c,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,c,h):$a(e):$a(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,c,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?l_(c):this.lineralizeSegments(r,c).pipe((0,Hn.zg)(h=>{const m=new xt(h,{});return this.expandSegment(t,m,e,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,c,h){const{matched:m,consumedSegments:b,lastChild:E,positionalParamSegments:T}=qh(e,i,c);if(!m)return $a(e);const R=this.applyRedirectCommands(b,i.redirectTo,T);return i.redirectTo.startsWith("/")?l_(R):this.lineralizeSegments(i,R).pipe((0,Hn.zg)(U=>this.expandSegment(t,e,r,U.concat(c.slice(E)),h,!1)))}matchSegmentAgainstRoute(t,e,r,i,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Le.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,nt.U)(U=>(r._loadedConfig=U,new xt(i,{})))):(0,Le.of)(new xt(i,{}));const{matched:h,consumedSegments:m,lastChild:b}=qh(e,r,i);if(!h)return $a(e);const E=i.slice(b);return this.getChildConfig(t,r,i).pipe((0,Hn.zg)(R=>{const U=R.module,H=R.routes,{segmentGroup:J,slicedSegments:fe}=pd(e,m,E,H),Ie=new xt(J.segments,J.children);if(0===fe.length&&Ie.hasChildren())return this.expandChildren(U,H,Ie).pipe((0,nt.U)(ot=>new xt(m,ot)));if(0===H.length&&0===fe.length)return(0,Le.of)(new xt(m,{}));const Ue=ss(r)===c;return this.expandSegment(U,Ie,H,fe,Ue?dt:c,!0).pipe((0,nt.U)(Mt=>new xt(m.concat(Mt.segments),Mt.children)))}))}getChildConfig(t,e,r){return e.children?(0,Le.of)(new Gp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Le.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Hn.zg)(i=>{return i?this.configLoader.load(t.injector,e).pipe((0,nt.U)(c=>(e._loadedConfig=c,c))):(n=e,new _n.y(t=>t.error(Op(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Le.of)(new Gp([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;if(!i||0===i.length)return(0,Le.of)(!0);const c=i.map(h=>{const m=t.get(h);let b;if((n=m)&&go(n.canLoad))b=m.canLoad(e,r);else{if(!go(m))throw new Error("Invalid CanLoad guard");b=m(e,r)}var n;return hr(b)});return(0,Le.of)(c).pipe(Ul(),(0,Nn.b)(h=>{if(!Qc(h))return;const m=Op(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,nt.U)(h=>!0===h))}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Le.of)(r);if(i.numberOfChildren>1||!i.children[dt])return Jp(t.redirectTo);i=i.children[dt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const c=this.createSegmentGroup(t,e.root,r,i);return new Fl(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ir(t,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[c]=e[m]}else r[c]=i}),r}createSegmentGroup(t,e,r,i){const c=this.createSegments(t,e.segments,r,i);let h={};return ir(e.children,(m,b)=>{h[b]=this.createSegmentGroup(t,m,r,i)}),new xt(c,h)}createSegments(t,e,r,i){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,i):this.findOrReturn(c,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function _o(n){const t={};for(const r of Object.keys(n.children)){const c=_o(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[dt]){const t=n.children[dt];return new xt(n.segments.concat(t.segments),t.children)}return n}(new xt(n.segments,t))}class md{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pi{constructor(t,e){this.component=t,this.route=e}}function d_(n,t,e){const r=n._root;return tu(r,t?t._root:null,e,[r.value])}function Lr(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function tu(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=ad(t);return n.children.forEach(h=>{(function(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ua(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ua(n.url,t.url)||!rs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wc(n,t)||!rs(n.queryParams,t.queryParams);case"paramsChange":default:return!Wc(n,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);b?i.canActivateChecks.push(new md(r)):(c.data=h.data,c._resolvedData=h._resolvedData),tu(n,t,c.component?m?m.children:null:e,r,i),b&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new pi(m.outlet.component,h))}else h&&ea(t,m,i),i.canActivateChecks.push(new md(r)),tu(n,null,c.component?m?m.children:null:e,r,i)})(h,c[h.value.outlet],e,r.concat([h.value]),i),delete c[h.value.outlet]}),ir(c,(h,m)=>ea(h,e.getContext(m),i)),i}function ea(n,t,e){const r=ad(n),i=n.value;ir(r,(c,h)=>{ea(c,i.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new pi(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class p{}function g(n){return new _n.y(t=>t.error(n))}class S{constructor(t,e,r,i,c,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const t=pd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,dt);if(null===e)return null;const r=new Hh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jo(r,e),c=new ja(this.url,i);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=e_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const h=e.children[c],m=Yp(t,c),b=this.processSegmentGroup(m,h,c);if(null===b)return null;r.push(...b)}const i=Re(r);return i.sort((t,e)=>t.value.outlet===dt?-1:e.value.outlet===dt?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,r,i){for(const c of t){const h=this.processSegmentAgainstRoute(c,e,r,i);if(null!==h)return h}return Yh(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!Qp(t,e,r,i))return null;let c,h=[],m=[];if("**"===t.path){const H=r.length>0?Va(r).parameters:{};c=new Hh(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tt(t),ss(t),t.component,t,qe(e),Ke(e)+r.length,Kn(t))}else{const H=qh(e,t,r);if(!H.matched)return null;h=H.consumedSegments,m=r.slice(H.lastChild),c=new Hh(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tt(t),ss(t),t.component,t,qe(e),Ke(e)+h.length,Kn(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:T}=pd(e,h,m,b.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&E.hasChildren()){const H=this.processChildren(b,E);return null===H?null:[new Jo(c,H)]}if(0===b.length&&0===T.length)return[new Jo(c,[])];const R=ss(t)===i,U=this.processSegment(b,E,T,R?dt:i);return null===U?null:[new Jo(c,U)]}}function ce(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Re(n){const t=[],e=new Set;for(const r of n){if(!ce(r)){t.push(r);continue}const i=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Re(r.children);t.push(new Jo(r.value,i))}return t.filter(r=>!e.has(r))}function qe(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ke(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Tt(n){return n.data||{}}function Kn(n){return n.resolve||{}}function _d(n){return dr(t=>{const e=n(t);return e?(0,pn.D)(e).pipe((0,nt.U)(()=>t)):(0,Le.of)(t)})}class Xp extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yd=new a.OlP("ROUTES");class Qh{constructor(t,e,r,i){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe((0,nt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=c.create(t);return new Gp(Zg(h.injector.get(yd,void 0,a.XFs.Self|a.XFs.Optional)).map(eu),h)}),qs(c=>{throw e._loader$=void 0,c}));return e._loader$=new kh.c(i,()=>new Ge.xQ).pipe((0,La.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,pn.D)(this.loader.load(t)):hr(t()).pipe((0,Hn.zg)(e=>e instanceof a.YKP?(0,Le.of)(e):(0,pn.D)(this.compiler.compileModuleAsync(e))))}}class Jh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new za,this.attachRef=null}}class za{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Jh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class uA{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qE(n){throw n}function ZE(n,t,e){return t.parse("/")}function nu(n,t){return(0,Le.of)(null)}const YE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let os=(()=>{class n{constructor(e,r,i,c,h,m,b,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=c,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ge.xQ,this.errorHandler=qE,this.malformedUriErrorHandler=ZE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nu,afterPreactivation:nu},this.urlHandlingStrategy=new uA,this.routeReuseStrategy=new Xp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(a.h0i),this.console=h.get(a.c2e);const U=h.get(a.R0b);this.isNgZoneEnabled=U instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new Fl(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qh(m,b,H=>this.triggerEvent(new qr(H)),H=>this.triggerEvent(new rr(H))),this.routerState=Xg(this.currentUrlTree,this.rootComponentType),this.transitions=new Or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(wn(i=>0!==i.id),(0,nt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),dr(i=>{let c=!1,h=!1;return(0,Le.of)(i).pipe((0,Nn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dr(m=>{const b=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return w_(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Le.of)(m).pipe(dr(R=>{const U=this.transitions.getValue();return r.next(new j(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions.getValue()?Nr.E:Promise.resolve(R)}),function(n,t,e,r){return dr(i=>function(n,t,e,r,i){return new c_(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,nt.U)(c=>Object.assign(Object.assign({},i),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Nn.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,t,e,r,i){return(0,Hn.zg)(c=>function(n,t,e,r,i="emptyOnly",c="legacy"){try{const h=new S(n,t,e,r,i,c).recognize();return null===h?g(new p):(0,Le.of)(h)}catch(h){return g(h)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,i).pipe((0,nt.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Nn.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const U=new je(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(U)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:H,source:J,restoredState:fe,extras:Ie}=m,Ue=new j(U,this.serializeUrl(H),J,fe);r.next(Ue);const st=Xg(H,this.rootComponentType).snapshot;return(0,Le.of)(Object.assign(Object.assign({},m),{targetSnapshot:st,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Nr.E}),_d(m=>{const{targetSnapshot:b,id:E,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:U,replaceUrl:H}}=m;return this.hooks.beforePreactivation(b,{navigationId:E,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!U,replaceUrl:!!H})}),(0,Nn.b)(m=>{const b=new $e(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,nt.U)(m=>Object.assign(Object.assign({},m),{guards:d_(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Hn.zg)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?(0,Le.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,pn.D)(n).pipe((0,Hn.zg)(i=>function(n,t,e,r,i){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Le.of)(!0);const h=c.map(m=>{const b=Lr(m,t,i);let E;if(function(n){return n&&go(n.canDeactivate)}(b))E=hr(b.canDeactivate(n,t,e,r));else{if(!go(b))throw new Error("Invalid CanDeactivate guard");E=hr(b(n,t,e,r))}return E.pipe(Rn())});return(0,Le.of)(h).pipe(Ul())}(i.component,i.route,e,t,r)),Rn(i=>!0!==i,!0))}(h,r,i,n).pipe((0,Hn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,t,e,r){return(0,pn.D)(t).pipe(Bc(i=>mo(function(n,t){return null!==n&&t&&t(new Uc(n)),(0,Le.of)(!0)}(i.route.parent,r),function(n,t){return null!==n&&t&&t(new jc(n)),(0,Le.of)(!0)}(i.route,r),function(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Mi(()=>{const m=h.guards.map(b=>{const E=Lr(b,h.node,e);let T;if(function(n){return n&&go(n.canActivateChild)}(E))T=hr(E.canActivateChild(r,n));else{if(!go(E))throw new Error("Invalid CanActivateChild guard");T=hr(E(r,n))}return T.pipe(Rn())});return(0,Le.of)(m).pipe(Ul())}));return(0,Le.of)(c).pipe(Ul())}(n,i.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Le.of)(!0);const i=r.map(c=>Mi(()=>{const h=Lr(c,t,e);let m;if(function(n){return n&&go(n.canActivate)}(h))m=hr(h.canActivate(t,n));else{if(!go(h))throw new Error("Invalid CanActivate guard");m=hr(h(t,n))}return m.pipe(Rn())}));return(0,Le.of)(i).pipe(Ul())}(n,i.route,e))),Rn(i=>!0!==i,!0))}(r,c,n,t):(0,Le.of)(m)),(0,nt.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Nn.b)(m=>{if(Qc(m.guardsResult)){const E=Op(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const b=new Nt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),wn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),_d(m=>{if(m.guards.canActivateChecks.length)return(0,Le.of)(m).pipe((0,Nn.b)(b=>{const E=new sn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}),dr(b=>{let E=!1;return(0,Le.of)(b).pipe(function(n,t){return(0,Hn.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Le.of)(e);let c=0;return(0,pn.D)(i).pipe(Bc(h=>function(n,t,e,r){return function(n,t,e,r){const i=Object.keys(n);if(0===i.length)return(0,Le.of)({});const c={};return(0,pn.D)(i).pipe((0,Hn.zg)(h=>function(n,t,e,r){const i=Lr(n,t,r);return hr(i.resolve?i.resolve(t,e):i(t,e))}(n[h],t,e,r).pipe((0,Nn.b)(m=>{c[h]=m}))),Nh(1),(0,Hn.zg)(()=>Object.keys(c).length===i.length?(0,Le.of)(c):Nr.E))}(n._resolve,n,t,r).pipe((0,nt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),e_(n,e).resolve),null)))}(h.route,r,n,t)),(0,Nn.b)(()=>c++),Nh(1),(0,Hn.zg)(h=>c===i.length?(0,Le.of)(e):Nr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Nn.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Nn.b)(b=>{const E=new $n(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}))}),_d(m=>{const{targetSnapshot:b,id:E,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:U,replaceUrl:H}}=m;return this.hooks.afterPreactivation(b,{navigationId:E,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!U,replaceUrl:!!H})}),(0,nt.U)(m=>{const b=function(n,t,e){const r=Kc(n,t._root,e?e._root:void 0);return new jh(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Nn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,nt.U)(r=>(new $p(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Nn.b)({next(){c=!0},complete(){c=!0}}),Fh(()=>{var m;if(!c&&!h){const b=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,b)):this.cancelNavigationTransition(i,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),qs(m=>{if(h=!0,function(n){return n&&n[Hc]}(m)){const b=Qc(m.url);b||(this.navigated=!0,this.restoreHistory(i,!0));const E=new de(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(E),b?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||w_(i.source)};this.scheduleNavigation(T,"imperative",null,R,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const b=new De(i.id,this.serializeUrl(i.extractedUrl),m);r.next(b);try{i.resolve(this.errorHandler(m))}catch(E){i.reject(E)}}return Nr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:c,urlTree:h}=r,m={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,i,c,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const i=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!i||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Xc(e),this.config=e.map(eu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:c,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,E=i||this.routerState.root,T=b?this.currentUrlTree.fragment:h;let R=null;switch(m){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,t,e,r,i){if(0===e.length)return i_(t.root,t.root,t,r,i);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cd(!0,0,n);let t=0,e=!1;const r=n.reduce((i,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return ir(c.outlets,(b,E)=>{m[E]="string"==typeof b?b.split("/"):b}),[...i,{outlets:m}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===h?(c.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?t++:""!=m&&i.push(m))}),i):[...i,c]},[]);return new cd(e,t,r)}(e);if(c.toRoot())return i_(t.root,new xt([],{}),t,r,i);const h=function(n,t,e){if(n.isAbsolute)return new ud(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new ud(c,c===t.root,0)}const r=ld(n.commands[0])?0:1;return function(n,t,e){let r=n,i=t,c=e;for(;c>i;){if(c-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ud(r,!1,i-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),m=h.processChildren?hd(h.segmentGroup,h.index,c.commands):dd(h.segmentGroup,h.index,c.commands);return i_(h.segmentGroup,m,t,r,i)}(E,this.currentUrlTree,e,R,null!=T?T:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Qc(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},YE):!1===r?Object.assign({},WE):r,Qc(e))return td(this.currentUrlTree,e,i);const c=this.parseUrl(e);return td(this.currentUrlTree,c,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const c=e[i];return null!=c&&(r[i]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,c,h){var m,b;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),T=w_(r)&&E&&!w_(E.source),H=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===e.toString();if(T&&H)return Promise.resolve(!0);let J,fe,Ie;h?(J=h.resolve,fe=h.reject,Ie=h.promise):Ie=new Promise((Mt,ot)=>{J=Mt,fe=ot});const Ue=++this.navigationId;let st;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),st=i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):st=0,this.setTransition({id:Ue,targetPageId:st,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:J,reject:fe,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(e,r=!1){var i,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new de(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.DyG),a.LFG(Fp),a.LFG(za),a.LFG(kt),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function w_(n){return"imperative"!==n}let Xh=(()=>{class n{constructor(e,r,i,c,h){this.router=e,this.route=r,this.commands=[],this.onChanges=new Ge.xQ,null==i&&c.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:vd(this.skipLocationChange),replaceUrl:vd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(os),a.Y36(Vl),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),n})(),em=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new Ge.xQ,this.subscription=e.events.subscribe(c=>{c instanceof te&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,c,h){if(0!==e||r||i||c||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const m={skipLocationChange:vd(this.skipLocationChange),replaceUrl:vd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(os),a.Y36(Vl),a.Y36(pe))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&a.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&(a.Ikx("href",r.href,a.LSH),a.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),n})();function vd(n){return""===n||!!n}let ef=(()=>{class n{constructor(e,r,i,c,h){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=c||dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new C_(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(za),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class C_{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Vl?this.route:t===za?this.childContexts:this.parent.get(t,e)}}class lb{}class ub{preload(t,e){return(0,Le.of)(null)}}let E_=(()=>{class n{constructor(e,r,i,c,h){this.router=e,this.injector=c,this.preloadingStrategy=h,this.loader=new Qh(r,i,E=>e.triggerEvent(new qr(E)),E=>e.triggerEvent(new rr(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(wn(e=>e instanceof te),Bc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;i.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?i.push(this.preloadConfig(e,c)):c.children&&i.push(this.processRoutes(e,c.children));return(0,pn.D)(i).pipe((0,zs.J)(),(0,nt.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Le.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Hn.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(os),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(lb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),bd=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof j?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ns&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ns(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(os),a.LFG(yl),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ru=new a.OlP("ROUTER_CONFIGURATION"),QE=new a.OlP("ROUTER_FORROOT_GUARD"),JE=[kt,{provide:Fp,useClass:zc},{provide:os,useFactory:function(n,t,e,r,i,c,h,m={},b,E){const T=new os(null,n,t,e,r,i,c,Zg(h));return b&&(T.urlHandlingStrategy=b),E&&(T.routeReuseStrategy=E),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(m,T),m.enableTracing&&T.events.subscribe(R=>{var U,H;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(H=console.groupEnd)||void 0===H||H.call(console)}),T},deps:[Fp,za,kt,a.zs3,a.v3s,a.Sil,yd,ru,[class{},new a.FiY],[class{},new a.FiY]]},za,{provide:Vl,useFactory:function(n){return n.routerState.root},deps:[os]},{provide:a.v3s,useClass:a.EAV},E_,ub,class{preload(t,e){return e().pipe(qs(()=>(0,Le.of)(null)))}},{provide:ru,useValue:{enableTracing:!1}}];function db(){return new a.PXZ("Router",os)}let hb=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[JE,fb(e),{provide:QE,useFactory:hA,deps:[[os,new a.FiY,new a.tp0]]},{provide:ru,useValue:r||{}},{provide:pe,useFactory:XE,deps:[ee,[new a.tBr(ye),new a.FiY],ru]},{provide:bd,useFactory:zN,deps:[os,yl,ru]},{provide:lb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ub},{provide:a.PXZ,multi:!0,useFactory:db},[pb,{provide:a.ip1,multi:!0,useFactory:e0,deps:[pb]},{provide:t0,useFactory:mA,deps:[pb]},{provide:a.tb,multi:!0,useExisting:t0}]]}}static forChild(e){return{ngModule:n,providers:[fb(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(QE,8),a.LFG(os,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function zN(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new bd(n,t,e)}function XE(n,t,e={}){return e.useHash?new Ve(n,t):new Oe(n,t)}function hA(n){return"guarded"}function fb(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:yd,multi:!0,useValue:n}]}let pb=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ge.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),c=this.injector.get(os),h=this.injector.get(ru);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Le.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(ru),i=this.injector.get(E_),c=this.injector.get(bd),h=this.injector.get(os),m=this.injector.get(a.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),i.setUpPreloading(),c.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function e0(n){return n.appInitializer.bind(n)}function mA(n){return n.bootstrapListener.bind(n)}const t0=new a.OlP("Router Initializer");var me=F(8239);class tm{constructor(t){this._type=t?t.type:"",this._minutes=t?t.minutes:0}get type(){return this._type}get minutes(){return this._minutes}toJSON(){return{type:this._type,minutes:this._minutes}}}class mb{constructor(t){this._income=t?t.income:0,this._rooms=t?t.rooms.map(e=>new tm(e)):[new tm],this._setup=!(!t||!("setup"in t))&&t.setup,this._customId=t&&"customId"in t?t.customId:null}get customId(){return this._customId}get setup(){return this._setup}set setup(t){this._setup=t}get income(){return this._income}get rooms(){return this._rooms}toJSON(){return{income:this._income,rooms:this._rooms.map(t=>t.toJSON()),setup:this._setup}}}class n0{constructor(t,e){this._date=t?t.date:new Date,this._workTime=t?t.workTime:0,this._roomsCount=t?t.roomsCount:[{room:(new tm).toJSON(),count:0}],this._author=e}getAllocWorkTime(){return this._roomsCount.map(r=>r.room.minutes*r.count).reduce((r,i)=>r+i,0)}get workTime(){return this._workTime}get roomsCount(){return this._roomsCount}get date(){return this._date}get author(){return this._author}toJSON(){return{date:this._date,workTime:this._workTime,author:this._author,roomsCount:this._roomsCount}}}var wt=F(1555);function gb(...n){if(1===n.length){const t=n[0];if((0,xl.k)(t))return nm(t,null);if((0,wt.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return nm(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return nm(n=1===n.length&&(0,xl.k)(n[0])?n[0]:n,null).pipe((0,nt.U)(e=>t(...e)))}return nm(n,null)}function nm(n,t){return new _n.y(e=>{const r=n.length;if(0===r)return void e.complete();const i=new Array(r);let c=0,h=0;for(let m=0;m<r;m++){const b=(0,pn.D)(n[m]);let E=!1;e.add(b.subscribe({next:T=>{E||(E=!0,h++),i[m]=T},error:T=>e.error(T),complete:()=>{c++,(c===r||!E)&&(h===r&&e.next(t?t.reduce((T,R,U)=>(T[R]=i[U],T),{}):i),e.complete())}}))}})}let rm=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),mi=(()=>{class n extends rm{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Ri=new a.OlP("NgValueAccessor"),Gl={provide:Ri,useExisting:(0,a.Gpc)(()=>zl),multi:!0},r0=new a.OlP("CompositionEventMode");let zl=(()=>{class n extends rm{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(r0,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[a._Bn([Gl]),a.qOj]}),n})();function wd(n){return null==n||0===n.length}function yb(n){return null!=n&&"number"==typeof n.length}const Yr=new a.OlP("NgValidators"),Oi=new a.OlP("NgAsyncValidators"),I_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yt{static min(t){return function(n){return t=>{if(wd(t.value)||wd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(wd(t.value)||wd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return s0(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return wd(n.value)||I_.test(n.value)?null:{email:!0}}(t)}static minLength(t){return o0(t)}static maxLength(t){return function(n){return t=>yb(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return ql;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(wd(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return DA(t)}static composeAsync(t){return IA(t)}}function s0(n){return wd(n.value)?{required:!0}:null}function o0(n){return t=>wd(t.value)||!yb(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function ql(n){return null}function a0(n){return null!=n}function T_(n){const t=(0,a.QGY)(n)?(0,pn.D)(n):n;return(0,a.CqO)(t),t}function wA(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function CA(n,t){return t.map(e=>e(n))}function EA(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function DA(n){if(!n)return null;const t=n.filter(a0);return 0==t.length?null:function(e){return wA(CA(e,t))}}function l0(n){return null!=n?DA(EA(n)):null}function IA(n){if(!n)return null;const t=n.filter(a0);return 0==t.length?null:function(e){return gb(CA(e,t).map(T_)).pipe((0,nt.U)(wA))}}function c0(n){return null!=n?IA(EA(n)):null}function SA(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function TA(n){return n._rawValidators}function AA(n){return n._rawAsyncValidators}function qa(n){return n?Array.isArray(n)?n:[n]:[]}function tf(n,t){return Array.isArray(n)?n.includes(t):n===t}function u0(n,t){const e=qa(t);return qa(n).forEach(i=>{tf(e,i)||e.push(i)}),e}function wb(n,t){return qa(t).filter(e=>!tf(n,e))}let A_=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=l0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=c0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})(),gi=(()=>{class n extends A_{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();class yo extends A_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class d0{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let im=(()=>{class n extends d0{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yo,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),M_=(()=>{class n extends d0{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(gi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function cm(n,t){return[...t.path,n]}function nf(n,t){of(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Eb(n,t)})}(n,t),function(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Eb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function rf(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),O_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function of(n,t){const e=TA(n);null!==t.validator?n.setValidators(SA(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=AA(n);null!==t.asyncValidator?n.setAsyncValidators(SA(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();sf(t._rawValidators,i),sf(t._rawAsyncValidators,i)}function O_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=TA(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(h=>h!==t.validator);c.length!==i.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const i=AA(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(h=>h!==t.asyncValidator);c.length!==i.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return sf(t._rawValidators,r),sf(t._rawAsyncValidators,r),e}function Eb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _0(n,t){of(n,t)}function v0(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Db(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const N_="VALID",P_="INVALID",iu="PENDING",af="DISABLED";function Ib(n){return(L_(n)?n.validators:n)||null}function w0(n){return Array.isArray(n)?l0(n):n||null}function F_(n,t){return(L_(t)?t.asyncValidators:n)||null}function C0(n){return Array.isArray(n)?c0(n):n||null}function L_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Sb{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=w0(this._rawValidators),this._composedAsyncValidatorFn=C0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===N_}get invalid(){return this.status===P_}get pending(){return this.status==iu}get disabled(){return this.status===af}get enabled(){return this.status!==af}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=w0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=C0(t)}addValidators(t){this.setValidators(u0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(u0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(wb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(wb(t,this._rawAsyncValidators))}hasValidator(t){return tf(this._rawValidators,t)}hasAsyncValidator(t){return tf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=af,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=N_,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N_||this.status===iu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?af:N_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;const e=T_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=r instanceof ra?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof um&&r.at(i)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?af:this.errors?P_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(P_)?P_:N_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){L_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vr extends Sb{constructor(t=null,e,r){super(Ib(e),F_(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Db(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Db(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ra extends Sb{constructor(t,e,r){super(Ib(e),F_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof Vr?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,c)=>{r=e(r,i,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class um extends Sb{constructor(t,e,r){super(Ib(e),F_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Vr?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const FA={provide:gi,useExisting:(0,a.Gpc)(()=>Dd)},Ed=(()=>Promise.resolve(null))();let Dd=(()=>{class n extends gi{constructor(e,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new ra({},l0(e),c0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ed.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),nf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ed.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),Db(this._directives,e)})}addFormGroup(e){Ed.then(()=>{const r=this._findContainer(e.path),i=new ra({});_0(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ed.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Ed.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,v0(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(Oi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([FA]),a.qOj]}),n})(),E0=(()=>{class n extends gi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Tb={provide:Ri,useExisting:(0,a.Gpc)(()=>lf),multi:!0};let lf=(()=>{class n extends mi{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([Tb]),a.qOj]}),n})(),I0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const U_=new a.OlP("NgModelWithFormControlWarning"),T0={provide:gi,useExisting:(0,a.Gpc)(()=>Br)};let Br=(()=>{class n extends gi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return nf(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){rf(e.control||null,e,!1),Db(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,v0(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(rf(r||null,e),i instanceof Vr&&(nf(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);_0(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return O_(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){of(this.form,this),this._oldForm&&O_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(Oi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([T0]),a.qOj,a.TTD]}),n})();const j_={provide:gi,useExisting:(0,a.Gpc)(()=>fm)};let fm=(()=>{class n extends E0{constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Id(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(gi,13),a.Y36(Yr,10),a.Y36(Oi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([j_]),a.qOj]}),n})();const HA={provide:gi,useExisting:(0,a.Gpc)(()=>H_)};let H_=(()=>{class n extends gi{constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return cm(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Id(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(gi,13),a.Y36(Yr,10),a.Y36(Oi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([HA]),a.qOj]}),n})();function Id(n){return!(n instanceof fm||n instanceof Br||n instanceof H_)}const A0={provide:yo,useExisting:(0,a.Gpc)(()=>Za)};let Za=(()=>{class n extends yo{constructor(e,r,i,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(c=>{c.constructor===zl?e=c:function(n){return Object.getPrototypeOf(n.constructor)===mi}(c)?r=c:i=c}),i||r||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return cm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(gi,13),a.Y36(Yr,10),a.Y36(Oi,10),a.Y36(Ri,10),a.Y36(U_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([A0]),a.qOj,a.TTD]}),n._ngModelWarningSentOnce=!1,n})();const zA={provide:Yr,useExisting:(0,a.Gpc)(()=>Td),multi:!0};let Td=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?s0(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&a.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[a._Bn([zA])]}),n})();const zn={provide:Yr,useExisting:(0,a.Gpc)(()=>mm),multi:!0};let mm=(()=>{class n{constructor(){this._validator=ql}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?o0(function(n){return"number"==typeof n?n:parseInt(n,10)}(this.minlength)):ql}enabled(){return null!=this.minlength}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&a.uIk("minlength",r.enabled()?r.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([zn]),a.TTD]}),n})(),Lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[I0]]}),n})(),P0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:U_,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Lb]}),n})();function Lt(n){return null!=n&&"false"!=`${n}`}function gm(n){return Array.isArray(n)?n:[n]}function fr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wa(n){return n instanceof a.SBq?n.nativeElement:n}var JA=F(9105);function Ad(n,t,e,r){return(0,JA.m)(e)&&(r=e,e=void 0),r?Ad(n,t,e).pipe((0,nt.U)(i=>(0,xl.k)(i)?r(...i):r(i))):new _n.y(i=>{Vb(n,t,function(h){i.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},i,e)})}function Vb(n,t,e,r,i){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(t,e,i),c=()=>h.removeEventListener(t,e,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(t,e),c=()=>h.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(t,e),c=()=>h.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)Vb(n[h],t,e,r,i)}r.add(c)}var eM=F(6465),cP=F(6102);new class extends cP.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,c=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<c&&(t=e.shift()));if(this.active=!1,r){for(;++i<c&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends eM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});F(4581);function Ss(n,t){return e=>e.lift(new uP(n,t))}class uP{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new dP(t,this.compare,this.keySelector))}}class dP extends cn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}var Ub=F(3637);class U0{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new j0(t,this.durationSelector))}}class j0 extends xi.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:i}=this;e=i(t)}catch(i){return this.destination.error(i)}const r=(0,xi.ft)(e,new xi.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var H0=F(6561);function $0(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function uf(n,t=Ub.P){return function(n){return function(e){return e.lift(new U0(n))}}(()=>function(n=0,t,e){let r=-1;return(0,H0.k)(t)?r=Number(t)<1?1:Number(t):(0,$s.K)(t)&&(e=t),(0,$s.K)(e)||(e=Ub.P),new _n.y(i=>{const c=(0,H0.k)(n)?n:+n-e.now();return e.schedule($0,c,{index:0,period:r,subscriber:i})})}(n,t))}function Cr(n){return t=>t.lift(new jb(n))}class jb{constructor(t){this.notifier=t}call(t,e){const r=new iM(t),i=(0,xi.ft)(this.notifier,new xi.IY(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r}}class iM extends xi.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function z_(){return n=>n.lift(new sM)}class sM{call(t,e){return e.subscribe(new oM(t))}}class oM extends cn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var aM=F(7771),_m=F(6136),q_=F(8858);class df extends Ge.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new G0(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=r.length;let h;if(this.closed)throw new Ku.N;if(this.isStopped||this.hasError?h=Cn.w.EMPTY:(this.observers.push(t),h=new q_.W(this,t)),i&&t.add(t=new _m.ht(t,i)),e)for(let m=0;m<c&&!t.closed;m++)t.next(r[m]);else for(let m=0;m<c&&!t.closed;m++)t.next(r[m].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||aM.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,c=i.length;let h=0;for(;h<c&&!(t-i[h].time<r);)h++;return c>e&&(h=Math.max(h,c-e)),h>0&&i.splice(0,h),i}}class G0{constructor(t,e){this.time=t,this.value=e}}function Ws(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},i=>i.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let i,h,c=0,m=!1,b=!1;return function(T){let R;c++,!i||m?(m=!1,i=new df(n,t,r),R=i.subscribe(this),h=T.subscribe({next(U){i.next(U)},error(U){m=!0,i.error(U)},complete(){b=!0,h=void 0,i.complete()}}),b&&(h=void 0)):R=i.subscribe(this),this.add(()=>{c--,R.unsubscribe(),R=void 0,h&&!b&&e&&0===c&&(h.unsubscribe(),h=void 0,i=void 0)})}}(r))}let Hb;try{Hb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Hb=!1}let ls,mn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.Lbi))},token:n,providedIn:"root"}),n})(),su=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const hf=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _i(){if(ls)return ls;if("object"!=typeof document||!document)return ls=new Set(hf),ls;let n=document.createElement("input");return ls=new Set(hf.filter(t=>(n.setAttribute("type",t),n.type===t))),ls}let ia,ff,vo,ou;function Ni(n){return function(){if(null==ia&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ia=!0}))}finally{ia=ia||!1}return ia}()?n:!!n.capture}function Md(){if(null==vo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vo=!1,vo;if("scrollBehavior"in document.documentElement.style)vo=!0;else{const n=Element.prototype.scrollTo;vo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vo}function Ka(){if("object"!=typeof document||!document)return 0;if(null==ff){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),ff=0,0===n.scrollLeft&&(n.scrollLeft=1,ff=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return ff}function Qa(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function bo(n){return n.composedPath?n.composedPath()[0]:n.target}function au(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const $b=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(ne)}});let cs=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const i=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||i;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($b,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG($b,8))},token:n,providedIn:"root"}),n})(),gf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),_f=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new Ge.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new _n.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(uf(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(wn(c=>!c||i.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Wa(r),c=e.getElementRef().nativeElement;do{if(i==c)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ad(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(mn),a.LFG(ne,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(mn),a.LFG(ne,8))},token:n,providedIn:"root"}),n})(),vm=(()=>{class n{constructor(e,r,i,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=c,this._destroyed=new Ge.xQ,this._elementScrolled=new _n.y(h=>this.ngZone.runOutsideAngular(()=>Ad(this.elementRef.nativeElement,"scroll").pipe(Cr(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=Ka()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==Ka()?e.left=e.right:1==Ka()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;Md()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?i:r:"end"==e&&(e=h?r:i),h&&2==Ka()?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:h&&1==Ka()?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(_f),a.Y36(a.R0b),a.Y36(cs,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),xd=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new Ge.xQ,this._changeListener=c=>{this._change.next(c)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,c=i.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(uf(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mn),a.LFG(a.R0b),a.LFG(ne,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mn),a.LFG(a.R0b),a.LFG(ne,8))},token:n,providedIn:"root"}),n})(),bm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),J0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[gf,su,bm],gf,bm]}),n})();class zb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class lu extends zb{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class wm extends zb{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class yM extends zb{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class Yl{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof lu?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof wm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof yM?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tD extends Yl{constructor(t,e,r,i,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=h=>{const m=h.element,b=this._document.createComment("dom-portal");m.parentNode.insertBefore(b,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(m,b)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let cu=(()=>{class n extends Yl{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=c=>{const h=c.element,m=this._document.createComment("dom-portal");c.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=r.createComponent(c,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ne))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var uu=F(6682);function Jl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const Jb=Md();class gD{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=fr(-this._previousScrollPosition.left),t.style.top=fr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,c=r.scrollBehavior||"",h=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Jb&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Jb&&(r.scrollBehavior=c,i.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class _D{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Xb{enable(){}disable(){}attach(){}}function J_(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function ew(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class tw{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();J_(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nw=(()=>{class n{constructor(e,r,i,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Xb,this.close=h=>new _D(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new gD(this._viewportRuler,this._document),this.reposition=h=>new tw(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_f),a.LFG(xd),a.LFG(a.R0b),a.LFG(ne))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(_f),a.LFG(xd),a.LFG(a.R0b),a.LFG(ne))},token:n,providedIn:"root"}),n})();class sa{constructor(t){if(this.scrollStrategy=new Xb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class cx{constructor(t,e,r,i,c){this.offsetX=r,this.offsetY=i,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Cf{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ux=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ne))},token:n,providedIn:"root"}),n})(),vD=(()=>{class n extends ux{constructor(e){super(e),this._keydownListener=r=>{const i=this._attachedOverlays;for(let c=i.length-1;c>-1;c--)if(i[c]._keydownEvents.observers.length>0){i[c]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ne))},token:n,providedIn:"root"}),n})(),bD=(()=>{class n extends ux{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=bo(i)},this._clickListener=i=>{const c=bo(i),h="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let b=m.length-1;b>-1;b--){const E=m[b];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(c)||E.overlayElement.contains(h))break;E._outsidePointerEvents.next(i)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(mn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ne),a.LFG(mn))},token:n,providedIn:"root"}),n})(),X_=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||au()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<i.length;c++)i[c].parentNode.removeChild(i[c])}const r=this._document.createElement("div");r.classList.add(e),au()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(mn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ne),a.LFG(mn))},token:n,providedIn:"root"}),n})();class lt{constructor(t,e,r,i,c,h,m,b,E){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=c,this._keyboardDispatcher=h,this._document=m,this._location=b,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new Ge.xQ,this._attachments=new Ge.xQ,this._detachments=new Ge.xQ,this._locationChanges=Cn.w.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new Ge.xQ,this._outsidePointerEvents=new Ge.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=fr(this._config.width),t.height=fr(this._config.height),t.minWidth=fr(this._config.minWidth),t.minHeight=fr(this._config.minHeight),t.maxWidth=fr(this._config.maxWidth),t.maxHeight=fr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const i=t.classList;gm(e).forEach(c=>{c&&(r?i.add(c):i.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Cr((0,uu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const wD="cdk-overlay-connected-position-bounding-box",dx=/([A-Za-z%]+)$/;class rw{constructor(t,e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ge.xQ,this._resizeSubscription=Cn.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(wD),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=[];let c;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,h),b=this._getOverlayPoint(m,e,h),E=this._getOverlayFit(b,e,r,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(E,b,r)?i.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!c||c.overlayFit.visibleArea<E.visibleArea)&&(c={overlayFit:E,overlayPoint:b,originPoint:m,position:h,overlayRect:e})}if(i.length){let h=null,m=-1;for(const b of i){const E=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);E>m&&(m=E,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&el(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wD),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,i;if("center"==e.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==e.originX?c:h}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:i}}_getOverlayPoint(t,e,r){let i,c;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+c}}_getOverlayFit(t,e,r,i){const c=Im(e);let{x:h,y:m}=t,b=this._getOffset(i,"x"),E=this._getOffset(i,"y");b&&(h+=b),E&&(m+=E);let U=0-m,H=m+c.height-r.height,J=this._subtractOverflows(c.width,0-h,h+c.width-r.width),fe=this._subtractOverflows(c.height,U,H),Ie=J*fe;return{visibleArea:Ie,isCompletelyWithinViewport:c.width*c.height===Ie,fitsInViewportVertically:fe===c.height,fitsInViewportHorizontally:J==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,c=r.right-e.x,h=CD(this._overlayRef.getConfig().minHeight),m=CD(this._overlayRef.getConfig().minWidth),E=t.fitsInViewportHorizontally||null!=m&&m<=c;return(t.fitsInViewportVertically||null!=h&&h<=i)&&E}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=Im(e),c=this._viewportRect,h=Math.max(t.x+i.width-c.width,0),m=Math.max(t.y+i.height-c.height,0),b=Math.max(c.top-r.top-t.y,0),E=Math.max(c.left-r.left-t.x,0);let T=0,R=0;return T=i.width<=c.width?E||-h:t.x<this._viewportMargin?c.left-r.left-t.x:0,R=i.height<=c.height?b||-m:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:T,y:R},{x:t.x+T,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Cf(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let c,h,m,T,R,U;if("top"===e.overlayY)h=t.y,c=r.height-h+this._viewportMargin;else if("bottom"===e.overlayY)m=r.height-t.y+2*this._viewportMargin,c=r.height-m+this._viewportMargin;else{const H=Math.min(r.bottom-t.y+r.top,t.y),J=this._lastBoundingBoxSize.height;c=2*H,h=t.y-H,c>J&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.y-J/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)U=r.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)R=t.x,T=r.right-t.x;else{const H=Math.min(r.right-t.x+r.left,t.x),J=this._lastBoundingBoxSize.width;T=2*H,R=t.x-H,T>J&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-J/2)}return{top:h,left:R,bottom:m,right:U,width:T,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;i.height=fr(r.height),i.top=fr(r.top),i.bottom=fr(r.bottom),i.width=fr(r.width),i.left=fr(r.left),i.right=fr(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(i.maxHeight=fr(c)),h&&(i.maxWidth=fr(h))}this._lastBoundingBoxSize=r,el(this._boundingBox.style,i)}_resetBoundingBoxStyles(){el(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){el(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),c=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();el(r,this._getExactOverlayY(e,t,T)),el(r,this._getExactOverlayX(e,t,T))}else r.position="static";let m="",b=this._getOffset(e,"x"),E=this._getOffset(e,"y");b&&(m+=`translateX(${b}px) `),E&&(m+=`translateY(${E}px)`),r.transform=m.trim(),h.maxHeight&&(i?r.maxHeight=fr(h.maxHeight):c&&(r.maxHeight="")),h.maxWidth&&(i?r.maxWidth=fr(h.maxWidth):c&&(r.maxWidth="")),el(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=h,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":i.top=fr(c.y),i}_getExactOverlayX(t,e,r){let h,i={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),h=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===h?i.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":i.left=fr(c.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ew(t,r),isOriginOutsideView:J_(t,r),isOverlayClipped:ew(e,r),isOverlayOutsideView:J_(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&gm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function el(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function CD(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(dx);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Im(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class ey{constructor(t,e,r,i,c,h,m){this._preferredPositions=[],this._positionStrategy=new rw(r,i,c,h,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,i){const c=new cx(t,e,r,i);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Qn="cdk-global-overlay-wrapper";class hF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Qn),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:c,maxWidth:h,maxHeight:m}=r,b=!("100%"!==i&&"100vw"!==i||h&&"100%"!==h&&"100vw"!==h),E=!("100%"!==c&&"100vh"!==c||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=E?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(Qn),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ED=(()=>{class n{constructor(e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c}global(){return new hF}connectedTo(e,r,i){return new ey(r,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new rw(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xd),a.LFG(ne),a.LFG(mn),a.LFG(X_))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(xd),a.LFG(ne),a.LFG(mn),a.LFG(X_))},token:n,providedIn:"root"}),n})(),iw=0,tl=(()=>{class n{constructor(e,r,i,c,h,m,b,E,T,R,U){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=c,this._keyboardDispatcher=h,this._injector=m,this._ngZone=b,this._document=E,this._directionality=T,this._location=R,this._outsideClickDispatcher=U}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),c=this._createPortalOutlet(i),h=new sa(e);return h.direction=h.direction||this._directionality.value,new lt(c,r,i,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+iw++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new tD(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(nw),a.LFG(X_),a.LFG(a._Vd),a.LFG(ED),a.LFG(vD),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ne),a.LFG(cs),a.LFG(kt),a.LFG(bD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mx={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[tl],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[tl,mx],imports:[[gf,Y_,J0],J0]}),n})();function ID(n){return t=>t.lift(new gx(n))}class gx{constructor(t){this.total=t}call(t,e){return e.subscribe(new _x(t,this.total))}}class _x extends cn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Ef(n,t=Ub.P){return e=>e.lift(new SD(n,t))}class SD{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new TD(t,this.dueTime,this.scheduler))}}class TD extends cn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(AD,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function AD(n){n.debouncedNext()}let aw=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Df=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Wa(e);return new _n.y(i=>{const h=this._observeElement(r).subscribe(i);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new Ge.xQ,i=this._mutationObserverFactory.create(c=>r.next(c));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(aw))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(aw))},token:n,providedIn:"root"}),n})(),Sm=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Lt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ef(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Df),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[aw]}),n})(),uw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===OD(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),c=OD(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==c:"video"===i?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||RD(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mn))},token:n,providedIn:"root"}),n})();function RD(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function OD(n){if(!RD(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class xx{constructor(t,e,r,i,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(wr(1)).subscribe(t)}}let ny=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new xx(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(uw),a.LFG(a.R0b),a.LFG(ne))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(uw),a.LFG(a.R0b),a.LFG(ne))},token:n,providedIn:"root"}),n})();function ry(n){return 0===n.offsetX&&0===n.offsetY}function LD(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const hw=new a.OlP("cdk-input-modality-detector-options"),Nx={ignoreKeys:[18,17,224,91,16]},Sf=Ni({passive:!0,capture:!0});let BD=(()=>{class n{constructor(e,r,i,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Or(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,b;(null===(b=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===b?void 0:b.some(E=>E===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=bo(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ry(h)?"keyboard":"mouse"),this._mostRecentTarget=bo(h))},this._onTouchstart=h=>{LD(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bo(h))},this._options=Object.assign(Object.assign({},Nx),c),this.modalityDetected=this._modality.pipe(ID(1)),this.modalityChanged=this.modalityDetected.pipe(Ss()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Sf),i.addEventListener("mousedown",this._onMousedown,Sf),i.addEventListener("touchstart",this._onTouchstart,Sf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sf),document.removeEventListener("mousedown",this._onMousedown,Sf),document.removeEventListener("touchstart",this._onTouchstart,Sf))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mn),a.LFG(a.R0b),a.LFG(ne),a.LFG(hw,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mn),a.LFG(a.R0b),a.LFG(ne),a.LFG(hw,8))},token:n,providedIn:"root"}),n})();const UD=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),jD=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let fw=(()=>{class n{constructor(e,r,i,c){this._ngZone=r,this._defaultOptions=c,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let c,h;return 1===r.length&&"number"==typeof r[0]?h=r[0]:[c,h]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=i&&i.politeness?i.politeness:"polite"),null==h&&i&&(h=i.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(m=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,m(),"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].parentNode.removeChild(r[c]);return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(UD,8),a.LFG(a.R0b),a.LFG(ne),a.LFG(jD,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(UD,8),a.LFG(a.R0b),a.LFG(ne),a.LFG(jD,8))},token:n,providedIn:"root"}),n})();const pw=new a.OlP("cdk-focus-monitor-default-options"),iy=Ni({passive:!0,capture:!0});let Tf=(()=>{class n{constructor(e,r,i,c,h){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ge.xQ,this._rootNodeFocusAndBlurListener=m=>{const b=bo(m),E="focus"===m.type?this._onFocus:this._onBlur;for(let T=b;T;T=T.parentElement)E.call(this,m,T)},this._document=c,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,r=!1){const i=Wa(e);if(!this._platform.isBrowser||1!==i.nodeType)return(0,Le.of)(null);const c=function(n){if(function(){if(null==ou){const n="undefined"!=typeof document?document.head:null;ou=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ou}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),h=this._elementInfo.get(i);if(h)return r&&(h.checkChildren=!0),h.subject;const m={checkChildren:r,subject:new Ge.xQ,rootNode:c};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=Wa(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const c=Wa(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([m,b])=>this._originChanged(m,r,b)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,i){i?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),c=bo(e);!i||!i.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,iy),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,iy)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,iy),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,iy),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,c)=>{(c===e||i.checkChildren&&c.contains(e))&&r.push([c,i])}),r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(mn),a.LFG(BD),a.LFG(ne,8),a.LFG(pw,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(mn),a.LFG(BD),a.LFG(ne,8),a.LFG(pw,8))},token:n,providedIn:"root"}),n})();const $D="cdk-high-contrast-black-on-white",GD="cdk-high-contrast-white-on-black",gw="cdk-high-contrast-active";let sy=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(gw),e.remove($D),e.remove(GD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(gw),e.add($D)):2===r&&(e.add(gw),e.add(GD))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mn),a.LFG(ne))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mn),a.LFG(ne))},token:n,providedIn:"root"}),n})(),_w=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(sy))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[su,MD]]}),n})();const yw=new a.GfV("12.2.13");class oy{}const Xl="*";function wo(n,t){return{type:7,name:n,definitions:t,options:{}}}function Pi(n,t=null){return{type:4,styles:t,timings:n}}function zD(n,t=null){return{type:2,steps:n,options:t}}function _t(n){return{type:6,styles:n,offset:null}}function nl(n,t,e){return{type:0,name:n,styles:t,options:e}}function Af(n){return{type:5,steps:n}}function us(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function qD(n,t=null){return{type:8,animation:n,options:t}}function ZD(n){Promise.resolve(null).then(n)}class oa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ZD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class YD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const c=this.players.length;0==c?ZD(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++r==c&&this._onDestroy()}),h.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function KD(){return"undefined"!=typeof window&&void 0!==window.document}function Co(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ec(n){switch(n.length){case 0:return new oa;case 1:return n[0];default:return new YD(n)}}function Vx(n,t,e,r,i={},c={}){const h=[],m=[];let b=-1,E=null;if(r.forEach(T=>{const R=T.offset,U=R==b,H=U&&E||{};Object.keys(T).forEach(J=>{let fe=J,Ie=T[J];if("offset"!==J)switch(fe=t.normalizePropertyName(fe,h),Ie){case"!":Ie=i[J];break;case Xl:Ie=c[J];break;default:Ie=t.normalizeStyleValue(J,fe,Ie,h)}H[fe]=Ie}),U||m.push(H),E=H,b=R}),h.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${h.join(T)}`)}return m}function xf(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&bw(e,"start",n)));break;case"done":n.onDone(()=>r(e&&bw(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&bw(e,"destroy",n)))}}function bw(n,t,e){const r=e.totalTime,c=ww(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),h=n._data;return null!=h&&(c._data=h),c}function ww(n,t,e,r,i="",c=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:c,disabled:!!h}}function Eo(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function QD(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Cw=(n,t)=>!1,Am=(n,t)=>!1,ly=(n,t,e)=>[];const JD=Co();(JD||"undefined"!=typeof Element)&&(Cw=KD()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Am=(()=>{if(JD||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):Am}})(),ly=(n,t,e)=>{let r=[];if(e){const i=n.querySelectorAll(t);for(let c=0;c<i.length;c++)r.push(i[c])}else{const i=n.querySelector(t);i&&r.push(i)}return r});let Od=null,XD=!1;function Ew(n){Od||(Od=("undefined"!=typeof document?document.body:null)||{},XD=!!Od.style&&"WebkitAppearance"in Od.style);let t=!0;return Od.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Od.style,!t&&XD&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Od.style)),t}const cy=Am,uy=Cw,Dw=ly;function tI(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let Iw=(()=>{class n{validateStyleProperty(e){return Ew(e)}matchesElement(e,r){return cy(e,r)}containsElement(e,r){return uy(e,r)}query(e,r,i){return Dw(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,c,h,m=[],b){return new oa(i,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),kf=(()=>{class n{}return n.NOOP=new Iw,n})();const Rf="ng-enter",du="ng-leave",Tw="ng-trigger",hy=".ng-trigger",nI="ng-animating",Aw=".ng-animating";function Nd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Mw(parseFloat(t[1]),t[2])}function Mw(n,t){switch(t){case"s":return 1e3*n;default:return n}}function fy(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let i,c=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=Mw(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(c=Mw(parseFloat(b),m[4]));const E=m[5];E&&(h=E)}else i=n;if(!e){let m=!1,b=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),m=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:c,easing:h}}(n,t,e)}function Of(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Pd(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Of(n,e);return e}function iI(n,t,e){return e?t+":"+e+";":""}function Nf(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=iI(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iI(0,Gx(e),n.style[e]));n.setAttribute("style",t)}function rl(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=Pf(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),Co()&&Nf(n))}function Fd(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Pf(e);n.style[r]=""}),Co()&&Nf(n))}function Mm(n){return Array.isArray(n)?1==n.length?n[0]:zD(n):n}const tc=new RegExp("{{\\s*(.+?)\\s*}}","g");function xw(n){let t=[];if("string"==typeof n){let e;for(;e=tc.exec(n);)t.push(e[1]);tc.lastIndex=0}return t}function my(n,t,e){const r=n.toString(),i=r.replace(tc,(c,h)=>{let m=t[h];return t.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return i==r?n:i}function kw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $x=/-+([a-z0-9])/g;function Pf(n){return n.replace($x,(...t)=>t[1].toUpperCase())}function Gx(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sI(n,t){return 0===n||0===t}function Rw(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],h=[];if(r.forEach(m=>{c.hasOwnProperty(m)||h.push(m),c[m]=e[m]}),h.length)for(var i=1;i<t.length;i++){let m=t[i];h.forEach(function(b){m[b]=xm(n,b)})}}return t}function Ts(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function xm(n,t){return window.getComputedStyle(n)[t]}function oI(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const b=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const i=r[1],c=r[2],h=r[3];t.push(Ow(i,h));"<"==c[0]&&!("*"==i&&"*"==h)&&t.push(Ow(h,i))}(r,e,t)):e.push(n),e}const Rm=new Set(["true","1"]),gy=new Set(["false","0"]);function Ow(n,t){const e=Rm.has(n)||gy.has(n),r=Rm.has(t)||gy.has(t);return(i,c)=>{let h="*"==n||n==i,m="*"==t||t==c;return!h&&e&&"boolean"==typeof i&&(h=i?Rm.has(n):gy.has(n)),!m&&r&&"boolean"==typeof c&&(m=c?Rm.has(t):gy.has(t)),h&&m}}const _y=new RegExp("s*:selfs*,?","g");function aI(n,t,e){return new hn(n).build(t,e)}class hn{constructor(t){this._driver=t}build(t,e){const r=new Nm(e);return this._resetContextStyleTimingState(r),Ts(this,Mm(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const c=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const b=m,E=b.name;E.toString().split(/\s*,\s*/).forEach(T=>{b.name=T,c.push(this.visitState(b,e))}),b.name=E}else if(1==m.type){const b=this.visitTransition(m,e);r+=b.queryCount,i+=b.depCount,h.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:h,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,h=i||{};if(r.styles.forEach(m=>{if(yt(m)){const b=m;Object.keys(b).forEach(E=>{xw(b[E]).forEach(T=>{h.hasOwnProperty(T)||c.add(T)})})}}),c.size){const m=kw(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Ts(this,Mm(t.animation),e);return{type:1,matchers:oI(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:nc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Ts(this,r,e)),options:nc(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const c=t.steps.map(h=>{e.currentTime=r;const m=Ts(this,h,e);return i=Math.max(i,e.currentTime),m});return e.currentTime=i,{type:3,steps:c,options:nc(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return rc(fy(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=rc(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||fy(r,t),rc(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,c=t.styles?t.styles:_t({});if(5==c.type)i=this.visitKeyframes(c,e);else{let h=t.styles,m=!1;if(!h){m=!0;const E={};r.easing&&(E.easing=r.easing),h=_t(E)}e.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,e);b.isEmptyStep=m,i=b}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==Xl?r.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(t.styles);let i=!1,c=null;return r.forEach(h=>{if(yt(h)){const m=h,b=m.easing;if(b&&(c=b,delete m.easing),!i)for(let E in m)if(m[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void e.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],E=b[m];let T=!0;E&&(c!=i&&c>=E.startTime&&i<=E.endTime&&(e.errors.push(`The CSS property "${m}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${i}ms"`),T=!1),c=E.startTime),T&&(b[m]={startTime:c,endTime:i}),e.options&&function(n,t,e){const r=t.params||{},i=xw(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(h[m],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let c=0;const h=[];let m=!1,b=!1,E=0;const T=t.steps.map(Ue=>{const st=this._makeStyleAst(Ue,e);let Mt=null!=st.offset?st.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(yt(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(yt(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(st.styles),ot=0;return null!=Mt&&(c++,ot=st.offset=Mt),b=b||ot<0||ot>1,m=m||ot<E,E=ot,h.push(ot),st});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&e.errors.push("Please ensure that all keyframe offsets are in order");const R=t.steps.length;let U=0;c>0&&c<R?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(U=1/(R-1));const H=R-1,J=e.currentTime,fe=e.currentAnimateTimings,Ie=fe.duration;return T.forEach((Ue,st)=>{const Mt=U>0?st==H?1:U*st:h[st],ot=Mt*Ie;e.currentTime=J+fe.delay+ot,fe.duration=ot,this._validateStyleAst(Ue,e),Ue.offset=Mt,r.styles.push(Ue)}),r}visitReference(t,e){return{type:8,animation:Ts(this,Mm(t.animation),e),options:nc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nc(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[c,h]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_y,"")),[n=n.replace(/@\*/g,hy).replace(/@\w+/g,e=>hy+"-"+e.substr(1)).replace(/:animating/g,Aw),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Eo(e.collectedStyles,e.currentQuerySelector,{});const m=Ts(this,Mm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:h,animation:m,originalSelector:t.selector,options:nc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:fy(t.timings,e.errors,!0);return{type:12,animation:Ts(this,Mm(t.animation),e),timings:r,options:null}}}class Nm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function yt(n){return!Array.isArray(n)&&"object"==typeof n}function nc(n){return n?(n=Of(n)).params&&(n.params=function(n){return n?Of(n):null}(n.params)):n={},n}function rc(n,t,e){return{duration:n,delay:t,easing:e}}function lI(n,t,e,r,i,c,h=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:h,subTimeline:m}}class Pm{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Zx=new RegExp(":enter","g"),Io=new RegExp(":leave","g");function Pn(n,t,e,r,i,c={},h={},m,b,E=[]){return(new aa).buildKeyframes(n,t,e,r,i,c,h,m,b,E)}class aa{buildKeyframes(t,e,r,i,c,h,m,b,E,T=[]){E=E||new Pm;const R=new Nw(t,e,E,i,c,T,[]);R.options=b,R.currentTimeline.setStyles([h],null,R.errors,b),Ts(this,r,R);const U=R.timelines.filter(H=>H.containsAnimation());if(U.length&&Object.keys(m).length){const H=U[U.length-1];H.allowOnlyTimelineStyles()||H.setStyles([m],null,R.errors,b)}return U.length?U.map(H=>H.buildKeyframes()):[lI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const i=e.createSubContext(t.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,i,i.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const h=null!=r.duration?Nd(r.duration):null,m=null!=r.delay?Nd(r.delay):null;return 0!==h&&t.forEach(b=>{const E=e.appendInstructionToTimeline(b,h,m);c=Math.max(c,E.duration+E.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ts(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const c=t.options;if(c&&(c.params||c.delay)&&(i=e.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Fm);const h=Nd(c.delay);i.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>Ts(this,h,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Nd(t.options.delay):0;t.steps.forEach(h=>{const m=e.createSubContext(t.options);c&&m.delayNextStep(c),Ts(this,h,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return fy(e.params?my(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,c=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,t.styles.forEach(b=>{m.forwardTime((b.offset||0)*c),m.setStyles(b.styles,b.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(i+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},c=i.delay?Nd(i.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Fm);let h=r;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=m.length;let b=null;m.forEach((E,T)=>{e.currentQueryIndex=T;const R=e.createSubContext(t.options,E);c&&R.delayNextStep(c),E===e.element&&(b=R.currentTimeline),Ts(this,t.animation,R),R.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,c=t.timings,h=Math.abs(c.duration),m=h*(e.currentQueryTotal-1);let b=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const T=e.currentTimeline;b&&T.delayNextStep(b);const R=T.currentTime;Ts(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const Fm={};class Nw{constructor(t,e,r,i,c,h,m,b){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new Lm(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Nd(r.duration)),null!=r.delay&&(i.delay=Nd(r.delay));const c=r.params;if(c){let h=i.params;h||(h=this.options.params={}),Object.keys(c).forEach(m=>{(!e||!h.hasOwnProperty(m))&&(h[m]=my(c[m],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,c=new Nw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Fm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new Pw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,c,h){let m=[];if(i&&m.push(this.element),t.length>0){t=(t=t.replace(Zx,"."+this._enterClassName)).replace(Io,"."+this._leaveClassName);let E=this._driver.query(this.element,t,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),m.push(...E)}return!c&&0==m.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),m}}class Lm{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Lm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Xl,this._currentKeyframe[e]=Xl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const c=i&&i.params||{},h=function(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(c=>{e[c]=Xl})):Pd(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const b=my(h[m],c,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Xl),this._updateStyle(m,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,b)=>{const E=Pd(m,!0);Object.keys(E).forEach(T=>{const R=E[T];"!"==R?t.add(T):R==Xl&&e.add(T)}),r||(E.offset=b/this.duration),i.push(E)});const c=t.size?kw(t.values()):[],h=e.size?kw(e.values()):[];if(r){const m=i[0],b=Of(m);m.offset=0,b.offset=1,i=[m,b]}return lI(this.element,i,c,h,this.duration,this.startTime,this.easing,!1)}}class Pw extends Lm{constructor(t,e,r,i,c,h,m=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=r+e,m=e/h,b=Pd(t[0],!1);b.offset=0,c.push(b);const E=Pd(t[0],!1);E.offset=Ld(m),c.push(E);const T=t.length-1;for(let R=1;R<=T;R++){let U=Pd(t[R],!1);U.offset=Ld((e+U.offset*r)/h),c.push(U)}r=h,e=0,i="",t=c}return lI(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function Ld(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ic{}class uI extends ic{normalizePropertyName(t,e){return Pf(t)}normalizeStyleValue(t,e,r,i){let c="";const h=r.toString().trim();if(Bm[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(`Please provide a CSS unit value for ${t}:${r}`)}return h+c}}const Bm=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Lw(n,t,e,r,i,c,h,m,b,E,T,R,U){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:c,toState:r,toStyles:h,timelines:m,queriedElements:b,preStyleProps:E,postStyleProps:T,totalTime:R,errors:U}}const fu={};class hI{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function(n,t,e,r,i){return n.some(c=>c(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],c=this._stateStyles[t],h=i?i.buildStyles(e,r):{};return c?c.buildStyles(e,r):h}build(t,e,r,i,c,h,m,b,E,T){const R=[],U=this.ast.options&&this.ast.options.params||fu,J=this.buildStyles(r,m&&m.params||fu,R),fe=b&&b.params||fu,Ie=this.buildStyles(i,fe,R),Ue=new Set,st=new Map,Mt=new Map,ot="void"===i,Sn={params:Object.assign(Object.assign({},U),fe)},_r=T?[]:Pn(t,e,this.ast.animation,c,h,J,Ie,Sn,E,R);let gs=0;if(_r.forEach(oh=>{gs=Math.max(oh.duration+oh.delay,gs)}),R.length)return Lw(e,this._triggerName,r,i,ot,J,Ie,[],[],st,Mt,gs,R);_r.forEach(oh=>{const ah=oh.element,d3=Eo(st,ah,{});oh.preStyleProps.forEach(Og=>d3[Og]=!0);const VE=Eo(Mt,ah,{});oh.postStyleProps.forEach(Og=>VE[Og]=!0),ah!==e&&Ue.add(ah)});const sh=kw(Ue.values());return Lw(e,this._triggerName,r,i,ot,J,Ie,_r,sh,st,Mt,gs)}}class fI{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=Of(this.defaultParams);return Object.keys(t).forEach(c=>{const h=t[c];null!=h&&(i[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(m=>{let b=h[m];b.length>1&&(b=my(b,i,e));const E=this.normalizer.normalizePropertyName(m,e);b=this.normalizer.normalizeStyleValue(m,E,b,e),r[E]=b})}}),r}}class mI{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new fI(i.style,i.options&&i.options.params||{},r)}),gI(this.states,"true","1"),gI(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new hI(t,i,this.states))}),this.fallbackTransition=function(n,t,e){return new hI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(h=>h.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function gI(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Vw=new Pm;class Bw{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],i=aI(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,r){const i=t.element,c=Vx(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],c=this._animations[t];let h;const m=new Map;if(c?(h=Pn(this._driver,e,c,Rf,du,{},{},r,Vw,i),h.forEach(T=>{const R=Eo(m,T.element,{});T.postStyleProps.forEach(U=>R[U]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),h=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);m.forEach((T,R)=>{Object.keys(T).forEach(U=>{T[U]=this._driver.computeStyle(R,U,Xl)})});const E=ec(h.map(T=>{const R=m.get(T.element);return this._buildPlayer(T,{},R)}));return this._playersById[t]=E,E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,i){const c=ww(e,"","","");return xf(this._getPlayer(t),r,c,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Wx="ng-animate-queued",vt="ng-animate-disabled",Kx=".ng-animate-disabled",Jx=[],_I={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},la="__ng_removed";class Uw{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=null!=(n=r?t.value:t)?n:null,r){const c=Of(t);delete c.value,this.options=c}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Er="void",jw=new Uw(Er);class Xx{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,As(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);var n;const c=Eo(this._elementListeners,t,[]),h={name:e,phase:r,callback:i};c.push(h);const m=Eo(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(As(t,Tw),As(t,Tw+"-"+e),m[e]=jw),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(h);b>=0&&c.splice(b,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,i=!0){const c=this._getTrigger(e),h=new $w(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(As(t,Tw),As(t,Tw+"-"+e),this._engine.statesByElement.set(t,m={}));let b=m[e];const E=new Uw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&E.absorbOptions(b.options),m[e]=E,b||(b=jw),E.value!==Er&&b.value===E.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const c=e[i];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(b.params,E.params)){const fe=[],Ie=c.matchStyles(b.value,b.params,fe),Ue=c.matchStyles(E.value,E.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{Fd(t,Ie),rl(t,Ue)})}return}const U=Eo(this._engine.playersByElement,t,[]);U.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==e&&fe.queued&&fe.destroy()});let H=c.matchTransition(b.value,E.value,t,E.params),J=!1;if(!H){if(!i)return;H=c.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:H,fromState:b,toState:E,player:h,isFallbackTransition:J}),J||(As(t,Wx),h.onStart(()=>{Vf(t,Wx)})),h.onDone(()=>{let fe=this.players.indexOf(h);fe>=0&&this.players.splice(fe,1);const Ie=this._engine.playersByElement.get(t);if(Ie){let Ue=Ie.indexOf(h);Ue>=0&&Ie.splice(Ue,1)}}),this.players.push(h),U.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,hy,!0);r.forEach(i=>{if(i[la])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(h=>h.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const c=this._engine.statesByElement.get(t);if(c){const h=[];if(Object.keys(c).forEach(m=>{if(this._triggers[m]){const b=this.trigger(t,m,Er,i);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&ec(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(c=>{const h=c.name;if(i.has(h))return;i.add(h);const b=this._triggers[h].fallbackTransition,E=r[h]||jw,T=new Uw(Er),R=new $w(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:b,fromState:E,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)i=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[la];(!c||c===_I)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){As(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,h=this._elementListeners.get(c);h&&h.forEach(m=>{if(m.name==r.triggerName){const b=ww(c,r.triggerName,r.fromState.value,r.toState.value);b._data=t,xf(r.player,m.phase,b,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const c=r.transition.ast.depCount,h=i.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class Hw{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Xx(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let c=r;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let c=0;c<i.length;c++){const h=r[i[c]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&e.add(m)}}}return e}trigger(t,e,r,i){if(by(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!by(e))return;const c=e[la];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),As(t,vt)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vf(t,vt))}removeNode(t,e,r,i){if(by(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i){this.collectedLeaveElements.push(e),e[la]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,i,c){return by(e)?this._fetchNamespace(t).listen(e,r,i,c):()=>{}}_buildInstruction(t,e,r,i,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,hy,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Aw,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ec(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[la];if(e&&e.setForRemoval){if(t[la]=_I,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Kx)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Kx,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)As(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ec(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new Pm,i=[],c=new Map,h=[],m=new Map,b=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(Je=>{T.add(Je);const ut=this.driver.query(Je,".ng-animate-queued",!0);for(let At=0;At<ut.length;At++)T.add(ut[At])});const R=this.bodyNode,U=Array.from(this.statesByElement.keys()),H=vI(U,this.collectedEnterElements),J=new Map;let fe=0;H.forEach((Je,ut)=>{const At=Rf+fe++;J.set(ut,At),Je.forEach(un=>As(un,At))});const Ie=[],Ue=new Set,st=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const ut=this.collectedLeaveElements[Je],At=ut[la];At&&At.setForRemoval&&(Ie.push(ut),Ue.add(ut),At.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(un=>Ue.add(un)):st.add(ut))}const Mt=new Map,ot=vI(U,Array.from(Ue));ot.forEach((Je,ut)=>{const At=du+fe++;Mt.set(ut,At),Je.forEach(un=>As(un,At))}),t.push(()=>{H.forEach((Je,ut)=>{const At=J.get(ut);Je.forEach(un=>Vf(un,At))}),ot.forEach((Je,ut)=>{const At=Mt.get(ut);Je.forEach(un=>Vf(un,At))}),Ie.forEach(Je=>{this.processLeaveNode(Je)})});const Sn=[],_r=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(e).forEach(At=>{const un=At.player,qi=At.element;if(Sn.push(un),this.collectedEnterElements.length){const Mu=qi[la];if(Mu&&Mu.setForMove)return void un.destroy()}const Au=!R||!this.driver.containsElement(R,qi),ya=Mt.get(qi),bp=J.get(qi),Sr=this._buildInstruction(At,r,bp,ya,Au);if(Sr.errors&&Sr.errors.length)_r.push(Sr);else{if(Au)return un.onStart(()=>Fd(qi,Sr.fromStyles)),un.onDestroy(()=>rl(qi,Sr.toStyles)),void i.push(un);if(At.isFallbackTransition)return un.onStart(()=>Fd(qi,Sr.fromStyles)),un.onDestroy(()=>rl(qi,Sr.toStyles)),void i.push(un);Sr.timelines.forEach(Mu=>Mu.stretchStartingKeyframe=!0),r.append(qi,Sr.timelines),h.push({instruction:Sr,player:un,element:qi}),Sr.queriedElements.forEach(Mu=>Eo(m,Mu,[]).push(un)),Sr.preStyleProps.forEach((Mu,BE)=>{const lA=Object.keys(Mu);if(lA.length){let Ng=b.get(BE);Ng||b.set(BE,Ng=new Set),lA.forEach($N=>Ng.add($N))}}),Sr.postStyleProps.forEach((Mu,BE)=>{const lA=Object.keys(Mu);let Ng=E.get(BE);Ng||E.set(BE,Ng=new Set),lA.forEach($N=>Ng.add($N))})}});if(_r.length){const Je=[];_r.forEach(ut=>{Je.push(`@${ut.triggerName} has failed due to:\n`),ut.errors.forEach(At=>Je.push(`- ${At}\n`))}),Sn.forEach(ut=>ut.destroy()),this.reportError(Je)}const gs=new Map,sh=new Map;h.forEach(Je=>{const ut=Je.element;r.has(ut)&&(sh.set(ut,ut),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,gs))}),i.forEach(Je=>{const ut=Je.element;this._getPreviousPlayers(ut,!1,Je.namespaceId,Je.triggerName,null).forEach(un=>{Eo(gs,ut,[]).push(un),un.destroy()})});const oh=Ie.filter(Je=>wI(Je,b,E)),ah=new Map;wy(ah,this.driver,st,E,Xl).forEach(Je=>{wI(Je,b,E)&&oh.push(Je)});const VE=new Map;H.forEach((Je,ut)=>{wy(VE,this.driver,new Set(Je),b,"!")}),oh.forEach(Je=>{const ut=ah.get(Je),At=VE.get(Je);ah.set(Je,Object.assign(Object.assign({},ut),At))});const Og=[],h3=[],f3={};h.forEach(Je=>{const{element:ut,player:At,instruction:un}=Je;if(r.has(ut)){if(T.has(ut))return At.onDestroy(()=>rl(ut,un.toStyles)),At.disabled=!0,At.overrideTotalTime(un.totalTime),void i.push(At);let qi=f3;if(sh.size>1){let ya=ut;const bp=[];for(;ya=ya.parentNode;){const Sr=sh.get(ya);if(Sr){qi=Sr;break}bp.push(ya)}bp.forEach(Sr=>sh.set(Sr,qi))}const Au=this._buildAnimation(At.namespaceId,un,gs,c,VE,ah);if(At.setRealPlayer(Au),qi===f3)Og.push(At);else{const ya=this.playersByElement.get(qi);ya&&ya.length&&(At.parentPlayer=ec(ya)),i.push(At)}}else Fd(ut,un.fromStyles),At.onDestroy(()=>rl(ut,un.toStyles)),h3.push(At),T.has(ut)&&i.push(At)}),h3.forEach(Je=>{const ut=c.get(Je.element);if(ut&&ut.length){const At=ec(ut);Je.setRealPlayer(At)}}),i.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Ie.length;Je++){const ut=Ie[Je],At=ut[la];if(Vf(ut,du),At&&At.hasAnimation)continue;let un=[];if(m.size){let Au=m.get(ut);Au&&Au.length&&un.push(...Au);let ya=this.driver.query(ut,Aw,!0);for(let bp=0;bp<ya.length;bp++){let Sr=m.get(ya[bp]);Sr&&Sr.length&&un.push(...Sr)}}const qi=un.filter(Au=>!Au.destroyed);qi.length?RF(this,ut,qi):this.processLeaveNode(ut)}return Ie.length=0,Og.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const ut=this.players.indexOf(Je);this.players.splice(ut,1)}),Je.play()}),Og}elementContainsData(t,e){let r=!1;const i=e[la];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,c){let h=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(h=m)}else{const m=this.playersByElement.get(t);if(m){const b=!c||c==Er;m.forEach(E=>{E.queued||!b&&E.triggerName!=i||h.push(E)})}}return(r||i)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),h}_beforeAnimationBuild(t,e,r){const c=e.element,h=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const E=b.element,T=E!==c,R=Eo(r,E,[]);this._getPreviousPlayers(E,T,h,m,e.toState).forEach(H=>{const J=H.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),H.destroy(),R.push(H)})}Fd(c,e.fromStyles)}_buildAnimation(t,e,r,i,c,h){const m=e.triggerName,b=e.element,E=[],T=new Set,R=new Set,U=e.timelines.map(J=>{const fe=J.element;T.add(fe);const Ie=fe[la];if(Ie&&Ie.removedBeforeQueried)return new oa(J.duration,J.delay);const Ue=fe!==b,st=function(n){const t=[];return bI(n,t),t}((r.get(fe)||Jx).map(gs=>gs.getRealPlayer())).filter(gs=>!!gs.element&&gs.element===fe),Mt=c.get(fe),ot=h.get(fe),Sn=Vx(0,this._normalizer,0,J.keyframes,Mt,ot),_r=this._buildPlayer(J,Sn,st);if(J.subTimeline&&i&&R.add(fe),Ue){const gs=new $w(t,m,fe);gs.setRealPlayer(_r),E.push(gs)}return _r});E.forEach(J=>{Eo(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,J.element,J))}),T.forEach(J=>As(J,nI));const H=ec(U);return H.onDestroy(()=>{T.forEach(J=>Vf(J,nI)),rl(b,e.toStyles)}),R.forEach(J=>{Eo(i,J,[]).push(H)}),H}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new oa(t.duration,t.delay)}}class $w{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new oa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>xf(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Eo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function by(n){return n&&1===n.nodeType}function yI(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function wy(n,t,e,r,i){const c=[];e.forEach(b=>c.push(yI(b)));const h=[];r.forEach((b,E)=>{const T={};b.forEach(R=>{const U=T[R]=t.computeStyle(E,R,i);(!U||0==U.length)&&(E[la]=kF,h.push(E))}),n.set(E,T)});let m=0;return e.forEach(b=>yI(b,c[m++])),h}function vI(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const i=new Set(t),c=new Map;function h(m){if(!m)return 1;let b=c.get(m);if(b)return b;const E=m.parentNode;return b=e.has(E)?E:i.has(E)?1:h(E),c.set(m,b),b}return t.forEach(m=>{const b=h(m);1!==b&&e.get(b).push(m)}),e}const Cy="$$classes";function As(n,t){if(n.classList)n.classList.add(t);else{let e=n[Cy];e||(e=n[Cy]={}),e[t]=!0}}function Vf(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Cy];e&&delete e[t]}}function RF(n,t,e){ec(e).onDone(()=>n.processLeaveNode(t))}function bI(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof YD?bI(r.players,t):t.push(r)}}function wI(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(c=>i.add(c)):t.set(n,r),e.delete(n),!0}class Ey{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new Hw(t,e,r),this._timelineEngine=new Bw(t,e,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(t,e,r,i,c){const h=t+"-"+i;let m=this._triggerCache[h];if(!m){const b=[],E=aI(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function(n,t,e){return new mI(n,t,e)}(i,E,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(e,i,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[c,h]=QD(r);this._timelineEngine.command(c,e,h,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,c){if("@"==r.charAt(0)){const[h,m]=QD(r);return this._timelineEngine.listen(h,e,m,c)}return this._transitionEngine.listen(t,e,r,i,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function CI(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Gw(t[0]),t.length>1&&(r=Gw(t[t.length-1]))):t&&(e=Gw(t)),e||r?new jm(n,e,r):null}let jm=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&rl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rl(this._element,this._initialStyles),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fd(this._element,this._endStyles),this._endStyles=null),rl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Gw(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];ok(i)&&(t=t||{},t[i]=n[i])}return t}function ok(n){return"display"===n||"position"===n}const Bf="animation",ak="animationend";class lk{constructor(t,e,r,i,c,h,m){this._element=t,this._name=e,this._duration=r,this._delay=i,this._easing=c,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,t){const e=AI(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),Iy(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),TI(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){II(this._element,this._name,"paused")}resume(){II(this._element,this._name,"running")}setPosition(t){const e=SI(this._element,this._name);this._position=t*this._duration,Iy(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),TI(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=AI(n,"").split(","),i=Dy(r,t);i>=0&&(r.splice(i,1),Iy(n,"",r.join(",")))}(this._element,this._name))}}function II(n,t,e){Iy(n,"PlayState",e,SI(n,t))}function SI(n,t){const e=AI(n,"");return e.indexOf(",")>0?Dy(e.split(","),t):Dy([e],t)}function Dy(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function TI(n,t,e){e?n.removeEventListener(ak,t):n.addEventListener(ak,t)}function Iy(n,t,e,r){const i=Bf+t;if(null!=r){const c=n.style[i];if(c.length){const h=c.split(",");h[r]=e,e=h.join(",")}}n.style[i]=e}function AI(n,t){return n.style[Bf+t]||""}class MI{constructor(t,e,r,i,c,h,m,b){this.element=t,this.keyframes=e,this.animationName=r,this._duration=i,this._delay=c,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=i+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:xm(this.element,r))})}this.currentSnapshot=t}}class dk extends oa{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=tI(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class kI{constructor(){this._count=0}validateStyleProperty(t){return Ew(t)}matchesElement(t,e){return cy(t,e)}containsElement(t,e){return uy(t,e)}query(t,e,r){return Dw(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(m=>tI(m));let i=`@keyframes ${e} {\n`,c="";r.forEach(m=>{c=" ";const b=parseFloat(m.offset);i+=`${c}${100*b}% {\n`,c+=" ",Object.keys(m).forEach(E=>{const T=m[E];switch(E){case"offset":return;case"easing":return void(T&&(i+=`${c}animation-timing-function: ${T};\n`));default:return void(i+=`${c}${E}: ${T};\n`)}}),i+=`${c}}\n`}),i+="}\n";const h=document.createElement("style");return h.textContent=i,h}animate(t,e,r,i,c,h=[],m){const b=h.filter(Ie=>Ie instanceof MI),E={};sI(r,i)&&b.forEach(Ie=>{let Ue=Ie.currentSnapshot;Object.keys(Ue).forEach(st=>E[st]=Ue[st])});const T=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(t[i]=r[i])})}),t}(e=Rw(t,e,E));if(0==r)return new dk(t,T);const R="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(t,R,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(U);const J=CI(t,e),fe=new MI(t,e,R,r,i,c,T,J);return fe.onDestroy(()=>{var n;(n=U).parentNode.removeChild(n)}),fe}}class yi{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:xm(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class NI{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Sy().toString()),this._cssKeyframesDriver=new kI}validateStyleProperty(t){return Ew(t)}matchesElement(t,e){return cy(t,e)}containsElement(t,e){return uy(t,e)}query(t,e,r){return Dw(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,i,c,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,i,c,h);const T={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(T.easing=c);const R={},U=h.filter(J=>J instanceof yi);sI(r,i)&&U.forEach(J=>{let fe=J.currentSnapshot;Object.keys(fe).forEach(Ie=>R[Ie]=fe[Ie])});const H=CI(t,e=Rw(t,e=e.map(J=>Pd(J,!1)),R));return new yi(t,e,T,H)}}function Sy(){return KD()&&Element.prototype.animate||{}}let pk=(()=>{class n extends oy{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?zD(e):e;return Zw(this._renderer,null,r,"register",[i]),new PI(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class PI extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new FI(this._id,t,e||{},this._renderer)}}class FI{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Zw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Zw(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const LI="@.disabled";let mk=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,h)=>{h&&h.parentNode(c)&&h.removeChild(c.parentNode,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(c);return T||(T=new Yw("",c,this.engine),this._rendererCache.set(c,T)),T}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const b=T=>{Array.isArray(T)?T.forEach(b):this.engine.registerTrigger(h,m,e,T.name,T)};return r.data.animation.forEach(b),new gk(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,m]=c;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Ey),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Yw{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==LI?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class gk extends Yw{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==LI?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,i,c,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(t,e,r)}}let yk=(()=>{class n extends Ey{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(kf),a.LFG(ic))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ua=new a.OlP("AnimationModuleType"),vk=[{provide:oy,useClass:pk},{provide:ic,useFactory:function(){return new uI}},{provide:Ey,useClass:yk},{provide:a.FYo,useFactory:function(n,t,e){return new mk(n,t,e)},deps:[Ti,Ey,a.R0b]}],Ww=[{provide:kf,useFactory:function(){return"function"==typeof Sy()?new NI:new kI}},{provide:ua,useValue:"BrowserAnimations"},...vk],BI=[{provide:kf,useClass:Iw},{provide:ua,useValue:"NoopAnimations"},...vk];let Kw=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BI:Ww}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Ww,imports:[Yu]}),n})();const UI=new a.GfV("12.2.13"),jI=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let da,En=(()=>{class n{constructor(e,r,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,a.X6Q)()||au())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&UI.full!==yw.full&&console.warn("The Angular Material version ("+UI.full+") does not match the Angular CDK version ("+yw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(sy),a.LFG(jI,8),a.LFG(ne))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[gf],gf]}),n})();function Ay(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Lt(t)}}}function Vd(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function HI(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Lt(t)}}}function $I(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Ge.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}try{da="undefined"!=typeof Intl}catch(n){da=!1}let Bd=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();class Rk{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Xw={enterDuration:225,exitDuration:150},My=Ni({passive:!0}),tC=["mousedown","touchstart"],nC=["mouseup","mouseleave","touchend","touchcancel"];class qI{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Wa(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},Xw),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const h=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),m=t-i.left,b=e-i.top,E=c.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=m-h+"px",T.style.top=b-h+"px",T.style.height=2*h+"px",T.style.width=2*h+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(T),window.getComputedStyle(T).getPropertyValue("opacity"),T.style.transform="scale(1)";const R=new Rk(this,T,r);return R.state=0,this._activeRipples.add(R),r.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const U=R===this._mostRecentTransientRipple;R.state=1,!r.persistent&&(!U||!this._isPointerDown)&&R.fadeOut()},E),R}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,i=Object.assign(Object.assign({},Xw),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Wa(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(tC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(nC),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ry(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!LD(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,My)})})}_removeTriggerEvents(){this._triggerElement&&(tC.forEach(t=>{this._triggerElement.removeEventListener(t,this,My)}),this._pointerUpEventsRegistered&&nC.forEach(t=>{this._triggerElement.removeEventListener(t,this,My)}))}}const YI=new a.OlP("mat-ripple-global-options");let qm=(()=>{class n{constructor(e,r,i,c,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new qI(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(mn),a.Y36(YI,8),a.Y36(ua,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),xy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[En,su],En]}),n})();const iC=["mat-button",""],sC=["*"],Zm=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",WF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],JI=Vd(Ay(HI(class{constructor(n){this._elementRef=n}})));let Ks=(()=>{class n extends JI{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of WF)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Tf),a.Y36(ua,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&a.Gf(qm,5),2&e){let i;a.iGM(i=a.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:iC,ngContentSelectors:sC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[qm],styles:[Zm],encapsulation:2,changeDetection:0}),n})(),XI=(()=>{class n extends Ks{constructor(e,r,i){super(r,e,i)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tf),a.Y36(a.SBq),a.Y36(ua,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){1&e&&a.NdJ("click",function(c){return r._haltDisabledEvents(c)}),2&e&&(a.uIk("tabindex",r.disabled?-1:r.tabIndex||0)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:iC,ngContentSelectors:sC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[qm],styles:[Zm],encapsulation:2,changeDetection:0}),n})(),Hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[xy,En],En]}),n})();const eS=new Set;let mu,Ry=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jk}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!eS.has(n))try{mu||(mu=document.createElement("style"),mu.setAttribute("type","text/css"),document.head.appendChild(mu)),mu.sheet&&(mu.sheet.insertRule(`@media ${n} {body{ }}`,0),eS.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mn))},token:n,providedIn:"root"}),n})();function jk(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let aC=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Ge.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return lC(gm(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let c=Gs(lC(gm(e)).map(h=>this._registerQuery(h).observable));return c=mo(c.pipe(wr(1)),c.pipe(ID(1),Ef(0))),c.pipe((0,nt.U)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:b,query:E})=>{m.matches=m.matches||b,m.breakpoints[E]=b}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new _n.y(h=>{const m=b=>this._zone.run(()=>h.next(b));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(Pr(r),(0,nt.U)(({matches:h})=>({query:e,matches:h})),Cr(this._destroySubject)),mql:r};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ry),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Ry),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})();function lC(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Hk(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",1),a.TgZ(1,"button",2),a.NdJ("click",function(){return a.CHM(e),a.oxw().action()}),a._uU(2),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.xp6(2),a.Oqu(e.data.action)}}function nS(n,t){}const cC=new a.OlP("MatSnackBarData");class Oy{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const $k=Math.pow(2,31)-1;class Ny{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ge.xQ,this._afterOpened=new Ge.xQ,this._onAction=new Ge.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,$k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Gk=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ny),a.Y36(cC))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a.YNc(2,Hk,3,1,"div",0)),2&e&&(a.xp6(1),a.Oqu(r.data.message),a.xp6(1),a.Q6J("ngIf",r.hasAction))},directives:[xn,Ks],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const rS={snackBarState:wo("state",[nl("void, hidden",_t({transform:"scale(0.8)",opacity:0})),nl("visible",_t({transform:"scale(1)",opacity:1})),us("* => visible",Pi("150ms cubic-bezier(0, 0, 0.2, 1)")),us("* => void, * => hidden",Pi("75ms cubic-bezier(0.4, 0.0, 1, 1)",_t({opacity:0})))])};let iS=(()=>{class n extends Yl{constructor(e,r,i,c,h){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=i,this._platform=c,this.snackBarConfig=h,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ge.xQ,this._onExit=new Ge.xQ,this._onEnter=new Ge.xQ,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:r,toState:i}=e;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(wr(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>e.classList.add(i)):e.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(mn),a.Y36(Oy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,r){if(1&e&&a.Gf(cu,7),2&e){let i;a.iGM(i=a.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&a.WFA("@state.done",function(c){return r.onAnimationEnd(c)}),2&e&&a.d8E("@state",r._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.YNc(1,nS,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&e&&(a.xp6(2),a.uIk("aria-live",r._live)("role",r._role))},directives:[cu],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[rS.snackBarState]}}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ow,Y_,Zn,Hf,En],En]}),n})();const dC=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Oy}});let qk=(()=>{class n{constructor(e,r,i,c,h,m){this._overlay=e,this._live=r,this._injector=i,this._breakpointObserver=c,this._parentSnackBar=h,this._defaultConfig=m,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Gk,this.snackBarContainerComponent=iS,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",i){const c=Object.assign(Object.assign({},this._defaultConfig),i);return c.data={message:e,action:r},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const c=a.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Oy,useValue:r}]}),h=new lu(this.snackBarContainerComponent,r.viewContainerRef,c),m=e.attach(h);return m.instance.snackBarConfig=r,m.instance}_attach(e,r){const i=Object.assign(Object.assign(Object.assign({},new Oy),this._defaultConfig),r),c=this._createOverlay(i),h=this._attachSnackBarContainer(c,i),m=new Ny(h,c);if(e instanceof a.Rgc){const b=new wm(e,null,{$implicit:i.data,snackBarRef:m});m.instance=h.attachTemplatePortal(b)}else{const b=this._createInjector(i,m),E=new lu(e,void 0,b),T=h.attachComponentPortal(E);m.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Cr(c.detachments())).subscribe(b=>{const E=c.overlayElement.classList;b.matches?E.add(this.handsetCssClass):E.remove(this.handsetCssClass)}),i.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(m,i),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new sa;r.direction=e.direction;let i=this._overlay.position().global();const c="rtl"===e.direction,h="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,m=!h&&"center"!==e.horizontalPosition;return h?i.left("0"):m?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(e,r){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Ny,useValue:r},{provide:cC,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(tl),a.LFG(fw),a.LFG(a.zs3),a.LFG(aC),a.LFG(n,12),a.LFG(dC))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(tl),a.LFG(fw),a.LFG(a.gxx),a.LFG(aC),a.LFG(n,12),a.LFG(dC))},token:n,providedIn:uC}),n})(),Ym=(()=>{class n{constructor(e){this._snackBar=e}show(e){this._snackBar.open(e,"Ok")}getErrorMessage(e){return e.hasError("required")?"You must enter a value!":e.hasError("email")?"Input is not a Valid Email Address!":e.hasError("minlength")?"Enter at least 8 characters":e.hasError("passwordNotMatching")?"Password not matching!":"ERROR!!!"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sS(n,t){}class oS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const KF={dialogContainer:wo("dialogContainer",[nl("void, exit",_t({opacity:0,transform:"scale(0.7)"})),nl("enter",_t({transform:"none"})),us("* => enter",Pi("150ms cubic-bezier(0, 0, 0.2, 1)",_t({transform:"none",opacity:1}))),us("* => void, * => exit",Pi("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",_t({opacity:0})))])};let QF=(()=>{class n extends Yl{constructor(e,r,i,c,h,m){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=h,this._focusMonitor=m,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=Qa(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Qa())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=Qa();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ny),a.Y36(a.sBO),a.Y36(ne,8),a.Y36(oS),a.Y36(Tf))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,r){if(1&e&&a.Gf(cu,7),2&e){let i;a.iGM(i=a.CRH())&&(r._portalOutlet=i.first)}},features:[a.qOj]}),n})(),JF=(()=>{class n extends QF{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&a.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&e&&(a.Ikx("id",r._id),a.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),a.d8E("@dialogContainer",r._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&a.YNc(0,sS,0,0,"ng-template",0)},directives:[cu],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[KF.dialogContainer]}}),n})(),XF=0;class $f{constructor(t,e,r="mat-dialog-"+XF++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ge.xQ,this._afterClosed=new Ge.xQ,this._beforeClosed=new Ge.xQ,this._state=0,e._id=r,e._animationStateChanged.pipe(wn(i=>"opened"===i.state),wr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(wn(i=>"closed"===i.state),wr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(wn(i=>27===i.keyCode&&!this.disableClose&&!Jl(i))).subscribe(i=>{i.preventDefault(),aS(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():aS(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(wn(e=>"closing"===e.state),wr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function aS(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const eL=new a.OlP("MatDialogData"),tL=new a.OlP("mat-dialog-default-options"),Zk=new a.OlP("mat-dialog-scroll-strategy"),rL={provide:Zk,deps:[tl],useFactory:function(n){return()=>n.scrollStrategies.block()}};let iL=(()=>{class n{constructor(e,r,i,c,h,m,b,E,T){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=c,this._overlayContainer=h,this._dialogRefConstructor=b,this._dialogContainerType=E,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ge.xQ,this._afterOpenedAtThisLevel=new Ge.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Mi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pr(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new oS)).id&&this.getDialogById(r.id);const i=this._createOverlay(r),c=this._attachDialogContainer(i,r),h=this._attachDialogContent(e,c,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),c._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new sa({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const c=a.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:oS,useValue:r}]}),h=new lu(this._dialogContainerType,r.viewContainerRef,c,r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,r,i,c){const h=new this._dialogRefConstructor(i,r,c.id);if(e instanceof a.Rgc)r.attachTemplatePortal(new wm(e,null,{$implicit:c.data,dialogRef:h}));else{const m=this._createInjector(c,h,r),b=r.attachComponentPortal(new lu(e,c.viewContainerRef,m));h.componentInstance=b.instance}return h.updateSize(c.width,c.height).updatePosition(c.position),h}_createInjector(e,r,i){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!c||!c.get(cs,null,a.XFs.Optional))&&h.push({provide:cs,useValue:{value:e.direction,change:(0,Le.of)()}}),a.zs3.create({parent:c||this._injector,providers:h})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,c)=>{i?c.setAttribute("aria-hidden",i):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){let c=r[i];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(tl),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36(X_),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},n.\u0275dir=a.lG2({type:n}),n})(),Py=(()=>{class n extends iL{constructor(e,r,i,c,h,m,b){super(e,r,c,m,b,h,$f,JF,eL)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(tl),a.LFG(a.zs3),a.LFG(kt,8),a.LFG(tL,8),a.LFG(Zk),a.LFG(n,12),a.LFG(X_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Py,rL],imports:[[ow,Y_,En],En]}),n})();const Qk=["underline"],Jk=["connectionContainer"],lL=["inputContainer"],cL=["label"];function uL(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function dL(n,t){1&n&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function Xk(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function hL(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function eR(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function hC(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.YNc(2,Xk,4,1,"ng-container",12),a.YNc(3,hL,1,0,"ng-content",12),a.YNc(4,eR,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Gf(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function lS(n,t){if(1&n&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&n){const e=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function tR(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function nR(n,t){if(1&n&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function fC(n,t){if(1&n&&(a.TgZ(0,"div",28),a.YNc(1,nR,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const cS=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uS=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let dS=0;const rR=new a.OlP("MatError");let Wm=(()=>{class n{constructor(e,r){this.id="mat-error-"+dS++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&a.uIk("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:rR,useExisting:n}])]}),n})();const Fy={transitionMessages:wo("transitionMessages",[nl("enter",_t({opacity:1,transform:"translateY(0%)"})),us("void => enter",[_t({opacity:0,transform:"translateY(-5px)"}),Pi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Km=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const sR=new a.OlP("MatHint");let zf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const oR=new a.OlP("MatPrefix"),fS=new a.OlP("MatSuffix");let aR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:fS,useExisting:n}])]}),n})(),lR=0;const pS=Vd(class{constructor(n){this._elementRef=n}},"primary"),dR=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mC=new a.OlP("MatFormField");let gC=(()=>{class n extends pS{constructor(e,r,i,c,h,m,b,E){super(e),this._changeDetectorRef=r,this._dir=c,this._defaults=h,this._platform=m,this._ngZone=b,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ge.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+lR++,this._labelId="mat-form-field-label-"+lR++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==E,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Lt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Pr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Cr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Cr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,uu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Pr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Pr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Cr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ad(this._label.nativeElement,"transitionend").pipe(wr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,i=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const c=this._connectionContainerRef.nativeElement,h=c.querySelectorAll(".mat-form-field-outline-start"),m=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=c.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(b),T=e.children,R=this._getStartEnd(T[0].getBoundingClientRect());let U=0;for(let H=0;H<T.length;H++)U+=T[H].offsetWidth;r=Math.abs(R-E)-5,i=U>0?.75*U+10:0}for(let b=0;b<h.length;b++)h[b].style.width=`${r}px`;for(let b=0;b<m.length;b++)m[b].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(cs,8),a.Y36(dR,8),a.Y36(mn),a.Y36(a.R0b),a.Y36(ua,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(a.Suo(i,Km,5),a.Suo(i,Km,7),a.Suo(i,zf,5),a.Suo(i,zf,7),a.Suo(i,fL,5),a.Suo(i,rR,5),a.Suo(i,sR,5),a.Suo(i,oR,5),a.Suo(i,fS,5)),2&e){let c;a.iGM(c=a.CRH())&&(r._controlNonStatic=c.first),a.iGM(c=a.CRH())&&(r._controlStatic=c.first),a.iGM(c=a.CRH())&&(r._labelChildNonStatic=c.first),a.iGM(c=a.CRH())&&(r._labelChildStatic=c.first),a.iGM(c=a.CRH())&&(r._placeholderChild=c.first),a.iGM(c=a.CRH())&&(r._errorChildren=c),a.iGM(c=a.CRH())&&(r._hintChildren=c),a.iGM(c=a.CRH())&&(r._prefixChildren=c),a.iGM(c=a.CRH())&&(r._suffixChildren=c)}},viewQuery:function(e,r){if(1&e&&(a.Gf(Qk,5),a.Gf(Jk,7),a.Gf(lL,5),a.Gf(cL,5)),2&e){let i;a.iGM(i=a.CRH())&&(r.underlineRef=i.first),a.iGM(i=a.CRH())&&(r._connectionContainerRef=i.first),a.iGM(i=a.CRH())&&(r._inputContainerRef=i.first),a.iGM(i=a.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:mC,useExisting:n}]),a.qOj],ngContentSelectors:uS,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(a.F$t(cS),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(c){return r._control.onContainerClick&&r._control.onContainerClick(c)}),a.YNc(3,uL,9,0,"ng-container",3),a.YNc(4,dL,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,hC,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,Gf,2,0,"div",9),a.qZA(),a.YNc(11,lS,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,tR,2,1,"div",12),a.YNc(14,fC,5,2,"div",13),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==r.appearance),a.xp6(1),a.Q6J("ngIf",r._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",r._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",r._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=r.appearance),a.xp6(1),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[xn,ys,tr,Sm],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Fy.transitionMessages]},changeDetection:0}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Zn,En,MD],En]}),n})();const qf=Ni({passive:!0});let mS=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Nr.E;const r=Wa(e),i=this._monitoredElements.get(r);if(i)return i.subject;const c=new Ge.xQ,h="cdk-text-field-autofilled",m=b=>{"cdk-text-field-autofill-start"!==b.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===b.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",m,qf),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",m,qf)}}),c}stopMonitoring(e){const r=Wa(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mn),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mn),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})(),Ly=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[su]]}),n})();const gS=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),yC=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fR=0;const pR=$I(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let Zf=(()=>{class n extends pR{constructor(e,r,i,c,h,m,b,E,T,R){super(m,c,h,i),this._elementRef=e,this._platform=r,this._autofillMonitor=E,this._formField=R,this._uid="mat-input-"+fR++,this.focused=!1,this.stateChanges=new Ge.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(J=>_i().has(J));const U=this._elementRef.nativeElement,H=U.nodeName.toLowerCase();this._inputValueAccessor=b||U,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",J=>{const fe=J.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Lt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Lt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&_i().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Lt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const i=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=i,i?c.setAttribute("placeholder",i):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){yC.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(mn),a.Y36(yo,10),a.Y36(Dd,8),a.Y36(Br,8),a.Y36(Bd),a.Y36(gS,10),a.Y36(mS),a.Y36(a.R0b),a.Y36(mC,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,r){1&e&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(a.Ikx("disabled",r.disabled)("required",r.required),a.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),a.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:Km,useExisting:n}]),a.qOj,a.TTD]}),n})(),_S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Bd],imports:[[Ly,_C,En],Ly,_C]}),n})();function yS(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("",e.msg.getErrorMessage(e.setupForm.controls.income)," ")}}function mR(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit,r=a.oxw();a.xp6(1),a.hij("",r.msg.getErrorMessage(e.controls.type)," ")}}function vS(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit,r=a.oxw();a.xp6(1),a.hij("",r.msg.getErrorMessage(e.controls.minutes)," ")}}function bS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"fieldset",10),a.TgZ(1,"legend"),a._uU(2,"Room"),a.qZA(),a.TgZ(3,"div"),a.TgZ(4,"mat-form-field",1),a.TgZ(5,"mat-label"),a._uU(6,"Description"),a.qZA(),a._UZ(7,"input",11),a.YNc(8,mR,2,1,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(9,"div"),a.TgZ(10,"mat-form-field",1),a.TgZ(11,"mat-label"),a._uU(12,"Minutes to finish"),a.qZA(),a._UZ(13,"input",12),a.YNc(14,vS,2,1,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(15,"button",13),a.NdJ("click",function(){const c=a.CHM(e).index;return a.oxw().removeRoom(c)}),a._uU(16,"Remove Room"),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit,r=t.index,i=a.oxw();a.Q6J("formGroupName",r),a.xp6(8),a.Q6J("ngIf",e.controls.type.invalid),a.xp6(6),a.Q6J("ngIf",e.controls.minutes.invalid),a.xp6(1),a.Q6J("disabled",1==i.getRoomsControls().length)}}let gR=(()=>{class n{constructor(e,r){this.msg=e,this._dialogRef=r,this.hide=!0}ngOnInit(){this.setupForm=new ra(this.profile?{income:new Vr(this.profile.income,[Yt.required]),rooms:new um(this.profile.rooms.map(e=>this.createRoom(e)))}:{income:new Vr("",[Yt.required]),rooms:new um([this.createRoom(new tm)])})}onNoClick(){this._dialogRef.close()}onOkClick(){this.setupForm.valid&&(console.log(this.setupForm.value),this.profile=new mb(this.setupForm.value),this.profile.setup=!0,this._dialogRef.close(this.profile))}addRoom(){this.rooms=this.setupForm.get("rooms"),this.rooms.push(this.createRoom(new tm))}getRoomsControls(){return this.rooms=this.setupForm.get("rooms"),this.rooms.controls}createRoom(e){return new ra({type:new Vr(e.type,Yt.required),minutes:new Vr(e.minutes,Yt.required)})}removeRoom(e){this.rooms=this.setupForm.get("rooms"),this.rooms.length>1&&(this.rooms.removeAt(e),console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ym),a.Y36($f))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-setup"]],decls:18,vars:4,consts:[[1,"signin-container",3,"formGroup"],["appearance","fill"],["formControlName","income","matInput","","type","number","required",""],[4,"ngIf"],["formArrayName","rooms",1,"rooms"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex--justify_between","mtb--small"],["mat-button","",3,"click"],["mat-raised-button","","cdkFocusInitial","",3,"disabled","click"],["mat-raised-button","",3,"click"],[3,"formGroupName"],["formControlName","type","matInput","","type","text","required",""],["formControlName","minutes","matInput","","type","number","required",""],["mat-raised-button","",3,"disabled","click"]],template:function(e,r){1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div"),a.TgZ(2,"div"),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Your income per hour"),a.qZA(),a._UZ(6,"input",2),a.YNc(7,yS,2,1,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(8,"div",4),a.YNc(9,bS,17,4,"fieldset",5),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"div",6),a.TgZ(11,"button",7),a.NdJ("click",function(){return r.onNoClick()}),a._uU(12,"Close"),a.qZA(),a.TgZ(13,"button",8),a.NdJ("click",function(){return r.onOkClick()}),a._uU(14,"Ok"),a.qZA(),a.qZA(),a.TgZ(15,"div"),a.TgZ(16,"button",9),a.NdJ("click",function(){return r.addRoom()}),a._uU(17,"Add Room"),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",r.setupForm),a.xp6(7),a.Q6J("ngIf",r.setupForm.controls.income.invalid),a.xp6(2),a.Q6J("ngForOf",r.getRoomsControls()),a.xp6(4),a.Q6J("disabled",r.setupForm.invalid))},directives:[hm,M_,Br,gC,zf,zl,Zf,lf,im,Za,Td,xn,H_,Ft,Ks,Wm,fm],styles:[".setup-right-align[_ngcontent-%COMP%]{text-align:right}input.setup-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.setup-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.setup-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.rooms[_ngcontent-%COMP%]{display:flex;max-width:100%;overflow-x:auto}"]}),n})();function _R(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"ERROR"),a.qZA())}function vC(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"ERROR"),a.qZA())}function wS(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"ERROR"),a.qZA())}function CS(n,t){if(1&n&&(a.TgZ(0,"div",10),a.TgZ(1,"mat-form-field",1),a.TgZ(2,"mat-label"),a._uU(3,"How many "),a.TgZ(4,"b"),a._uU(5),a.qZA(),a._uU(6," rooms"),a.qZA(),a._UZ(7,"input",11),a.YNc(8,wS,2,0,"mat-error",3),a.qZA(),a.qZA()),2&n){const e=t.$implicit;a.Q6J("formGroupName",t.index),a.xp6(5),a.Oqu(e.controls.room.value.type),a.xp6(3),a.Q6J("ngIf",e.controls.count.invalid)}}let bC=(()=>{class n{constructor(e){this._dialogRef=e}ngOnInit(){this.profile&&(this.submitWorkForm=new ra({date:new Vr("",[Yt.required]),workTime:new Vr("",[Yt.required]),roomsCount:new um(this.profile.rooms.map(e=>this.createRoomCount(e)))}))}getRoomsCountControls(){return this.submitWorkForm.get("roomsCount").controls}createRoomCount(e){return new ra({count:new Vr("",Yt.required),room:new Vr(e.toJSON(),Yt.nullValidator)})}onNoClick(){this._dialogRef.close()}onOkClick(){this.submitWorkForm.valid&&(console.log(this.submitWorkForm.value),this.submitWork=new n0(this.submitWorkForm.value,this.profile.customId),console.log(this.submitWorkForm),this._dialogRef.close(this.submitWork))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($f))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-submitwork"]],decls:20,vars:5,consts:[[1,"submitwork-container",3,"formGroup"],["appearance","fill"],["formControlName","date","matInput","","type","date","required",""],[4,"ngIf"],["formControlName","workTime","matInput","","type","number","required",""],["formArrayName","roomsCount"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex--justify_between"],["mat-button","",3,"click"],["mat-raised-button","","cdkFocusInitial","",3,"disabled","click"],[3,"formGroupName"],["formControlName","count","matInput","","type","number","required",""]],template:function(e,r){1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div"),a.TgZ(2,"mat-form-field",1),a.TgZ(3,"mat-label"),a._uU(4,"Choose work day"),a.qZA(),a._UZ(5,"input",2),a.YNc(6,_R,2,0,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(7,"div"),a.TgZ(8,"mat-form-field",1),a.TgZ(9,"mat-label"),a._uU(10,"Worked hours"),a.qZA(),a._UZ(11,"input",4),a.YNc(12,vC,2,0,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(13,"div",5),a.YNc(14,CS,9,3,"div",6),a.qZA(),a.qZA(),a.TgZ(15,"div",7),a.TgZ(16,"button",8),a.NdJ("click",function(){return r.onNoClick()}),a._uU(17,"Close"),a.qZA(),a.TgZ(18,"button",9),a.NdJ("click",function(){return r.onOkClick()}),a._uU(19,"Ok"),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",r.submitWorkForm),a.xp6(6),a.Q6J("ngIf",r.submitWorkForm.controls.date.invalid),a.xp6(6),a.Q6J("ngIf",r.submitWorkForm.controls.workTime.invalid),a.xp6(2),a.Q6J("ngForOf",r.getRoomsCountControls()),a.xp6(4),a.Q6J("disabled",r.submitWorkForm.invalid))},directives:[hm,M_,Br,gC,zf,zl,Zf,im,Za,Td,xn,lf,H_,Ft,Ks,Wm,fm],styles:[".submitwork-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.submitwork-right-align[_ngcontent-%COMP%]{text-align:right}input.submitwork-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.submitwork-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.submitwork-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}mat-slider[_ngcontent-%COMP%]{width:300px}"]}),n})();var Ze,Qr=F(791),pr=F(8939),_L=(F(941),F(3394)),Ud=F(8026),wC=F(3910),gu=F(5422),$t=F(3854),yR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_u={},Vy=Vy||{},Ct=yR||self;function By(){}function Uy(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Qm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var jy="closure_uid_"+(1e9*Math.random()>>>0),ES=0;function vR(n,t,e){return n.call.apply(n.bind,arguments)}function bR(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function Jr(n,t,e){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vR:bR).apply(null,arguments)}function yu(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ur(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,c){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return t.prototype[i].apply(r,h)}}function sc(){this.s=this.s,this.o=this.o}var CR={};sc.prototype.s=!1,sc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,jy)&&n[jy]||(n[jy]=++ES)}(this);delete CR[n]}},sc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ER=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},DR=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in i&&t.call(e,i[c],c,n)};function CC(n){return Array.prototype.concat.apply([],arguments)}function Hy(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function $y(n){return/^[\s\xa0]*$/.test(n)}var Li,DS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ds(n,t){return-1!=n.indexOf(t)}function EC(n,t){return n<t?-1:n>t?1:0}e:{var IR=Ct.navigator;if(IR){var SR=IR.userAgent;if(SR){Li=SR;break e}}Li=""}function DC(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function Gy(n){const t={};for(const e in n)t[e]=n[e];return t}var jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TR(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let c=0;c<jr.length;c++)e=jr[c],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function zy(n){return zy[" "](n),n}zy[" "]=By;var Yf,n,AR=ds(Li,"Opera"),oc=ds(Li,"Trident")||ds(Li,"MSIE"),SS=ds(Li,"Edge"),IC=SS||oc,SC=ds(Li,"Gecko")&&!(ds(Li.toLowerCase(),"webkit")&&!ds(Li,"Edge"))&&!(ds(Li,"Trident")||ds(Li,"MSIE"))&&!ds(Li,"Edge"),jd=ds(Li.toLowerCase(),"webkit")&&!ds(Li,"Edge");function TC(){var n=Ct.document;return n?n.documentMode:void 0}e:{var Jm="",AC=(n=Li,SC?/rv:([^\);]+)(\)|;)/.exec(n):SS?/Edge\/([\d\.]+)/.exec(n):oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jd?/WebKit\/(\S+)/.exec(n):AR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(AC&&(Jm=AC?AC[1]:""),oc){var Wf=TC();if(null!=Wf&&Wf>parseFloat(Jm)){Yf=String(Wf);break e}}Yf=Jm}var MR={};function MC(){return t=MR,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=DS(String(Yf)).split("."),e=DS("9").split("."),r=Math.max(t.length,e.length);for(let h=0;0==n&&h<r;h++){var i=t[h]||"",c=e[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;n=EC(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||EC(0==i[2].length,0==c[2].length)||EC(i[2],c[2]),i=i[3],c=c[3]}while(0==n)}return 0<=n}();var t}var bL=Ct.document&&oc&&(TC()||parseInt(Yf,10))||void 0,xR=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",By,t),Ct.removeEventListener("test",By,t)}catch(e){}return n}();function Vi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Zy(n,t){if(Vi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(SC){e:{try{zy(t.nodeName);var i=!0;break e}catch(c){}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Yy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zy.Z.h.call(this)}}Vi.prototype.h=function(){this.defaultPrevented=!0},Ur(Zy,Vi);var Yy={2:"touch",3:"pen",4:"mouse"};Zy.prototype.h=function(){Zy.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xm="closure_listenable_"+(1e6*Math.random()|0),wL=0;function CL(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++wL,this.ca=this.fa=!1}function xC(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Wy(n){this.src=n,this.g={},this.h=0}function kC(n,t){var e=t.type;if(e in n.g){var c,r=n.g[e],i=ER(r,t);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(xC(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function RC(n,t,e,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==r)return i}return-1}Wy.prototype.add=function(n,t,e,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=RC(n,t,r,i);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new CL(t,this.src,c,!!r,i)).fa=e,n.push(t)),t};var OC="closure_lm_"+(1e6*Math.random()|0),NC={};function kR(n,t,e,r,i){if(r&&r.once)return AS(n,t,e,r,i);if(Array.isArray(t)){for(var c=0;c<t.length;c++)kR(n,t[c],e,r,i);return null}return e=LC(e),n&&n[Xm]?n.N(t,e,Qm(r)?!!r.capture:!!r,i):TS(n,t,e,!1,r,i)}function TS(n,t,e,r,i,c){if(!t)throw Error("Invalid event type");var h=Qm(i)?!!i.capture:!!i,m=PC(n);if(m||(n[OC]=m=new Wy(n)),(e=m.add(t,e,r,h,c)).proxy)return e;if(r=function(){var t=NR;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)xR||(i=h),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(xS(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function AS(n,t,e,r,i){if(Array.isArray(t)){for(var c=0;c<t.length;c++)AS(n,t[c],e,r,i);return null}return e=LC(e),n&&n[Xm]?n.O(t,e,Qm(r)?!!r.capture:!!r,i):TS(n,t,e,!0,r,i)}function OR(n,t,e,r,i){if(Array.isArray(t))for(var c=0;c<t.length;c++)OR(n,t[c],e,r,i);else r=Qm(r)?!!r.capture:!!r,e=LC(e),n&&n[Xm]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=RC(c=n.g[t],e,r,i))&&(xC(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete n.g[t],n.h--))):n&&(n=PC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=RC(t,e,r,i)),(e=-1<n?t[n]:null)&&MS(e))}function MS(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Xm])kC(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(xS(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=PC(t))?(kC(e,n),0==e.h&&(e.src=null,t[OC]=null)):xC(n)}}}function xS(n){return n in NC?NC[n]:NC[n]="on"+n}function NR(n,t){if(n.ca)n=!0;else{t=new Zy(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&MS(n),n=e.call(r,t)}return n}function PC(n){return(n=n[OC])instanceof Wy?n:null}var FC="__closure_events_fn_"+(1e9*Math.random()>>>0);function LC(n){return"function"==typeof n?n:(n[FC]||(n[FC]=function(t){return n.handleEvent(t)}),n[FC])}function bn(){sc.call(this),this.i=new Wy(this),this.P=this,this.I=null}function vi(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Vi(t,n);else if(t instanceof Vi)t.target=t.target||n;else{var i=t;TR(t=new Vi(r,n),i)}if(i=!0,e)for(var c=e.length-1;0<=c;c--){var h=t.g=e[c];i=Ky(h,r,!0,t)&&i}if(i=Ky(h=t.g=n,r,!0,t)&&i,i=Ky(h,r,!1,t)&&i,e)for(c=0;c<e.length;c++)i=Ky(h=t.g=e[c],r,!1,t)&&i}function Ky(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,c=0;c<t.length;++c){var h=t[c];if(h&&!h.ca&&h.capture==e){var m=h.listener,b=h.ia||h.src;h.fa&&kC(n.i,h),i=!1!==m.call(b,r)&&i}}return i&&!r.defaultPrevented}Ur(bn,sc),bn.prototype[Xm]=!0,bn.prototype.removeEventListener=function(n,t,e,r){OR(this,n,t,e,r)},bn.prototype.M=function(){if(bn.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)xC(e[r]);delete n.g[t],n.h--}}this.I=null},bn.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},bn.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var VC=Ct.JSON.stringify;function PR(){var n=VR;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Qy,kS=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new FR,n=>n.reset());class FR{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function LR(n){Ct.setTimeout(()=>{throw n},0)}function Hd(n,t){Qy||function(){var n=Ct.Promise.resolve(void 0);Qy=function(){n.then(IL)}}(),BC||(Qy(),BC=!0),VR.add(n,t)}var BC=!1,VR=new class{constructor(){this.h=this.g=null}add(t,e){const r=kS.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function IL(){for(var n;n=PR();){try{n.h.call(n.g)}catch(e){LR(e)}var t=kS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}BC=!1}function UC(n,t){bn.call(this),this.h=n||1,this.g=t||Ct,this.j=Jr(this.kb,this),this.l=Date.now()}function eg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function jC(n,t,e){if("function"==typeof n)e&&(n=Jr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ct.setTimeout(n,t||0)}function RS(n){n.g=jC(()=>{n.g=null,n.i&&(n.i=!1,RS(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ur(UC,bn),(Ze=UC.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&(eg(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){UC.Z.M.call(this),eg(this),delete this.g};class BR extends sc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:RS(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jy(n){sc.call(this),this.h=n,this.g={}}Ur(Jy,sc);var OS=[];function NS(n,t,e,r){Array.isArray(e)||(e&&(OS[0]=e.toString()),e=OS);for(var i=0;i<e.length;i++){var c=kR(t,e[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function PS(n){DC(n.g,function(t,e){this.g.hasOwnProperty(e)&&MS(t)},n),n.g={}}function Ms(){this.g=!0}function Kf(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<i.length;h++)i[h]=""}}}return VC(e)}catch(m){return t}}(n,e)+(r?" "+r:"")})}Jy.prototype.M=function(){Jy.Z.M.call(this),PS(this)},Jy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ms.prototype.Aa=function(){this.g=!1},Ms.prototype.info=function(){};var vu={},Xy=null;function Qf(){return Xy=Xy||new bn}function ev(n){Vi.call(this,vu.Ma,n)}function bu(n){const t=Qf();vi(t,new ev(t,n))}function tg(n,t){Vi.call(this,vu.STAT_EVENT,n),this.stat=t}function Bi(n){const t=Qf();vi(t,new tg(t,n))}function HC(n,t){Vi.call(this,vu.Na,n),this.size=t}function ng(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},t)}vu.Ma="serverreachability",Ur(ev,Vi),vu.STAT_EVENT="statevent",Ur(tg,Vi),vu.Na="timingevent",Ur(HC,Vi);var tv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$C={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function GC(){}function US(){}GC.prototype.h=null;var Gd,$d={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zC(){Vi.call(this,"d")}function bi(){Vi.call(this,"c")}function zd(){}function Jf(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Jy(this),this.P=qC,this.W=new UC(n=IC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rg}function rg(){this.i=null,this.g="",this.h=!1}Ur(zC,Vi),Ur(bi,Vi),Ur(zd,GC),zd.prototype.g=function(){return new XMLHttpRequest},zd.prototype.i=function(){return{}},Gd=new zd;var qC=45e3,nv={},qd={};function ZC(n,t,e){n.K=1,n.v=lc(ac(t)),n.s=e,n.U=!0,jS(n,null)}function jS(n,t){n.F=Date.now(),ig(n),n.A=ac(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),KS(e.h,"t",r),n.C=0,e=n.l.H,n.h=new rg,n.g=BL(n.l,e?t:null,!n.s),0<n.O&&(n.L=new BR(Jr(n.Ia,n,n.g),n.O)),NS(n.V,n.g,"readystatechange",n.gb),t=n.H?Gy(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),bu(1),function(n,t,e,r,i,c){n.info(function(){if(n.g)if(c)for(var h="",m=c.split("&"),b=0;b<m.length;b++){var E=m[b].split("=");if(1<E.length){var T=E[0];E=E[1];var R=T.split("_");h=2<=R.length&&"type"==R[1]?h+(T+"=")+E+"&":h+(T+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function HS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function $S(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=GS(n,e),i==qd){4==t&&(n.o=4,Bi(14),r=!1),Kf(n.j,n.m,null,"[Incomplete Response]");break}if(i==nv){n.o=4,Bi(15),Kf(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}Kf(n.j,n.m,i,null),sg(n,i)}HS(n)&&i!=qd&&i!=nv&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),KR(t),t.L=!0,Bi(11))):(Kf(n.j,n.m,e,"[Invalid Chunked Response]"),ha(n),To(n))}function GS(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?qd:(e=Number(t.substring(e,r)),isNaN(e)?nv:(r+=1)+e>t.length?qd:(t=t.substr(r,e),n.C=r+e,t))}function ig(n){n.Y=Date.now()+n.P,zS(n,n.P)}function zS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ng(Jr(n.eb,n),t)}function rv(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function To(n){0==n.l.G||n.I||PL(n.l,n)}function ha(n){rv(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,eg(n.W),PS(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function sg(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||JS(e.i,n)))if(e.I=n.N,!n.J&&JS(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(e.u)e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=ng(Jr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;nT(e),cc(e)}WR(e),Bi(18)}if(1>=ZR(e.i)&&e.ka){try{e.ka()}catch(E){}e.ka=void 0}}else ug(e,11)}else if((n.J||e.g==n)&&nT(e),!$y(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let E=i[t];if(e.U=E[0],E=E[1],2==e.G)if("c"==E[0]){e.J=E[1],e.la=E[2];const T=E[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const R=E[4];null!=R&&(e.za=R,e.h.info("SVER="+e.za));const U=E[5];null!=U&&"number"==typeof U&&0<U&&(e.K=r=1.5*U,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const H=n.g;if(H){const J=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var c=r.i;!c.g&&(ds(J,"spdy")||ds(J,"quic")||ds(J,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(XS(c,c.h),c.h=null))}if(r.D){const fe=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(r.sa=fe,Dn(r.F,r.D,fe))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((r=e).oa=VL(r,r.H?r.la:null,r.W),h.J){YR(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(rv(m),ig(m)),r.g=h}else OL(r);0<e.l.length&&rp(e)}else"stop"!=E[0]&&"close"!=E[0]||ug(e,7);else 3==e.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ug(e,7):Cu(e):"noop"!=E[0]&&e.j&&e.j.wa(E),e.A=0)}bu(4)}catch(E){}}function YC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Uy(n)||"string"==typeof n)DR(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Uy(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;i=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Uy(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var c=0;c<i;c++)t.call(void 0,r[c],e&&e[c],n)}}function Xf(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Xf)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function og(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Zd(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)Zd(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function Zd(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(Ze=Jf.prototype).setTimeout=function(n){this.P=n},Ze.gb=function(n){n=n.target;const t=this.L;t&&3==ze(n)?t.l():this.Ia(n)},Ze.Ia=function(n){try{if(n==this.g)e:{const T=ze(this.g);var t=this.g.Da();const R=this.g.ba();if(!(3>T)&&(3!=T||IC||this.g&&(this.h.h||this.g.ga()||ht(this.g)))){this.I||4!=T||7==t||bu(8==t||0>=R?3:2),rv(this);var e=this.g.ba();this.N=e;t:if(HS(this)){var r=ht(this.g);n="";var i=r.length,c=4==ze(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ha(this),To(this);var h="";break t}this.h.i=new Ct.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:c&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,r,i,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$y(m)){var E=m;break t}}E=null}if(!(e=E)){this.i=!1,this.o=3,Bi(12),ha(this),To(this);break e}Kf(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sg(this,e)}this.U?($S(this,T,h),IC&&this.i&&3==T&&(NS(this.V,this.W,"tick",this.fb),this.W.start())):(Kf(this.j,this.m,h,null),sg(this,h)),4==T&&ha(this),this.i&&!this.I&&(4==T?PL(this.l,this):(this.i=!1,ig(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),ha(this),To(this)}}}catch(T){}},Ze.fb=function(){if(this.g){var n=ze(this.g),t=this.g.ga();this.C<t.length&&(rv(this),$S(this,n,t),this.i&&4!=n&&ig(this))}},Ze.cancel=function(){this.I=!0,ha(this)},Ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(bu(3),Bi(17)),ha(this),this.o=2,To(this)):zS(this,this.Y-n)},(Ze=Xf.prototype).R=function(){og(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},Ze.T=function(){return og(this),this.g.concat()},Ze.get=function(n,t){return Zd(this.h,n)?this.h[n]:t},Ze.set=function(n,t){Zd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},Ze.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],c=this.get(i);n.call(t,c,i,this)}};var WC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yd(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Yd){this.g=void 0!==t?t:n.g,iv(this,n.j),this.s=n.s,Ao(this,n.i),wu(this,n.m),this.l=n.l,t=n.h;var e=new tp;e.i=t.i,t.g&&(e.g=new Xf(t.g),e.h=t.h),Wd(this,e),this.o=n.o}else n&&(e=String(n).match(WC))?(this.g=!!t,iv(this,e[1]||"",!0),this.s=ag(e[2]||""),Ao(this,e[3]||"",!0),wu(this,e[4]),this.l=ag(e[5]||"",!0),Wd(this,e[6]||"",!0),this.o=ag(e[7]||"")):(this.g=!!t,this.h=new tp(null,this.g))}function ac(n){return new Yd(n)}function iv(n,t,e){n.j=e?ag(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Ao(n,t,e){n.i=e?ag(t,!0):t}function wu(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Wd(n,t,e){t instanceof tp?(n.h=t,function(n,t){t&&!n.j&&(xs(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(sv(this,r),KS(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=ep(t,$R)),n.h=new tp(t,n.g))}function Dn(n,t,e){n.h.set(t,e)}function lc(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ag(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ep(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,ZS),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ZS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ep(t,KC,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ep(t,KC,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(ep(e,"/"==e.charAt(0)?QC:YS,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ep(e,GR)),n.join("")};var KC=/[#\/\?@]/g,YS=/[#\?:]/g,QC=/[#\?]/g,$R=/[#\?@]/g,GR=/#/g;function tp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function xs(n){n.g||(n.g=new Xf,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var c=n[e].substring(0,r);i=n[e].substring(r+1)}else c=n[e];t(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function sv(n,t){xs(n),t=lg(n,t),Zd(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Zd((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&og(n)))}function WS(n,t){return xs(n),t=lg(n,t),Zd(n.g.h,t)}function KS(n,t,e){sv(n,t),0<e.length&&(n.i=null,n.g.set(lg(n,t),Hy(e)),n.h+=e.length)}function lg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function zR(n){this.l=n||qR,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=tp.prototype).add=function(n,t){xs(this),this.i=null,n=lg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Ze.forEach=function(n,t){xs(this),this.g.forEach(function(e,r){DR(e,function(i){n.call(t,i,r,this)},this)},this)},Ze.T=function(){xs(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],c=0;c<i.length;c++)e.push(t[r]);return e},Ze.R=function(n){xs(this);var t=[];if("string"==typeof n)WS(this,n)&&(t=CC(t,this.g.get(lg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=CC(t,n[e])}return t},Ze.set=function(n,t){return xs(this),this.i=null,WS(this,n=lg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Ze.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=i;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var qR=10;function QS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZR(n){return n.h?1:n.g?n.g.size:0}function JS(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function XS(n,t){n.g?n.g.add(t):n.h=t}function YR(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function eT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Hy(n.i)}function tT(){}function ML(){this.g=new tT}function xL(n,t,e){const r=e||"";try{YC(n,function(i,c){let h=i;Qm(i)&&(h=VC(i)),t.push(r+c+"="+encodeURIComponent(h))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function s(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(c){}}function o(n){this.l=n.$b||null,this.j=n.ib||!1}function l(n,t){bn.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=u,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zR.prototype.cancel=function(){if(this.i=eT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tT.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},tT.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},Ur(o,GC),o.prototype.g=function(){return new l(this.l,this.j)},o.prototype.i=function(n){return function(){return n}}({}),Ur(l,bn);var u=0;function d(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_(n)}function _(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=l.prototype).open=function(n,t){if(this.readyState!=u)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,_(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ct).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,f(this)),this.readyState=u},Ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_(this)),this.g&&(this.readyState=3,_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;d(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?f(this):_(this),3==this.readyState&&d(this)}},Ze.Ua=function(n){this.g&&(this.response=this.responseText=n,f(this))},Ze.Ta=function(n){this.g&&(this.response=n,f(this))},Ze.ha=function(){this.g&&f(this)},Ze.setRequestHeader=function(n,t){this.v.append(n,t)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(l.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var v=Ct.JSON.parse;function C(n){bn.call(this),this.headers=new Xf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=I,this.K=this.L=!1}Ur(C,bn);var I="",x=/^https?$/i,N=["POST","PUT"];function z(n){return"content-type"==n.toLowerCase()}function W(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,he(n),xe(n)}function he(n){n.D||(n.D=!0,vi(n,"complete"),vi(n,"error"))}function ie(n){if(n.h&&void 0!==Vy&&(!n.C[1]||4!=ze(n)||2!=n.ba()))if(n.v&&4==ze(n))jC(n.Fa,0,n);else if(vi(n,"readystatechange"),4==ze(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===m){var i=String(n.H).match(WC)[1]||null;if(!i&&Ct.self&&Ct.self.location){var c=Ct.self.location.protocol;i=c.substr(0,c.length-1)}r=!x.test(i?i.toLowerCase():"")}e=r}if(e)vi(n,"complete"),vi(n,"success");else{n.m=6;try{var h=2<ze(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",he(n)}}finally{xe(n)}}}function xe(n,t){if(n.g){ve(n);const e=n.g,r=n.C[0]?By:null;n.g=null,n.C=null,t||vi(n,"ready");try{e.onreadystatechange=r}catch(i){}}}function ve(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function ze(n){return n.g?n.g.readyState:0}function ht(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case I:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function mr(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return DC(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Dn(n,t,e))}function Ui(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function np(n){this.za=0,this.l=[],this.h=new Ms,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ui("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ui("baseRetryDelayMs",5e3,n),this.$a=Ui("retryDelaySeedMs",1e4,n),this.Ya=Ui("forwardChannelMaxRetries",2,n),this.ra=Ui("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new zR(n&&n.concurrentRequestLimit),this.Ca=new ML,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Cu(n){if(Kd(n),3==n.G){var t=n.V++,e=ac(n.F);Dn(e,"SID",n.J),Dn(e,"RID",t),Dn(e,"TYPE","terminate"),Qd(n,e),(t=new Jf(n,n.h,t,void 0)).K=2,t.v=lc(ac(e)),e=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(e=Ct.navigator.sendBeacon(t.v.toString(),"")),!e&&Ct.Image&&((new Image).src=t.v,e=!0),e||(t.g=BL(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ig(t)}LL(n)}function cc(n){n.g&&(KR(n),n.g.cancel(),n.g=null)}function Kd(n){cc(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),nT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function cg(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&rp(n)}function rp(n){QS(n.i)||n.m||(n.m=!0,Hd(n.Ha,n),n.C=0)}function ov(n,t){var e;e=t?t.m:n.V++;const r=ac(n.F);Dn(r,"SID",n.J),Dn(r,"RID",e),Dn(r,"AID",n.U),Qd(n,r),n.o&&n.s&&mr(r,n.o,n.s),e=new Jf(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=RL(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),XS(n.i,e),ZC(e,r,t)}function Qd(n,t){n.j&&YC({},function(e,r){Dn(t,r,e)})}function RL(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Jr(n.j.Oa,n.j,n):null;e:{var i=n.l;let c=-1;for(;;){const h=["count="+e];-1==c?0<e?(c=i[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let m=!0;for(let b=0;b<e;b++){let E=i[b].h;const T=i[b].g;if(E-=c,0>E)c=Math.max(0,i[b].h-100),m=!1;else try{xL(T,h,"req"+E+"_")}catch(R){r&&r(T)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function OL(n){n.g||n.u||(n.Y=1,Hd(n.Ga,n),n.A=0)}function WR(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ng(Jr(n.Ga,n),FL(n,n.A)),n.A++,0))}function KR(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function NL(n){n.g=new Jf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=ac(n.oa);Dn(t,"RID","rpc"),Dn(t,"SID",n.J),Dn(t,"CI",n.N?"0":"1"),Dn(t,"AID",n.U),Qd(n,t),Dn(t,"TYPE","xmlhttp"),n.o&&n.s&&mr(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=lc(ac(t)),e.s=null,e.U=!0,jS(e,n)}function nT(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function PL(n,t){var e=null;if(n.g==t){nT(n),KR(n),n.g=null;var r=2}else{if(!JS(n.i,t))return;e=t.D,YR(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;vi(r=Qf(),new HC(r,e,t,i)),rp(n)}else OL(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function(n,t){return!(ZR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ng(Jr(n.Ha,n,t),FL(n,n.C)),n.C++,0)))}(n,t)||2==r&&WR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:ug(n,5);break;case 4:ug(n,10);break;case 3:ug(n,6);break;default:ug(n,2)}}function FL(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function ug(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Jr(n.jb,n);e||(e=new Yd("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||iv(e,"https"),lc(e)),function(n,t){const e=new Ms;if(Ct.Image){const r=new Image;r.onload=yu(s,e,r,"TestLoadImage: loaded",!0,t),r.onerror=yu(s,e,r,"TestLoadImage: error",!1,t),r.onabort=yu(s,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=yu(s,e,r,"TestLoadImage: timeout",!1,t),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else Bi(2);n.G=0,n.j&&n.j.va(t),LL(n),Kd(n)}function LL(n){n.G=0,n.I=-1,n.j&&((0!=eT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Hy(n.l),n.l.length=0),n.j.ua())}function VL(n,t,e){let r=function(n){return n instanceof Yd?ac(n):new Yd(n,void 0)}(e);if(""!=r.i)t&&Ao(r,t+"."+r.i),wu(r,r.m);else{const i=Ct.location;r=function(n,t,e,r){var i=new Yd(null,void 0);return n&&iv(i,n),t&&Ao(i,t),e&&wu(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&DC(n.aa,function(i,c){Dn(r,c,i)}),e=n.sa,(t=n.D)&&e&&Dn(r,t,e),Dn(r,"VER",n.ma),Qd(n,r),r}function BL(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new C(e&&n.Ba&&!n.qa?new o({ib:!0}):n.qa)).L=n.H,t}function UL(){}function rT(){if(oc&&!(10<=Number(bL)))throw Error("Environmental error: no available transport.")}function fa(n,t){bn.call(this),this.g=new np(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!$y(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$y(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new av(this)}function jL(n){zC.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function HL(){bi.call(this),this.status=1}function av(n){this.g=n}(Ze=C.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gd.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Gd),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(c){return void W(this,c)}n=e||"";const i=new Xf(this.headers);r&&YC(r,function(c,h){i.set(h,c)}),r=function(n){e:{var t=z;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=Ct.FormData&&n instanceof Ct.FormData,!(0<=ER(N,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ve(this),0<this.B&&((this.K=function(n){return oc&&MC()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=jC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){W(this,c)}},Ze.pa=function(){void 0!==Vy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vi(this,"complete"),vi(this,"abort"),xe(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xe(this,!0)),C.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?ie(this):this.cb())},Ze.cb=function(){ie(this)},Ze.ba=function(){try{return 2<ze(this)?this.g.status:-1}catch(n){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ze.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),v(t)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=np.prototype).ma=8,Ze.G=1,Ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},Ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Jf(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Gy(c),TR(c,this.P)):c=this.P),null===this.o&&(i.H=c),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=RL(this,i,t),Dn(e=ac(this.F),"RID",n),Dn(e,"CVER",22),this.D&&Dn(e,"X-HTTP-Session-Id",this.D),Qd(this,e),this.o&&c&&mr(e,this.o,c),XS(this.i,i),this.Ra&&Dn(e,"TYPE","init"),this.ja?(Dn(e,"$req",t),Dn(e,"SID","null"),i.$=!0,ZC(i,e,null)):ZC(i,e,t),this.G=2}}else 3==this.G&&(n?ov(this,n):0==this.l.length||QS(this.i)||ov(this))},Ze.Ga=function(){if(this.u=null,NL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ng(Jr(this.bb,this),n)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bi(10),cc(this),NL(this))},Ze.ab=function(){null!=this.v&&(this.v=null,cc(this),WR(this),Bi(19))},Ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bi(2)):(this.h.info("Failed to ping google.com"),Bi(1))},(Ze=UL.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},rT.prototype.g=function(n,t){return new fa(n,t)},Ur(fa,bn),fa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Hd(Jr(n.hb,n,t))),Bi(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=VL(n,null,n.W),rp(n)},fa.prototype.close=function(){Cu(this.g)},fa.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,cg(this.g,t)}else this.v?((t={}).__data__=VC(n),cg(this.g,t)):cg(this.g,n)},fa.prototype.M=function(){this.g.j=null,delete this.j,Cu(this.g),delete this.g,fa.Z.M.call(this)},Ur(jL,zC),Ur(HL,bi),Ur(av,UL),av.prototype.xa=function(){vi(this.g,"a")},av.prototype.wa=function(n){vi(this.g,new jL(n))},av.prototype.va=function(n){vi(this.g,new HL(n))},av.prototype.ua=function(){vi(this.g,"b")},rT.prototype.createWebChannel=rT.prototype.g,fa.prototype.send=fa.prototype.u,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,tv.NO_ERROR=0,tv.TIMEOUT=8,tv.HTTP_ERROR=6,$C.COMPLETE="complete",US.EventType=$d,$d.OPEN="a",$d.CLOSE="b",$d.ERROR="c",$d.MESSAGE="d",bn.prototype.listen=bn.prototype.N,C.prototype.listenOnce=C.prototype.O,C.prototype.getLastError=C.prototype.La,C.prototype.getLastErrorCode=C.prototype.Da,C.prototype.getStatus=C.prototype.ba,C.prototype.getResponseJson=C.prototype.Qa,C.prototype.getResponseText=C.prototype.ga,C.prototype.send=C.prototype.ea;var O3=_u.createWebChannelTransport=function(){return new rT},N3=_u.getStatEventTarget=function(){return Qf()},QR=_u.ErrorCode=tv,P3=_u.EventType=$C,F3=_u.Event=vu,$L=_u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},L3=_u.FetchXmlHttpFactory=o,iT=_u.WebChannel=US,V3=_u.XhrIo=C;const GL="@firebase/firestore";class hs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hs.UNAUTHENTICATED=new hs(null),hs.GOOGLE_CREDENTIALS=new hs("google-credentials-uid"),hs.FIRST_PARTY=new hs("first-party-uid"),hs.MOCK_USER=new hs("mock-user");let lv="9.4.0";const ip=new gu.Yd("@firebase/firestore");function JR(){return ip.logLevel}function Ne(n,...t){if(ip.logLevel<=gu.in.DEBUG){const e=t.map(XR);ip.debug(`Firestore (${lv}): ${n}`,...e)}}function Xr(n,...t){if(ip.logLevel<=gu.in.ERROR){const e=t.map(XR);ip.error(`Firestore (${lv}): ${n}`,...e)}}function XC(n,...t){if(ip.logLevel<=gu.in.WARN){const e=t.map(XR);ip.warn(`Firestore (${lv}): ${n}`,...e)}}function XR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function rt(n="Unexpected state"){const t=`FIRESTORE (${lv}) INTERNAL ASSERTION FAILED: `+n;throw Xr(t),new Error(t)}function bt(n,t){n||rt()}function Be(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class zL{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class j3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(hs.UNAUTHENTICATED))}shutdown(){}}class H3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class $3{constructor(t){this.t=t,this.currentUser=hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const c=E=>this.i!==i?(i=this.i,e(E)):Promise.resolve();let h=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ji,t.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const E=h;t.enqueueRetryable((0,me.Z)(function*(){yield E.promise,yield c(r.currentUser)}))},b=E=>{Ne("FirebaseCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(E=>b(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(Ne("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ji)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new zL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return bt(null===t||"string"==typeof t),new hs(t)}}class G3{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=hs.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class z3{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new G3(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(hs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.g(r),this.p=r=>e.writeSequenceNumber(r))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function q3(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}pa.T=-1;class qL{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=q3(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<e&&(r+=t.charAt(i[c]%t.length))}return r}}function Xt(n,t){return n<t?-1:n>t?1:0}function cv(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function ZL(n){return n+"\0"}class Hi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Hi.fromMillis(Date.now())}static fromDate(t){return Hi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Hi(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Hi(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function YL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function dg(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function WL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class eE{constructor(t,e,r){void 0===e?e=0:e>t.length&&rt(),void 0===r?r=t.length-e:r>t.length-e&&rt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===eE.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof eE?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const c=t.get(i),h=e.get(i);if(c<h)return-1;if(c>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class gn extends eE{construct(t,e,r){return new gn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ke(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new gn(e)}static emptyPath(){return new gn([])}}const Z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fs extends eE{construct(t,e,r){return new fs(t,e,r)}static isValidIdentifier(t){return Z3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fs(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const c=()=>{if(0===r.length)throw new ke(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;i<t.length;){const m=t[i];if("\\"===m){if(i+1===t.length)throw new ke(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[i+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ke(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=b,i+=2}else"`"===m?(h=!h,i++):"."!==m||h?(r+=m,i++):(c(),i++)}if(c(),h)throw new ke(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fs(e)}static emptyPath(){return new fs([])}}class uv{constructor(t){this.fields=t,t.sort(fs.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return cv(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class $i{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new $i(e)}static fromUint8Array(t){const e=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(t);return new $i(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const W3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sp(n){if(bt(!!n),"string"==typeof n){let t=0;const e=W3.exec(n);if(bt(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function dv(n){return"string"==typeof n?$i.fromBase64String(n):$i.fromUint8Array(n)}function eO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function KL(n){const t=n.mapValue.fields.__previous_value__;return eO(t)?KL(t):t}function tE(n){const t=sp(n.mapValue.fields.__local_write_time__.timestampValue);return new Hi(t.seconds,t.nanos)}function hg(n){return null==n}function sT(n){return 0===n&&1/n==-1/0}function QL(n){return"number"==typeof n&&Number.isInteger(n)&&!sT(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class et{constructor(t){this.path=t}static fromPath(t){return new et(gn.fromString(t))}static fromName(t){return new et(gn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===gn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return gn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new gn(t.slice()))}}function fg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eO(n)?4:10:rt()}function Eu(n,t){const e=fg(n);if(e!==fg(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tE(n).isEqual(tE(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=sp(r.timestampValue),h=sp(i.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,dv(n.bytesValue).isEqual(dv(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return ei(r.geoPointValue.latitude)===ei(i.geoPointValue.latitude)&&ei(r.geoPointValue.longitude)===ei(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ei(r.integerValue)===ei(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=ei(r.doubleValue),h=ei(i.doubleValue);return c===h?sT(c)===sT(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return cv(n.arrayValue.values||[],t.arrayValue.values||[],Eu);case 10:return function(r,i){const c=r.mapValue.fields||{},h=i.mapValue.fields||{};if(YL(c)!==YL(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===h[m]||!Eu(c[m],h[m])))return!1;return!0}(n,t);default:return rt()}var i}function nE(n,t){return void 0!==(n.values||[]).find(e=>Eu(e,t))}function hv(n,t){const e=fg(n),r=fg(t);if(e!==r)return Xt(e,r);switch(e){case 0:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return function(i,c){const h=ei(i.integerValue||i.doubleValue),m=ei(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,t);case 3:return JL(n.timestampValue,t.timestampValue);case 4:return JL(tE(n),tE(t));case 5:return Xt(n.stringValue,t.stringValue);case 6:return function(i,c){const h=dv(i),m=dv(c);return h.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(i,c){const h=i.split("/"),m=c.split("/");for(let b=0;b<h.length&&b<m.length;b++){const E=Xt(h[b],m[b]);if(0!==E)return E}return Xt(h.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,c){const h=Xt(ei(i.latitude),ei(c.latitude));return 0!==h?h:Xt(ei(i.longitude),ei(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,c){const h=i.values||[],m=c.values||[];for(let b=0;b<h.length&&b<m.length;++b){const E=hv(h[b],m[b]);if(E)return E}return Xt(h.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,c){const h=i.fields||{},m=Object.keys(h),b=c.fields||{},E=Object.keys(b);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const R=Xt(m[T],E[T]);if(0!==R)return R;const U=hv(h[m[T]],b[E[T]]);if(0!==U)return U}return Xt(m.length,E.length)}(n.mapValue,t.mapValue);default:throw rt()}}function JL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Xt(n,t);const e=sp(n),r=sp(t),i=Xt(e.seconds,r.seconds);return 0!==i?i:Xt(e.nanos,r.nanos)}function tO(n){return nO(n)}function nO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=sp(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?dv(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const h of r.values||[])c?c=!1:i+=",",i+=nO(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const m of i)h?h=!1:c+=",",c+=`${m}:${nO(r.fields[m])}`;return c+"}"}(n.mapValue):rt();var t}function oT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function rO(n){return!!n&&"integerValue"in n}function iO(n){return!!n&&"arrayValue"in n}function XL(n){return!!n&&"nullValue"in n}function eV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function aT(n){return!!n&&"mapValue"in n}function rE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return dg(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=rE(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=rE(n.arrayValue.values[e]);return t}return Object.assign({},n)}class ks{constructor(t){this.value=t}static empty(){return new ks({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!aT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rE(e)}setAll(t){let e=fs.emptyPath(),r={},i=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const b=this.getFieldsMap(e);this.applyChanges(b,r,i),r={},i=[],e=m.popLast()}h?r[m.lastSegment()]=rE(h):i.push(m.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,i)}delete(t){const e=this.field(t.popLast());aT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Eu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];aT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){dg(e,(i,c)=>t[i]=c);for(const i of r)delete t[i]}clone(){return new ks(rE(this.value))}}function tV(n){const t=[];return dg(n.fields,(e,r)=>{const i=new fs([e]);if(aT(r)){const c=tV(r.mapValue).fields;if(0===c.length)t.push(i);else for(const h of c)t.push(i.child(h))}else t.push(i)}),new uv(t)}class or{constructor(t,e,r,i,c){this.key=t,this.documentType=e,this.version=r,this.data=i,this.documentState=c}static newInvalidDocument(t){return new or(t,0,Pt.min(),ks.empty(),0)}static newFoundDocument(t,e,r){return new or(t,1,e,r,0)}static newNoDocument(t,e){return new or(t,2,e,ks.empty(),0)}static newUnknownDocument(t,e){return new or(t,3,e,ks.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof or&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new or(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class K3{constructor(t,e=null,r=[],i=[],c=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=h,this.endAt=m,this.A=null}}function nV(n,t=null,e=[],r=[],i=null,c=null,h=null){return new K3(n,t,e,r,i,c,h)}function iE(n){const t=Be(n);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+tO(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=uT(t.startAt)),t.endAt&&(e+="|ub:",e+=uT(t.endAt)),t.A=e}return t.A}function lT(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!oj(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Eu(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!sV(n.startAt,t.startAt)&&sV(n.endAt,t.endAt)}function cT(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Qs extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,r):new X3(t,e,r):"array-contains"===e?new nj(t,r):"in"===e?new rj(t,r):"not-in"===e?new ij(t,r):"array-contains-any"===e?new sj(t,r):new Qs(t,e,r)}static R(t,e,r){return"in"===e?new ej(t,r):new tj(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(hv(e,this.value)):null!==e&&fg(this.value)===fg(e)&&this.P(hv(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class X3 extends Qs{constructor(t,e,r){super(t,e,r),this.key=et.fromName(r.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.P(e)}}class ej extends Qs{constructor(t,e){super(t,"in",e),this.keys=rV(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class tj extends Qs{constructor(t,e){super(t,"not-in",e),this.keys=rV(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function rV(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>et.fromName(r.referenceValue))}class nj extends Qs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return iO(e)&&nE(e.arrayValue,this.value)}}class rj extends Qs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&nE(this.value.arrayValue,e)}}class ij extends Qs{constructor(t,e){super(t,"not-in",e)}matches(t){if(nE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!nE(this.value.arrayValue,e)}}class sj extends Qs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!iO(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>nE(this.value.arrayValue,r))}}class sE{constructor(t,e){this.position=t,this.before=e}}function uT(n){return`${n.before?"b":"a"}:${n.position.map(t=>tO(t)).join(",")}`}class fv{constructor(t,e="asc"){this.field=t,this.dir=e}}function oj(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function iV(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const c=t[i],h=n.position[i];if(r=c.field.isKeyField()?et.comparator(et.fromName(h.referenceValue),e.key):hv(h,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function sV(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Eu(n.position[e],t.position[e]))return!1;return!0}class Jd{constructor(t,e=null,r=[],i=[],c=null,h="F",m=null,b=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=b,this.V=null,this.S=null}}function oV(n,t,e,r,i,c,h,m){return new Jd(n,t,e,r,i,c,h,m)}function pv(n){return new Jd(n)}function dT(n){return!hg(n.limit)&&"F"===n.limitType}function hT(n){return!hg(n.limit)&&"L"===n.limitType}function sO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oO(n){for(const t of n.filters)if(t.v())return t.field;return null}function aO(n){return null!==n.collectionGroup}function mv(n){const t=Be(n);if(null===t.V){t.V=[];const e=oO(t),r=sO(t);if(null!==e&&null===r)e.isKeyField()||t.V.push(new fv(e)),t.V.push(new fv(fs.keyField(),"asc"));else{let i=!1;for(const c of t.explicitOrderBy)t.V.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new fv(fs.keyField(),c))}}}return t.V}function ol(n){const t=Be(n);if(!t.S)if("F"===t.limitType)t.S=nV(t.path,t.collectionGroup,mv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const c of mv(t))e.push(new fv(c.field,"desc"===c.dir?"asc":"desc"));const r=t.endAt?new sE(t.endAt.position,!t.endAt.before):null,i=t.startAt?new sE(t.startAt.position,!t.startAt.before):null;t.S=nV(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.S}function aV(n,t,e){return new Jd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function oE(n,t){return lT(ol(n),ol(t))&&n.limitType===t.limitType}function lV(n){return`${iE(ol(n))}|lt:${n.limitType}`}function lO(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${tO(r.value)}`;var r}).join(", ")}]`),hg(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+uT(n.startAt)),n.endAt&&(t+=", endAt: "+uT(n.endAt)),`Target(${t})`}(ol(n))}; limitType=${n.limitType})`}function aE(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):et.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!iV(e.startAt,mv(e),r)||e.endAt&&iV(e.endAt,mv(e),r)));var e,r}function cV(n){return(t,e)=>{let r=!1;for(const i of mv(n)){const c=aj(i,t,e);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function aj(n,t,e){const r=n.field.isKeyField()?et.comparator(t.key,e.key):function(i,c,h){const m=c.data.field(i),b=h.data.field(i);return null!==m&&null!==b?hv(m,b):rt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function uV(n,t){if(n.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sT(t)?"-0":t}}function dV(n){return{integerValue:""+n}}function hV(n,t){return QL(t)?dV(t):uV(n,t)}class fT{constructor(){this._=void 0}}function lj(n,t,e){return n instanceof gv?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(e,t):n instanceof pg?pV(n,t):n instanceof mg?mV(n,t):function(r,i){const c=fV(r,i),h=gV(c)+gV(r.C);return rO(c)&&rO(r.C)?dV(h):uV(r.N,h)}(n,t)}function cj(n,t,e){return n instanceof pg?pV(n,t):n instanceof mg?mV(n,t):e}function fV(n,t){return n instanceof _v?rO(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class gv extends fT{}class pg extends fT{constructor(t){super(),this.elements=t}}function pV(n,t){const e=_V(t);for(const r of n.elements)e.some(i=>Eu(i,r))||e.push(r);return{arrayValue:{values:e}}}class mg extends fT{constructor(t){super(),this.elements=t}}function mV(n,t){let e=_V(t);for(const r of n.elements)e=e.filter(i=>!Eu(i,r));return{arrayValue:{values:e}}}class _v extends fT{constructor(t,e){super(),this.N=t,this.C=e}}function gV(n){return ei(n.integerValue||n.doubleValue)}function _V(n){return iO(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lE{constructor(t,e){this.field=t,this.transform=e}}class dj{constructor(t,e){this.version=t,this.transformResults=e}}class ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class mT{}function hj(n,t,e){n instanceof cE?function(r,i,c){const h=r.value.clone(),m=wV(r.fieldTransforms,i,c.transformResults);h.setAll(m),i.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof op?function(r,i,c){if(!pT(r.precondition,i))return void i.convertToUnknownDocument(c.version);const h=wV(r.fieldTransforms,i,c.transformResults),m=i.data;m.setAll(bV(r)),m.setAll(h),i.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function cO(n,t,e){var i;n instanceof cE?function(r,i,c){if(!pT(r.precondition,i))return;const h=r.value.clone(),m=CV(r.fieldTransforms,c,i);h.setAll(m),i.convertToFoundDocument(vV(i),h).setHasLocalMutations()}(n,t,e):n instanceof op?function(r,i,c){if(!pT(r.precondition,i))return;const h=CV(r.fieldTransforms,c,i),m=i.data;m.setAll(bV(r)),m.setAll(h),i.convertToFoundDocument(vV(i),m).setHasLocalMutations()}(n,t,e):pT(n.precondition,i=t)&&i.convertToNoDocument(Pt.min())}function fj(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),c=fV(r.transform,i||null);null!=c&&(null==e&&(e=ks.empty()),e.set(r.field,c))}return e||null}function yV(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&cv(e,r,(i,c)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof pg&&r instanceof pg||e instanceof mg&&r instanceof mg?cv(e.elements,r.elements,Eu):e instanceof _v&&r instanceof _v?Eu(e.C,r.C):e instanceof gv&&r instanceof gv);var e,r}(i,c))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function vV(n){return n.isFoundDocument()?n.version:Pt.min()}class cE extends mT{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}}class op extends mT{constructor(t,e,r,i,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}}function bV(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function wV(n,t,e){const r=new Map;bt(n.length===e.length);for(let i=0;i<e.length;i++){const c=n[i],h=c.transform,m=t.data.field(c.field);r.set(c.field,cj(h,m,e[i]))}return r}function CV(n,t,e){const r=new Map;for(const i of n){const c=i.transform,h=e.data.field(i.field);r.set(i.field,lj(c,h,t))}return r}class uE extends mT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class uO extends mT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class pj{constructor(t){this.count=t}}var ni,on;function EV(n){switch(n){default:return rt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function DV(n){if(void 0===n)return Xr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ni.OK:return ge.OK;case ni.CANCELLED:return ge.CANCELLED;case ni.UNKNOWN:return ge.UNKNOWN;case ni.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ni.INTERNAL:return ge.INTERNAL;case ni.UNAVAILABLE:return ge.UNAVAILABLE;case ni.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ni.NOT_FOUND:return ge.NOT_FOUND;case ni.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ni.ABORTED:return ge.ABORTED;case ni.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ni.DATA_LOSS:return ge.DATA_LOSS;default:return rt()}}(on=ni||(ni={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class wi{constructor(t,e){this.comparator=t,this.root=e||ps.EMPTY}insert(t,e){return new wi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(t){return new wi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ps.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gT(this.root,t,this.comparator,!1)}getReverseIterator(){return new gT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gT(this.root,t,this.comparator,!0)}}class gT{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,i&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ps{constructor(t,e,r,i,c){this.key=t,this.value=e,this.color=null!=r?r:ps.RED,this.left=null!=i?i:ps.EMPTY,this.right=null!=c?c:ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,c){return new ps(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const c=r(t,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===c?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const t=this.left.check();if(t!==this.right.check())throw rt();return t+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1,ps.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,t,e,r,i){return this}insert(n,t,e){return new ps(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(t){this.comparator=t,this.data=new wi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new IV(this.data.getIterator())}getIteratorFrom(t){return new IV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Dr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Dr(this.comparator);return e.data=t,e}}class IV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const mj=new wi(et.comparator);function al(){return mj}const gj=new wi(et.comparator);function dO(){return gj}const _j=new wi(et.comparator);function SV(){return _j}const yj=new Dr(et.comparator);function In(...n){let t=yj;for(const e of n)t=t.add(e);return t}const vj=new Dr(Xt);function _T(){return vj}class dE{constructor(t,e,r,i,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,hE.createSynthesizedTargetChangeForCurrentChange(t,e)),new dE(Pt.min(),r,_T(),al(),In())}}class hE{constructor(t,e,r,i,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e){return new hE($i.EMPTY_BYTE_STRING,e,In(),In(),In())}}class yT{constructor(t,e,r,i){this.k=t,this.removedTargetIds=e,this.key=r,this.$=i}}class TV{constructor(t,e){this.targetId=t,this.O=e}}class AV{constructor(t,e,r=$i.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class MV{constructor(){this.F=0,this.M=kV(),this.L=$i.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=In(),e=In(),r=In();return this.M.forEach((i,c)=>{switch(c){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new hE(this.L,this.B,t,e,r)}G(){this.U=!1,this.M=kV()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class bj{constructor(t){this.tt=t,this.et=new Map,this.nt=al(),this.st=xV(),this.it=new Dr(Xt)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const r=this.ut(e);switch(t.state){case 0:this.ht(e)&&r.j(t.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(t.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(e);break;case 3:this.ht(e)&&(r.Z(),r.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),r.j(t.resumeToken));break;default:rt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((r,i)=>{this.ht(i)&&e(i)})}ft(t){const e=t.targetId,r=t.O.count,i=this.dt(e);if(i){const c=i.target;if(cT(c))if(0===r){const h=new et(c.path);this.ct(e,h,or.newNoDocument(h,Pt.min()))}else bt(1===r);else this.wt(e)!==r&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((c,h)=>{const m=this.dt(h);if(m){if(c.current&&cT(m.target)){const b=new et(m.target.path);null!==this.nt.get(b)||this.gt(h,b)||this.ct(h,b,or.newNoDocument(b,t))}c.K&&(e.set(h,c.W()),c.G())}});let r=In();this.st.forEach((c,h)=>{let m=!0;h.forEachWhile(b=>{const E=this.dt(b);return!E||2===E.purpose||(m=!1,!1)}),m&&(r=r.add(c))});const i=new dE(t,e,this.it,this.nt,r);return this.nt=al(),this.st=xV(),this.it=new Dr(Xt),i}ot(t,e){if(!this.ht(t))return;const r=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,r),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,r){if(!this.ht(t))return;const i=this.ut(t);this.gt(t,e)?i.H(e,1):i.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),r&&(this.nt=this.nt.insert(e,r))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new MV,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Dr(Xt),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Ne("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new MV),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function xV(){return new wi(et.comparator)}function kV(){return new wi(et.comparator)}const wj={asc:"ASCENDING",desc:"DESCENDING"},Cj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ej{constructor(t,e){this.databaseId=t,this.D=e}}function fE(n,t){return n.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RV(n,t){return n.D?t.toBase64():t.toUint8Array()}function Dj(n,t){return fE(n,t.toTimestamp())}function Gi(n){return bt(!!n),Pt.fromTimestamp(function(t){const e=sp(t);return new Hi(e.seconds,e.nanos)}(n))}function hO(n,t){return(e=n,new gn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function OV(n){const t=gn.fromString(n);return bt(zV(t)),t}function pE(n,t){return hO(n.databaseId,t.path)}function Du(n,t){const e=OV(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new et(PV(e))}function fO(n,t){return hO(n.databaseId,t)}function NV(n){const t=OV(n);return 4===t.length?gn.emptyPath():PV(t)}function mE(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PV(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FV(n,t,e){return{name:pE(n,t),fields:e.value.mapValue.fields}}function LV(n,t,e){const r=Du(n,t.name),i=Gi(t.updateTime),c=new ks({mapValue:{fields:t.fields}}),h=or.newFoundDocument(r,i,c);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function vT(n,t){let e;if(t instanceof cE)e={update:FV(n,t.key,t.value)};else if(t instanceof uE)e={delete:pE(n,t.key)};else if(t instanceof op)e={update:FV(n,t.key,t.data),updateMask:Oj(t.fieldMask)};else{if(!(t instanceof uO))return rt();e={verify:pE(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,c){const h=c.transform;if(h instanceof gv)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pg)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof mg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof _v)return{fieldPath:c.field.canonicalString(),increment:h.C};throw rt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:Dj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),e;var i}function VV(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?ti.updateTime(Gi(i.updateTime)):void 0!==i.exists?ti.exists(i.exists):ti.none():ti.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(c,h){let m=null;"setToServerValue"in h?(bt("REQUEST_TIME"===h.setToServerValue),m=new gv):"appendMissingElements"in h?m=new pg(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new mg(h.removeAllFromArray.values||[]):"increment"in h?m=new _v(c,h.increment):rt();const b=fs.fromServerFormat(h.fieldPath);return new lE(b,m)}(n,i)):[];var i;if(t.update){const i=Du(n,t.update.name),c=new ks({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new uv((t.updateMask.fieldPaths||[]).map(E=>fs.fromServerFormat(E)));return new op(i,c,h,e,r)}return new cE(i,c,e,r)}if(t.delete){const i=Du(n,t.delete);return new uE(i,e)}if(t.verify){const i=Du(n,t.verify);return new uO(i,e)}return rt()}function BV(n,t){return{documents:[fO(n,t.path)]}}function UV(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=fO(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=fO(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const b=m.map(E=>function(T){if("=="===T.op){if(eV(T.value))return{unaryFilter:{field:yv(T.field),op:"IS_NAN"}};if(XL(T.value))return{unaryFilter:{field:yv(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(eV(T.value))return{unaryFilter:{field:yv(T.field),op:"IS_NOT_NAN"}};if(XL(T.value))return{unaryFilter:{field:yv(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yv(T.field),op:xj(T.op),value:T.value}}}(E));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);i&&(e.structuredQuery.where=i);const c=function(m){if(0!==m.length)return m.map(b=>{return{field:yv((E=b).field),direction:Mj(E.dir)};var E})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=(b=t.limit,n.D||hg(b)?b:{value:b});var b;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=$V(t.startAt)),t.endAt&&(e.structuredQuery.endAt=$V(t.endAt)),e}function jV(n){let t=NV(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){bt(1===r);const T=e.from[0];T.allDescendants?i=T.collectionId:t=t.child(T.collectionId)}let c=[];e.where&&(c=HV(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(T=>{return new fv(vv((R=T).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;e.limit&&(m=function(T){let R;return R="object"==typeof T?T.value:T,hg(R)?null:R}(e.limit));let b=null;e.startAt&&(b=GV(e.startAt));let E=null;return e.endAt&&(E=GV(e.endAt)),oV(t,i,h,c,m,"F",b,E)}function HV(n){return n?void 0!==n.unaryFilter?[Rj(n)]:void 0!==n.fieldFilter?[kj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>HV(t)).reduce((t,e)=>t.concat(e)):rt():[]}function $V(n){return{before:n.before,values:n.position}}function GV(n){return new sE(n.values||[],!!n.before)}function Mj(n){return wj[n]}function xj(n){return Cj[n]}function yv(n){return{fieldPath:n.canonicalString()}}function vv(n){return fs.fromServerFormat(n.fieldPath)}function kj(n){return Qs.create(vv(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Rj(n){switch(n.unaryFilter.op){case"IS_NAN":const t=vv(n.unaryFilter.field);return Qs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=vv(n.unaryFilter.field);return Qs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vv(n.unaryFilter.field);return Qs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vv(n.unaryFilter.field);return Qs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function Oj(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function zV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function uc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=qV(t)),t=Nj(n.get(e),t);return qV(t)}function Nj(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function qV(n){return n+"\x01\x01"}function Xd(n){const t=n.length;if(bt(t>=2),2===t)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const e=t-2,r=[];let i="";for(let c=0;c<t;){const h=n.indexOf("\x01",c);switch((h<0||h>e)&&rt(),n.charAt(h+1)){case"\x01":const m=n.substring(c,h);let b;0===i.length?b=m:(i+=m,b=i,i=""),r.push(b);break;case"\x10":i+=n.substring(c,h),i+="\0";break;case"\x11":i+=n.substring(c,h+1);break;default:rt()}c=h+2}return new gn(r)}class Pj{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class ma{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}ma.store="owner",ma.key="owner";class ap{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}ap.store="mutationQueues",ap.keyPath="userId";class Jn{constructor(t,e,r,i,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=c}}Jn.store="mutations",Jn.keyPath="batchId",Jn.userMutationsIndex="userMutationsIndex",Jn.userMutationsKeyPath=["userId","batchId"];class Rs{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,uc(e)]}static key(t,e,r){return[t,uc(e),r]}}Rs.store="documentMutations",Rs.PLACEHOLDER=new Rs;class Fj{constructor(t,e){this.path=t,this.readTime=e}}class Lj{constructor(t,e){this.path=t,this.version=e}}class Ir{constructor(t,e,r,i,c,h){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=i,this.readTime=c,this.parentPath=h}}Ir.store="remoteDocuments",Ir.readTimeIndex="readTimeIndex",Ir.readTimeIndexPath="readTime",Ir.collectionReadTimeIndex="collectionReadTimeIndex",Ir.collectionReadTimeIndexPath=["parentPath","readTime"];class Iu{constructor(t){this.byteSize=t}}Iu.store="remoteDocumentGlobal",Iu.key="remoteDocumentGlobalKey";class Mo{constructor(t,e,r,i,c,h,m){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Mo.store="targets",Mo.keyPath="targetId",Mo.queryTargetsIndexName="queryTargetsIndex",Mo.queryTargetsKeyPath=["canonicalId","targetId"];class ms{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}ms.store="targetDocuments",ms.keyPath=["targetId","path"],ms.documentTargetsIndex="documentTargetsIndex",ms.documentTargetsKeyPath=["path","targetId"];class ga{constructor(t,e,r,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ga.key="targetGlobalKey",ga.store="targetGlobal";class gg{constructor(t,e){this.collectionId=t,this.parent=e}}gg.store="collectionParents",gg.keyPath=["collectionId","parent"];class eh{constructor(t,e,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=i}}eh.store="clientMetadata",eh.keyPath="clientId";class bv{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}bv.store="bundles",bv.keyPath="bundleId";class wv{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}wv.store="namedQueries",wv.keyPath="name";const Vj=[ap.store,Jn.store,Rs.store,Ir.store,Mo.store,ma.store,ga.store,ms.store,eh.store,Iu.store,gg.store,bv.store,wv.store],ZV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ae((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ae?e:Ae.resolve(e)}catch(e){return Ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.reject(e)}static resolve(t){return new Ae((e,r)=>{e(t)})}static reject(t){return new Ae((e,r)=>{r(t)})}static waitFor(t){return new Ae((e,r)=>{let i=0,c=0,h=!1;t.forEach(m=>{++i,m.next(()=>{++c,h&&c===i&&e()},b=>r(b))}),h=!0,c===i&&e()})}static or(t){let e=Ae.resolve(!1);for(const r of t)e=e.next(i=>i?Ae.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,c)=>{r.push(e.call(this,i,c))}),this.waitFor(r)}}class bT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new ji,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new gE(t,e.error)):this.Et.resolve()},this.transaction.onerror=r=>{const i=pO(r.target.error);this.Et.reject(new gE(t,i))}}static open(t,e,r,i){try{return new bT(e,t.transaction(i,r))}catch(c){throw new gE(e,c)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new Uj(e)}}class dc{constructor(t,e,r){this.name=t,this.version=e,this.At=r,12.2===dc.Rt((0,$t.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ne("SimpleDb","Removing database:",t),yg(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,$t.hl)())return!1;if(dc.Pt())return!0;const t=(0,$t.z$)(),e=dc.Rt(t),r=0<e&&e<10,i=dc.vt(t),c=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||c)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(t){var e=this;return(0,me.Z)(function*(){return e.db||(Ne("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const c=indexedDB.open(e.name,e.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{i(new gE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const m=h.target.error;i("VersionError"===m.name?new ke(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new ke(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new gE(t,m))},c.onupgradeneeded=h=>{Ne("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.At.Ct(h.target.result,c.transaction,h.oldVersion,e.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=r=>e.Nt(r)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var c=this;return(0,me.Z)(function*(){const h="readonly"===e;let m=0;for(;;){++m;try{c.db=yield c.Dt(t);const b=bT.open(c.db,t,h?"readonly":"readwrite",r),E=i(b).catch(T=>(b.abort(T),Ae.reject(T))).toPromise();return E.catch(()=>{}),yield b.It,E}catch(b){const E="FirebaseError"!==b.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),c.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Bj{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return yg(this.kt.delete())}}class gE extends ke{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function _g(n){return"IndexedDbTransactionError"===n.name}class Uj{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Ne("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),yg(r)}add(t){return Ne("SimpleDb","ADD",this.store.name,t,t),yg(this.store.add(t))}get(t){return yg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ne("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ne("SimpleDb","DELETE",this.store.name,t),yg(this.store.delete(t))}count(){return Ne("SimpleDb","COUNT",this.store.name),yg(this.store.count())}Lt(t,e){const r=this.cursor(this.options(t,e)),i=[];return this.Bt(r,(c,h)=>{i.push(h)}).next(()=>i)}Ut(t,e){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.qt=!1;const i=this.cursor(r);return this.Bt(i,(c,h,m)=>m.delete())}Kt(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.Bt(i,e)}jt(t){const e=this.cursor({});return new Ae((r,i)=>{e.onerror=c=>{const h=pO(c.target.error);i(h)},e.onsuccess=c=>{const h=c.target.result;h?t(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Bt(t,e){const r=[];return new Ae((i,c)=>{t.onerror=h=>{c(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void i();const b=new Bj(m),E=e(m.primaryKey,m.value,b);if(E instanceof Ae){const T=E.catch(R=>(b.done(),Ae.reject(R)));r.push(T)}b.isDone?i():null===b.Ft?m.continue():m.continue(b.Ft)}}).next(()=>Ae.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.qt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function yg(n){return new Ae((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=pO(r.target.error);e(i)}})}let WV=!1;function pO(n){const t=dc.Rt((0,$t.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WV||(WV=!0,setTimeout(()=>{throw r},0)),r}}return n}class KV extends YV{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function xo(n,t){const e=Be(n);return dc.St(e.Qt,t)}class mO{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(t.key)&&hj(c,t,r[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&cO(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&cO(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),In())}isEqual(t){return this.batchId===t.batchId&&cv(this.mutations,t.mutations,(e,r)=>yV(e,r))&&cv(this.baseMutations,t.baseMutations,(e,r)=>yV(e,r))}}class gO{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){bt(t.mutations.length===r.length);let i=SV();const c=t.mutations;for(let h=0;h<c.length;h++)i=i.insert(c[h].key,r[h].version);return new gO(t,e,r,i)}}class lp{constructor(t,e,r,i,c=Pt.min(),h=Pt.min(),m=$i.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(t){return new lp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new lp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new lp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class QV{constructor(t){this.Wt=t}}function _O(n,t){if(t.document)return LV(n.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=et.fromSegments(t.noDocument.path),r=Ev(t.noDocument.readTime),i=or.newNoDocument(e,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){const e=et.fromSegments(t.unknownDocument.path),r=Ev(t.unknownDocument.version);return or.newUnknownDocument(e,r)}return rt()}function JV(n,t,e){const r=yO(e),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const c={name:pE(m=n.Wt,(b=t).key),fields:b.data.value.mapValue.fields,updateTime:fE(m,b.version.toTimestamp())};return new Ir(null,null,c,t.hasCommittedMutations,r,i)}var m,b;if(t.isNoDocument()){const c=t.key.path.toArray(),h=Cv(t.version),m=t.hasCommittedMutations;return new Ir(null,new Fj(c,h),null,m,r,i)}if(t.isUnknownDocument()){const c=t.key.path.toArray(),h=Cv(t.version);return new Ir(new Lj(c,h),null,null,!0,r,i)}return rt()}function yO(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function XV(n){const t=new Hi(n[0],n[1]);return Pt.fromTimestamp(t)}function Cv(n){const t=n.toTimestamp();return new Pj(t.seconds,t.nanoseconds)}function Ev(n){const t=new Hi(n.seconds,n.nanoseconds);return Pt.fromTimestamp(t)}function Dv(n,t){const e=(t.baseMutations||[]).map(c=>VV(n.Wt,c));for(let c=0;c<t.mutations.length-1;++c){const h=t.mutations[c];c+1<t.mutations.length&&void 0!==t.mutations[c+1].transform&&(h.updateTransforms=t.mutations[c+1].transform.fieldTransforms,t.mutations.splice(c+1,1),++c)}const r=t.mutations.map(c=>VV(n.Wt,c)),i=Hi.fromMillis(t.localWriteTimeMs);return new mO(t.batchId,i,e,r)}function _E(n){const t=Ev(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Ev(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(bt(1===(i=n.query).documents.length),r=ol(pv(NV(i.documents[0])))):r=ol(jV(n.query)),new lp(r,n.targetId,0,n.lastListenSequenceNumber,t,e,$i.fromBase64String(n.resumeToken))}function e2(n,t){const e=Cv(t.snapshotVersion),r=Cv(t.lastLimboFreeSnapshotVersion);let i;i=cT(t.target)?BV(n.Wt,t.target):UV(n.Wt,t.target);const c=t.resumeToken.toBase64();return new Mo(t.targetId,iE(t.target),e,c,t.sequenceNumber,r,i)}function vO(n){const t=jV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aV(t,t.limit,"L"):t}class jj{getBundleMetadata(t,e){return t2(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ev(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return t2(t).put({bundleId:(r=e).id,createTime:Cv(Gi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return n2(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:vO(i.bundledQuery),readTime:Ev(i.readTime)};var i})}saveNamedQuery(t,e){return n2(t).put({name:(r=e).name,readTime:Cv(Gi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function t2(n){return xo(n,bv.store)}function n2(n){return xo(n,wv.store)}class Hj{constructor(){this.Gt=new bO}addToCollectionParentIndex(t,e){return this.Gt.add(e),Ae.resolve()}getCollectionParents(t,e){return Ae.resolve(this.Gt.getEntries(e))}}class bO{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Dr(gn.comparator),c=!i.has(r);return this.index[e]=i.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Dr(gn.comparator)).toArray()}}class $j{constructor(){this.zt=new bO}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const c={collectionId:r,parent:uc(i)};return r2(t).put(c)}return Ae.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[ZL(e),""],!1,!0);return r2(t).Lt(i).next(c=>{for(const h of c){if(h.collectionId!==e)break;r.push(Xd(h.parent))}return r})}}function r2(n){return xo(n,gg.store)}const s2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new ko(t,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function o2(n,t,e){const r=n.store(Jn.store),i=n.store(Rs.store),c=[],h=IDBKeyRange.only(e.batchId);let m=0;const b=r.Kt({range:h},(T,R,U)=>(m++,U.delete()));c.push(b.next(()=>{bt(1===m)}));const E=[];for(const T of e.mutations){const R=Rs.key(t,T.key.path,e.batchId);c.push(i.delete(R)),E.push(T.key)}return Ae.waitFor(c).next(()=>E)}function wT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw rt();t=n.noDocument}return JSON.stringify(t).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class wO{constructor(t,e,r,i){this.userId=t,this.N=e,this.Ht=r,this.referenceDelegate=i,this.Jt={}}static Yt(t,e,r,i){bt(""!==t.uid);const c=t.isAuthenticated()?t.uid:"";return new wO(c,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cp(t).Kt({index:Jn.userMutationsIndex,range:r},(i,c,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const c=Iv(t),h=cp(t);return h.add({}).next(m=>{bt("number"==typeof m);const b=new mO(m,e,r,i),E=function(U,H,J){const fe=J.baseMutations.map(Ue=>vT(U.Wt,Ue)),Ie=J.mutations.map(Ue=>vT(U.Wt,Ue));return new Jn(H,J.batchId,J.localWriteTime.toMillis(),fe,Ie)}(this.N,this.userId,b),T=[];let R=new Dr((U,H)=>Xt(U.canonicalString(),H.canonicalString()));for(const U of i){const H=Rs.key(this.userId,U.key.path,m);R=R.add(U.key.path.popLast()),T.push(h.put(E)),T.push(c.put(H,Rs.PLACEHOLDER))}return R.forEach(U=>{T.push(this.Ht.addToCollectionParentIndex(t,U))}),t.addOnCommittedListener(()=>{this.Jt[m]=b.keys()}),Ae.waitFor(T).next(()=>b)})}lookupMutationBatch(t,e){return cp(t).get(e).next(r=>r?(bt(r.userId===this.userId),Dv(this.N,r)):null)}Xt(t,e){return this.Jt[e]?Ae.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.Jt[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return cp(t).Kt({index:Jn.userMutationsIndex,range:i},(h,m,b)=>{m.userId===this.userId&&(bt(m.batchId>=r),c=Dv(this.N,m)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cp(t).Kt({index:Jn.userMutationsIndex,range:e,reverse:!0},(i,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cp(t).Lt(Jn.userMutationsIndex,e).next(r=>r.map(i=>Dv(this.N,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Rs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),c=[];return Iv(t).Kt({range:i},(h,m,b)=>{const[E,T,R]=h,U=Xd(T);if(E===this.userId&&e.path.isEqual(U))return cp(t).get(R).next(H=>{if(!H)throw rt();bt(H.userId===this.userId),c.push(Dv(this.N,H))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Dr(Xt);const i=[];return e.forEach(c=>{const h=Rs.prefixForPath(this.userId,c.path),m=IDBKeyRange.lowerBound(h),b=Iv(t).Kt({range:m},(E,T,R)=>{const[U,H,J]=E,fe=Xd(H);U===this.userId&&c.path.isEqual(fe)?r=r.add(J):R.done()});i.push(b)}),Ae.waitFor(i).next(()=>this.Zt(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,c=Rs.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let m=new Dr(Xt);return Iv(t).Kt({range:h},(b,E,T)=>{const[R,U,H]=b,J=Xd(U);R===this.userId&&r.isPrefixOf(J)?J.length===i&&(m=m.add(H)):T.done()}).next(()=>this.Zt(t,m))}Zt(t,e){const r=[],i=[];return e.forEach(c=>{i.push(cp(t).get(c).next(h=>{if(null===h)throw rt();bt(h.userId===this.userId),r.push(Dv(this.N,h))}))}),Ae.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return o2(t.Qt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ae.resolve();const r=IDBKeyRange.lowerBound(Rs.prefixForUser(this.userId)),i=[];return Iv(t).Kt({range:r},(c,h,m)=>{if(c[0]===this.userId){const b=Xd(c[1]);i.push(b)}else m.done()}).next(()=>{bt(0===i.length)})})}containsKey(t,e){return a2(t,this.userId,e)}ee(t){return l2(t).get(this.userId).next(e=>e||new ap(this.userId,-1,""))}}function a2(n,t,e){const r=Rs.prefixForPath(t,e.path),i=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return Iv(n).Kt({range:c,qt:!0},(m,b,E)=>{const[T,R,U]=m;T===t&&R===i&&(h=!0),E.done()}).next(()=>h)}function cp(n){return xo(n,Jn.store)}function Iv(n){return xo(n,Rs.store)}function l2(n){return xo(n,ap.store)}class vg{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new vg(0)}static ie(){return new vg(-1)}}class Gj{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const r=new vg(e.highestTargetId);return e.highestTargetId=r.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(e=>Pt.fromTimestamp(new Hi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.re(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.oe(t,i)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(r=>(r.targetCount+=1,this.ae(e,r),this.oe(t,r))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Sv(t).delete(e.targetId)).next(()=>this.re(t)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.oe(t,r)))}removeTargets(t,e,r){let i=0;const c=[];return Sv(t).Kt((h,m)=>{const b=_E(m);b.sequenceNumber<=e&&null===r.get(b.targetId)&&(i++,c.push(this.removeTargetData(t,b)))}).next(()=>Ae.waitFor(c)).next(()=>i)}forEachTarget(t,e){return Sv(t).Kt((r,i)=>{const c=_E(i);e(c)})}re(t){return c2(t).get(ga.key).next(e=>(bt(null!==e),e))}oe(t,e){return c2(t).put(ga.key,e)}ce(t,e){return Sv(t).put(e2(this.N,e))}ae(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.re(t).next(e=>e.targetCount)}getTargetData(t,e){const r=iE(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Sv(t).Kt({range:i,index:Mo.queryTargetsIndexName},(h,m,b)=>{const E=_E(m);lT(e,E.target)&&(c=E,b.done())}).next(()=>c)}addMatchingKeys(t,e,r){const i=[],c=up(t);return e.forEach(h=>{const m=uc(h.path);i.push(c.put(new ms(r,m))),i.push(this.referenceDelegate.addReference(t,r,h))}),Ae.waitFor(i)}removeMatchingKeys(t,e,r){const i=up(t);return Ae.forEach(e,c=>{const h=uc(c.path);return Ae.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(t,r,c)])})}removeMatchingKeysForTargetId(t,e){const r=up(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=up(t);let c=In();return i.Kt({range:r,qt:!0},(h,m,b)=>{const E=Xd(h[1]),T=new et(E);c=c.add(T)}).next(()=>c)}containsKey(t,e){const r=uc(e.path),i=IDBKeyRange.bound([r],[ZL(r)],!1,!0);let c=0;return up(t).Kt({index:ms.documentTargetsIndex,qt:!0,range:i},([h,m],b,E)=>{0!==h&&(c++,E.done())}).next(()=>c>0)}Tt(t,e){return Sv(t).get(e).next(r=>r?_E(r):null)}}function Sv(n){return xo(n,Mo.store)}function c2(n){return xo(n,ga.store)}function up(n){return xo(n,ms.store)}function bg(n){return CO.apply(this,arguments)}function CO(){return(CO=(0,me.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==ZV)throw n;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function u2([n,t],[e,r]){const i=Xt(n,e);return 0===i?Xt(t,r):i}class zj{constructor(t){this.ue=t,this.buffer=new Dr(u2),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();u2(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class qj{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const r=this.de?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(i){_g(i)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield bg(i)}yield e._e(t)}))}}class Zj{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Ae.resolve(pa.T);const r=new zj(e);return this.me.forEachTarget(t,i=>r.fe(i.sequenceNumber)).next(()=>this.me.ye(t,i=>r.fe(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.me.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(s2)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s2):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let r,i,c,h,m,b,E;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,h=Date.now(),this.nthSequenceNumber(t,i))).next(R=>(r=R,m=Date.now(),this.removeTargets(t,r,e))).next(R=>(c=R,b=Date.now(),this.removeOrphanedDocuments(t,r))).next(R=>(E=Date.now(),JR()<=gu.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-T}ms\n\tDetermined least recently used ${i} in `+(m-h)+`ms\n\tRemoved ${c} targets in `+(b-m)+`ms\n\tRemoved ${R} documents in `+(E-b)+`ms\nTotal Duration: ${E-T}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:R})))}}class Yj{constructor(t,e){this.db=t,this.garbageCollector=new Zj(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}Te(t){let e=0;return this.ye(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(r,i)=>e(i))}addReference(t,e,r){return CT(t,r)}removeReference(t,e,r){return CT(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return CT(t,e)}Ie(t,e){return function(r,i){let c=!1;return l2(r).jt(h=>a2(r,h,i).next(m=>(m&&(c=!0),Ae.resolve(!m)))).next(()=>c)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Ee(t,(h,m)=>{if(m<=e){const b=this.Ie(t,h).next(E=>{if(!E)return c++,r.getEntry(t,h).next(()=>(r.removeEntry(h),up(t).delete([0,uc(h.path)])))});i.push(b)}}).next(()=>Ae.waitFor(i)).next(()=>r.apply(t)).next(()=>c)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return CT(t,e)}Ee(t,e){const r=up(t);let i,c=pa.T;return r.Kt({index:ms.documentTargetsIndex},([h,m],{path:b,sequenceNumber:E})=>{0===h?(c!==pa.T&&e(new et(Xd(i)),c),c=E,i=b):c=pa.T}).next(()=>{c!==pa.T&&e(new et(Xd(i)),c)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function CT(n,t){return up(n).put((r=n.currentSequenceNumber,new ms(0,uc(t.path),r)));var r}class Tv{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0!==i){for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],t))return void(i[c]=[t,e]);i.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),!0;return!1}forEach(t){dg(this.inner,(e,r)=>{for(const[i,c]of r)t(i,c)})}isEmpty(){return WL(this.inner)}}class d2{constructor(){this.changes=new Tv(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Pt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:or.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Ae.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Wj{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,r){return dp(t).put(ET(e),r)}removeEntry(t,e){const r=dp(t),i=ET(e);return r.delete(i)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Ae(t,r)))}getEntry(t,e){return dp(t).get(ET(e)).next(r=>this.Re(e,r))}be(t,e){return dp(t).get(ET(e)).next(r=>({document:this.Re(e,r),size:wT(r)}))}getEntries(t,e){let r=al();return this.Pe(t,e,(i,c)=>{const h=this.Re(i,c);r=r.insert(i,h)}).next(()=>r)}ve(t,e){let r=al(),i=new wi(et.comparator);return this.Pe(t,e,(c,h)=>{const m=this.Re(c,h);r=r.insert(c,m),i=i.insert(c,wT(h))}).next(()=>({documents:r,Ve:i}))}Pe(t,e,r){if(e.isEmpty())return Ae.resolve();const i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator();let h=c.getNext();return dp(t).Kt({range:i},(m,b,E)=>{const T=et.fromSegments(m);for(;h&&et.comparator(h,T)<0;)r(h,null),h=c.getNext();h&&h.isEqual(T)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?E.Mt(h.path.toArray()):E.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,r){let i=al();const c=e.path.length+1,h={};if(r.isEqual(Pt.min())){const m=e.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=e.path.toArray(),b=yO(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=Ir.collectionReadTimeIndex}return dp(t).Kt(h,(m,b,E)=>{if(m.length!==c)return;const T=_O(this.N,b);e.path.isPrefixOf(T.key.path)?aE(e,T)&&(i=i.insert(T.key,T)):E.done()}).next(()=>i)}newChangeBuffer(t){return new Kj(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return h2(t).get(Iu.key).next(e=>(bt(!!e),e))}Ae(t,e){return h2(t).put(Iu.key,e)}Re(t,e){if(e){const r=_O(this.N,e);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return or.newInvalidDocument(t)}}class Kj extends d2{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Tv(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Dr((c,h)=>Xt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const m=this.De.get(c);if(h.document.isValidDocument()){const b=JV(this.Se.N,h.document,this.getReadTime(c));i=i.add(c.path.popLast()),r+=wT(b)-m,e.push(this.Se.addEntry(t,c,b))}else if(r-=m,this.trackRemovals){const b=JV(this.Se.N,or.newNoDocument(c,Pt.min()),this.getReadTime(c));e.push(this.Se.addEntry(t,c,b))}else e.push(this.Se.removeEntry(t,c))}),i.forEach(c=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,c))}),e.push(this.Se.updateMetadata(t,r)),Ae.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(r=>(this.De.set(e,r.size),r.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:r,Ve:i})=>(i.forEach((c,h)=>{this.De.set(c,h)}),r))}}function h2(n){return xo(n,Iu.store)}function dp(n){return xo(n,Ir.store)}function ET(n){return n.path.toArray()}class Qj{constructor(t){this.N=t}Ct(t,e,r,i){bt(r<i&&r>=0&&i<=11);const c=new bT("createOrUpgrade",e);var m;r<1&&i>=1&&(t.createObjectStore(ma.store),(m=t).createObjectStore(ap.store,{keyPath:ap.keyPath}),m.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Rs.store),f2(t),function(m){m.createObjectStore(Ir.store)}(t));let h=Ae.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore(ms.store),m.deleteObjectStore(Mo.store),m.deleteObjectStore(ga.store)}(t),f2(t)),h=h.next(()=>function(m){const b=m.store(ga.store),E=new ga(0,0,Pt.min().toTimestamp(),0);return b.put(ga.key,E)}(c))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(Jn.store).Lt().next(E=>{m.deleteObjectStore(Jn.store),m.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0});const T=b.store(Jn.store),R=E.map(U=>T.put(U));return Ae.waitFor(R)})}(t,c))),h=h.next(()=>{!function(m){m.createObjectStore(eh.store,{keyPath:eh.keyPath})}(t)})),r<5&&i>=5&&(h=h.next(()=>this.Ce(c))),r<6&&i>=6&&(h=h.next(()=>(function(m){m.createObjectStore(Iu.store)}(t),this.Ne(c)))),r<7&&i>=7&&(h=h.next(()=>this.xe(c))),r<8&&i>=8&&(h=h.next(()=>this.ke(t,c))),r<9&&i>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t),function(m){const b=m.objectStore(Ir.store);b.createIndex(Ir.readTimeIndex,Ir.readTimeIndexPath,{unique:!1}),b.createIndex(Ir.collectionReadTimeIndex,Ir.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&i>=10&&(h=h.next(()=>this.$e(c))),r<11&&i>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(bv.store,{keyPath:bv.keyPath})})(t),function(m){m.createObjectStore(wv.store,{keyPath:wv.keyPath})}(t)})),h}Ne(t){let e=0;return t.store(Ir.store).Kt((r,i)=>{e+=wT(i)}).next(()=>{const r=new Iu(e);return t.store(Iu.store).put(Iu.key,r)})}Ce(t){const e=t.store(ap.store),r=t.store(Jn.store);return e.Lt().next(i=>Ae.forEach(i,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(Jn.userMutationsIndex,h).next(m=>Ae.forEach(m,b=>{bt(b.userId===c.userId);const E=Dv(this.N,b);return o2(t,c.userId,E).next(()=>{})}))}))}xe(t){const e=t.store(ms.store),r=t.store(Ir.store);return t.store(ga.store).get(ga.key).next(i=>{const c=[];return r.Kt((h,m)=>{const b=new gn(h),E=[0,uc(b)];c.push(e.get(E).next(T=>T?Ae.resolve():e.put(new ms(0,uc(b),i.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(c))})}ke(t,e){t.createObjectStore(gg.store,{keyPath:gg.keyPath});const r=e.store(gg.store),i=new bO,c=h=>{if(i.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:uc(b)})}};return e.store(Ir.store).Kt({qt:!0},(h,m)=>{const b=new gn(h);return c(b.popLast())}).next(()=>e.store(Rs.store).Kt({qt:!0},([h,m,b],E)=>{const T=Xd(m);return c(T.popLast())}))}$e(t){const e=t.store(Mo.store);return e.Kt((r,i)=>{const c=_E(i),h=e2(this.N,c);return e.put(h)})}}function f2(n){n.createObjectStore(ms.store,{keyPath:ms.keyPath}).createIndex(ms.documentTargetsIndex,ms.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Mo.store,{keyPath:Mo.keyPath}).createIndex(Mo.queryTargetsIndexName,Mo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ga.store)}const EO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DO{constructor(t,e,r,i,c,h,m,b,E,T){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=c,this.window=h,this.document=m,this.Fe=E,this.Me=T,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=R=>Promise.resolve(),!DO.bt())throw new ke(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yj(this,i),this.We=e+"main",this.N=new QV(b),this.Ge=new dc(this.We,11,new Qj(this.N)),this.ze=new Gj(this.referenceDelegate,this.N),this.Ht=new $j,this.He=new Wj(this.N,this.Ht),this.Je=new jj,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===T&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ge.FAILED_PRECONDITION,EO);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new pa(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var r=(0,me.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,me.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,me.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>DT(t).put(new eh(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(_g(t))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return yE(t).get(ma.key).next(e=>Ae.resolve(this.an(e)))}un(t){return DT(t).delete(this.clientId)}hn(){var t=this;return(0,me.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=xo(r,eh.store);return i.Lt().next(c=>{const h=t.fn(c,18e5),m=c.filter(b=>-1===h.indexOf(b));return Ae.forEach(m,b=>i.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(t.Ye)for(const r of e)t.Ye.removeItem(t.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Ae.resolve(!0):yE(t).get(ma.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new ke(ge.FAILED_PRECONDITION,EO);return!1}}return!(!this.networkEnabled||!this.inForeground)||DT(t).Lt().next(r=>void 0===this.fn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ne("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,me.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[ma.store,eh.store],e=>{const r=new KV(e,pa.T);return t.on(r).next(()=>t.un(r))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(r=>this.ln(r.updateTimeMs,e)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>DT(t).Lt().next(e=>this.fn(e,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(t){return wO.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,r){let c;return Ne("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Vj,h=>(c=new KV(h,this.Le?this.Le.next():pa.T),"readwrite-primary"===e?this.sn(c).next(m=>!!m||this.rn(c)).next(m=>{if(!m)throw Xr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ke(ge.FAILED_PRECONDITION,ZV);return r(c)}).next(m=>this.cn(c).next(()=>m)):this.Tn(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Tn(t){return yE(t).get(ma.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(ge.FAILED_PRECONDITION,EO)})}cn(t){const e=new ma(this.clientId,this.allowTabSynchronization,Date.now());return yE(t).put(ma.key,e)}static bt(){return dc.bt()}on(t){const e=yE(t);return e.get(ma.key).next(r=>this.an(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),e.delete(ma.key)):Ae.resolve())}ln(t,e){const r=Date.now();return!(t<r-e||t>r&&(Xr(`Detected an update time that is in the future: ${t} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,$t.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const r=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Ne("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){Xr("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function yE(n){return xo(n,ma.store)}function DT(n){return xo(n,eh.store)}function IO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Jj{constructor(t,e){this.progress=t,this.En=e}}class p2{constructor(t,e,r){this.He=t,this.In=e,this.Ht=r}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Rn(t,e,r))}Rn(t,e,r){return this.He.getEntry(t,e).next(i=>{for(const c of r)c.applyToLocalView(i);return i})}bn(t,e){t.forEach((r,i)=>{for(const c of e)c.applyToLocalView(i)})}Pn(t,e){return this.He.getEntries(t,e).next(r=>this.vn(t,r).next(()=>r))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return et.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(t,e.path):aO(e)?this.Sn(t,e,r):this.Dn(t,e,r);var i}Vn(t,e){return this.An(t,new et(e)).next(r=>{let i=dO();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(t,e,r){const i=e.collectionGroup;let c=dO();return this.Ht.getCollectionParents(t,i).next(h=>Ae.forEach(h,m=>{const b=(E=e,T=m.child(i),new Jd(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,T;return this.Dn(t,b,r).next(E=>{E.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}Dn(t,e,r){let i,c;return this.He.getDocumentsMatchingQuery(t,e,r).next(h=>(i=h,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(c=h,this.Cn(t,c,i).next(m=>{i=m;for(const b of c)for(const E of b.mutations){const T=E.key;let R=i.get(T);null==R&&(R=or.newInvalidDocument(T),i=i.insert(T,R)),cO(E,R,b.localWriteTime),R.isFoundDocument()||(i=i.remove(T))}}))).next(()=>(i.forEach((h,m)=>{aE(e,m)||(i=i.remove(h))}),i))}Cn(t,e,r){let i=In();for(const h of e)for(const m of h.mutations)m instanceof op&&null===r.get(m.key)&&(i=i.add(m.key));let c=r;return this.He.getEntries(t,i).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(c=c.insert(m,b))}),c))}}class SO{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Nn=r,this.xn=i}static kn(t,e){let r=In(),i=In();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new SO(t,e.fromCache,r,i)}}class m2{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,r,i){return 0===(c=e).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.Fn(t,e):this.On.Pn(t,i).next(c=>{const h=this.Mn(e,c);return(dT(e)||hT(e))&&this.Ln(e.limitType,h,i,r)?this.Fn(t,e):(JR()<=gu.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lO(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var c}Mn(t,e){let r=new Dr(cV(t));return e.forEach((i,c)=>{aE(t,c)&&(r=r.add(c))}),r}Ln(t,e,r,i){if(r.size!==e.size)return!0;const c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Fn(t,e){return JR()<=gu.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",lO(e)),this.On.getDocumentsMatchingQuery(t,e,Pt.min())}}class Xj{constructor(t,e,r,i){this.persistence=t,this.Bn=e,this.N=i,this.Un=new wi(Xt),this.qn=new Tv(c=>iE(c),lT),this.Kn=Pt.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new p2(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function g2(n,t,e,r){return new Xj(n,t,e,r)}function _2(n,t){return TO.apply(this,arguments)}function TO(){return(TO=(0,me.Z)(function*(n,t){const e=Be(n);let r=e.In,i=e.Qn;const c=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let m;return e.In.getAllMutationBatches(h).next(b=>(m=b,r=e.persistence.getMutationQueue(t),i=new p2(e.jn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const E=[],T=[];let R=In();for(const U of m){E.push(U.batchId);for(const H of U.mutations)R=R.add(H.key)}for(const U of b){T.push(U.batchId);for(const H of U.mutations)R=R.add(H.key)}return i.Pn(h,R).next(U=>({Wn:U,removedBatchIds:E,addedBatchIds:T}))})});return e.In=r,e.Qn=i,e.Bn.$n(e.Qn),c})).apply(this,arguments)}function eH(n,t){const e=Be(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),c=e.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,E){const T=b.batch,R=T.keys();let U=Ae.resolve();return R.forEach(H=>{U=U.next(()=>E.getEntry(m,H)).next(J=>{const fe=b.docVersions.get(H);bt(null!==fe),J.version.compareTo(fe)<0&&(T.applyToRemoteDocument(J,b),J.isValidDocument()&&E.addEntry(J,b.commitVersion))})}),U.next(()=>h.In.removeMutationBatch(m,T))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.In.performConsistencyCheck(r)).next(()=>e.Qn.Pn(r,i))})}function y2(n){const t=Be(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function tH(n,t){const e=Be(n),r=t.snapshotVersion;let i=e.Un;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=e.jn.newChangeBuffer({trackRemovals:!0});i=e.Un;const m=[];t.targetChanges.forEach((E,T)=>{const R=i.get(T);if(!R)return;m.push(e.ze.removeMatchingKeys(c,E.removedDocuments,T).next(()=>e.ze.addMatchingKeys(c,E.addedDocuments,T)));const U=E.resumeToken;if(U.approximateByteSize()>0){const H=R.withResumeToken(U,r).withSequenceNumber(c.currentSequenceNumber);i=i.insert(T,H),J=R,Ie=E,bt((fe=H).resumeToken.approximateByteSize()>0),(0===J.resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&m.push(e.ze.updateTargetData(c,H))}var J,fe,Ie});let b=al();if(t.documentUpdates.forEach((E,T)=>{t.resolvedLimboDocuments.has(E)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(v2(c,h,t.documentUpdates,r,void 0).next(E=>{b=E})),!r.isEqual(Pt.min())){const E=e.ze.getLastRemoteSnapshotVersion(c).next(T=>e.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(E)}return Ae.waitFor(m).next(()=>h.apply(c)).next(()=>e.Qn.vn(c,b)).next(()=>b)}).then(c=>(e.Un=i,c))}function v2(n,t,e,r,i){let c=In();return e.forEach(h=>c=c.add(h)),t.getEntries(n,c).next(h=>{let m=al();return e.forEach((b,E)=>{const T=h.get(b),R=(null==i?void 0:i.get(b))||r;E.isNoDocument()&&E.version.isEqual(Pt.min())?(t.removeEntry(b,R),m=m.insert(b,E)):!T.isValidDocument()||E.version.compareTo(T.version)>0||0===E.version.compareTo(T.version)&&T.hasPendingWrites?(t.addEntry(E,R),m=m.insert(b,E)):Ne("LocalStore","Ignoring outdated watch update for ",b,". Current version:",T.version," Watch version:",E.version)}),m})}function nH(n,t){const e=Be(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.In.getNextMutationBatchAfterBatchId(r,t)))}function Av(n,t){const e=Be(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.ze.getTargetData(r,t).next(c=>c?(i=c,Ae.resolve(i)):e.ze.allocateTargetId(r).next(h=>(i=new lp(t,h,0,r.currentSequenceNumber),e.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Un=e.Un.insert(r.targetId,r),e.qn.set(t,r.targetId)),r})}function Mv(n,t,e){return AO.apply(this,arguments)}function AO(){return(AO=(0,me.Z)(function*(n,t,e){const r=Be(n),i=r.Un.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!_g(h))throw h;Ne("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function IT(n,t,e){const r=Be(n);let i=Pt.min(),c=In();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,E){const T=Be(m),R=T.qn.get(E);return void 0!==R?Ae.resolve(T.Un.get(R)):T.ze.getTargetData(b,E)}(r,h,ol(t)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,m.targetId).next(b=>{c=b})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,t,e?i:Pt.min(),e?c:In())).next(m=>({documents:m,Gn:c})))}function b2(n,t){const e=Be(n),r=Be(e.ze),i=e.Un.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,t).next(h=>h?h.target:null))}function w2(n){const t=Be(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,i,c){const h=Be(r);let m=al(),b=yO(c);const E=dp(i),T=IDBKeyRange.lowerBound(b,!0);return E.Kt({index:Ir.readTimeIndex,range:T},(R,U)=>{const H=_O(h.N,U);m=m.insert(H.key,H),b=U.readTime}).next(()=>({En:m,readTime:XV(b)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:r})=>(t.Kn=r,e))}function MO(){return(MO=(0,me.Z)(function*(n){const t=Be(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const i=dp(r);let c=Pt.min();return i.Kt({index:Ir.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(c=XV(m.readTime)),b.done()}).next(()=>c)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function xO(){return(xO=(0,me.Z)(function*(n,t,e,r){const i=Be(n);let c=In(),h=al(),m=SV();for(const T of e){const R=t.zn(T.metadata.name);T.document&&(c=c.add(R)),h=h.insert(R,t.Hn(T)),m=m.insert(R,t.Jn(T.metadata.readTime))}const b=i.jn.newChangeBuffer({trackRemovals:!0}),E=yield Av(i,(T=r,ol(pv(gn.fromString(`__bundle__/docs/${T}`)))));var T;return i.persistence.runTransaction("Apply bundle documents","readwrite",T=>v2(T,b,h,Pt.min(),m).next(R=>(b.apply(T),R)).next(R=>i.ze.removeMatchingKeysForTargetId(T,E.targetId).next(()=>i.ze.addMatchingKeys(T,c,E.targetId)).next(()=>i.Qn.vn(T,R)).next(()=>R)))})).apply(this,arguments)}function sH(n,t){return kO.apply(this,arguments)}function kO(){return(kO=(0,me.Z)(function*(n,t,e=In()){const r=yield Av(n,ol(vO(t.bundledQuery))),i=Be(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const h=Gi(t.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Je.saveNamedQuery(c,t);const m=r.withResumeToken($i.EMPTY_BYTE_STRING,h);return i.Un=i.Un.insert(m.targetId,m),i.ze.updateTargetData(c,m).next(()=>i.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.ze.addMatchingKeys(c,e,r.targetId)).next(()=>i.Je.saveNamedQuery(c,t))})})).apply(this,arguments)}class oH{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Ae.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var r;return this.Yn.set(e.id,{id:(r=e).id,version:r.version,createTime:Gi(r.createTime)}),Ae.resolve()}getNamedQuery(t,e){return Ae.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(r=e).name,query:vO(r.bundledQuery),readTime:Gi(r.readTime)}),Ae.resolve();var r}}class RO{constructor(){this.Zn=new Dr(zi.ts),this.es=new Dr(zi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const r=new zi(t,e);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.rs(new zi(t,e))}os(t,e){t.forEach(r=>this.removeReference(r,e))}cs(t){const e=new et(new gn([])),r=new zi(e,t),i=new zi(e,t+1),c=[];return this.es.forEachInRange([r,i],h=>{this.rs(h),c.push(h.key)}),c}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new et(new gn([])),r=new zi(e,t),i=new zi(e,t+1);let c=In();return this.es.forEachInRange([r,i],h=>{c=c.add(h.key)}),c}containsKey(t){const e=new zi(t,0),r=this.Zn.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class zi{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return et.comparator(t.key,e.key)||Xt(t.ls,e.ls)}static ns(t,e){return Xt(t.ls,e.ls)||et.comparator(t.key,e.key)}}class aH{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Dr(zi.ts)}checkEmpty(t){return Ae.resolve(0===this.In.length)}addMutationBatch(t,e,r,i){const c=this.fs;this.fs++;const h=new mO(c,e,r,i);this.In.push(h);for(const m of i)this.ds=this.ds.add(new zi(m.key,c)),this.Ht.addToCollectionParentIndex(t,m.key.path.popLast());return Ae.resolve(h)}lookupMutationBatch(t,e){return Ae.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const i=this._s(e+1),c=i<0?0:i;return Ae.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new zi(e,0),i=new zi(e,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,i],h=>{const m=this.ws(h.ls);c.push(m)}),Ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Dr(Xt);return e.forEach(i=>{const c=new zi(i,0),h=new zi(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,h],m=>{r=r.add(m.ls)})}),Ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let c=r;et.isDocumentKey(c)||(c=c.child(""));const h=new zi(new et(c),0);let m=new Dr(Xt);return this.ds.forEachWhile(b=>{const E=b.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(m=m.add(b.ls)),!0)},h),Ae.resolve(this.gs(m))}gs(t){const e=[];return t.forEach(r=>{const i=this.ws(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){bt(0===this.ys(e.batchId,"removed")),this.In.shift();let r=this.ds;return Ae.forEach(e.mutations,i=>{const c=new zi(i.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=r})}te(t){}containsKey(t,e){const r=new zi(e,0),i=this.ds.firstAfterOrEqual(r);return Ae.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return Ae.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class lH{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new wi(et.comparator),this.size=0}addEntry(t,e,r){const i=e.key,c=this.docs.get(i),h=c?c.size:0,m=this.ps(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:m,readTime:r}),this.size+=m-h,this.Ht.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Ae.resolve(r?r.document.clone():or.newInvalidDocument(e))}getEntries(t,e){let r=al();return e.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.clone():or.newInvalidDocument(i))}),Ae.resolve(r)}getDocumentsMatchingQuery(t,e,r){let i=al();const c=new et(e.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:m,value:{document:b,readTime:E}}=h.getNext();if(!e.path.isPrefixOf(m.path))break;E.compareTo(r)<=0||aE(e,b)&&(i=i.insert(b.key,b.clone()))}return Ae.resolve(i)}Ts(t,e){return Ae.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new cH(this)}getSize(t){return Ae.resolve(this.size)}}class cH extends d2{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?e.push(this.Se.addEntry(t,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Ae.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class uH{constructor(t){this.persistence=t,this.Es=new Tv(e=>iE(e),lT),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Is=0,this.As=new RO,this.targetCount=0,this.Rs=vg.se()}forEachTarget(t,e){return this.Es.forEach((r,i)=>e(i)),Ae.resolve()}getLastRemoteSnapshotVersion(t){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ae.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Is&&(this.Is=e),Ae.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new vg(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Ae.resolve()}updateTargetData(t,e){return this.ce(e),Ae.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(t,e,r){let i=0;const c=[];return this.Es.forEach((h,m)=>{m.sequenceNumber<=e&&null===r.get(m.targetId)&&(this.Es.delete(h),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),i++)}),Ae.waitFor(c).next(()=>i)}getTargetCount(t){return Ae.resolve(this.targetCount)}getTargetData(t,e){const r=this.Es.get(e)||null;return Ae.resolve(r)}addMatchingKeys(t,e,r){return this.As.ss(e,r),Ae.resolve()}removeMatchingKeys(t,e,r){this.As.os(e,r);const i=this.persistence.referenceDelegate,c=[];return i&&e.forEach(h=>{c.push(i.markPotentiallyOrphaned(t,h))}),Ae.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Ae.resolve()}getMatchingKeysForTargetId(t,e){const r=this.As.hs(e);return Ae.resolve(r)}containsKey(t,e){return Ae.resolve(this.As.containsKey(e))}}class dH{constructor(t,e){this.bs={},this.Le=new pa(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new uH(this),this.Ht=new Hj,this.He=new lH(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new QV(e),this.Je=new oH(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new aH(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,r){Ne("MemoryPersistence","Starting transaction:",t);const i=new hH(this.Le.next());return this.referenceDelegate.vs(),r(i).next(c=>this.referenceDelegate.Vs(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Ss(t,e){return Ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class hH extends YV{constructor(t){super(),this.currentSequenceNumber=t}}class OO{constructor(t){this.persistence=t,this.Ds=new RO,this.Cs=null}static Ns(t){return new OO(t)}get xs(){if(this.Cs)return this.Cs;throw rt()}addReference(t,e,r){return this.Ds.addReference(r,e),this.xs.delete(r.toString()),Ae.resolve()}removeReference(t,e,r){return this.Ds.removeReference(r,e),this.xs.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Ae.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,r=>{const i=et.fromPath(r);return this.ks(t,i).next(c=>{c||e.removeEntry(i)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function C2(n,t){return`firestore_clients_${n}_${t}`}function E2(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function NO(n,t){return`firestore_targets_${n}_${t}`}class ST{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static $s(t,e,r){const i=JSON.parse(r);let c,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(c=new ke(i.error.code,i.error.message))),h?new ST(t,e,i.state,c):(Xr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vE{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static $s(t,e){const r=JSON.parse(e);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new ke(r.error.code,r.error.message))),c?new vE(t,r.state,i):(Xr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=_T();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=QL(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return i?new TT(t,c):(Xr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class PO{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new PO(e.clientId,e.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class FO{constructor(){this.activeTargetIds=_T()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LO{constructor(t,e,r,i,c){this.window=t,this.Oe=e,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new wi(Xt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=C2(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new FO),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,me.Z)(function*(){const e=yield t.syncEngine.pn();for(const i of e){if(i===t.Ls)continue;const c=t.getItem(C2(t.persistenceKey,i));if(c){const h=TT.$s(i,c);h&&(t.qs=t.qs.insert(h.clientId,h))}}t.Ys();const r=t.storage.getItem(t.Hs);if(r){const i=t.Xs(r);i&&t.Zs(i)}for(const i of t.Ks)t.Us(i);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,r){this.ei(t,e,r),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(NO(this.persistenceKey,t));if(r){const i=vE.$s(t,r);i&&(e=i.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(NO(this.persistenceKey,t))}updateQueryState(t,e,r){this.ii(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.ni(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ne("SharedClientState","READ",t,e),e}setItem(t,e){Ne("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(e.started){if(null!==r.key)if(e.Ws.test(r.key)){if(null==r.newValue){const i=e.ci(r.key);return e.ai(i,null)}{const i=e.ui(r.key,r.newValue);if(i)return e.ai(i.clientId,i)}}else if(e.Gs.test(r.key)){if(null!==r.newValue){const i=e.hi(r.key,r.newValue);if(i)return e.li(i)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const i=e.fi(r.key,r.newValue);if(i)return e.di(i)}}else if(r.key===e.Hs){if(null!==r.newValue){const i=e.Xs(r.newValue);if(i)return e.Zs(i)}}else if(r.key===e.Qs){const i=function(c){let h=pa.T;if(null!=c)try{const m=JSON.parse(c);bt("number"==typeof m),h=m}catch(m){Xr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);i!==pa.T&&e.sequenceNumberHandler(i)}else if(r.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,r){const i=new ST(this.currentUser,t,e,r),c=E2(this.persistenceKey,this.currentUser,t);this.setItem(c,i.Os())}ni(t){const e=E2(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,r){const i=NO(this.persistenceKey,t),c=new vE(t,e,r);this.setItem(i,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const r=this.ci(t);return TT.$s(r,e)}hi(t,e){const r=this.Gs.exec(t),i=Number(r[1]);return ST.$s(new hs(void 0!==r[2]?r[2]:null),i,e)}fi(t,e){const r=this.zs.exec(t),i=Number(r[1]);return vE.$s(i,e)}Xs(t){return PO.$s(t)}li(t){var e=this;return(0,me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.ti(this.qs),c=this.ti(r),h=[],m=[];return c.forEach(b=>{i.has(b)||h.push(b)}),i.forEach(b=>{c.has(b)||m.push(b)}),this.syncEngine.gi(h,m).then(()=>{this.qs=r})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=_T();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class D2{constructor(){this.yi=new FO,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,r){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new FO,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class fH{Ti(t){}shutdown(){}}class I2{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const pH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mH{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class gH extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,r,i){const c=this.Bi(t,e);Ne("RestConnection","Sending: ",c,r);const h={};return this.Ui(h,i),this.qi(t,c,h,r).then(m=>(Ne("RestConnection","Received: ",m),m),m=>{throw XC("RestConnection",`${t} failed with error: `,m,"url: ",c,"request:",r),m})}Ki(t,e,r,i){return this.Li(t,e,r,i)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+lv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const r in e.authHeaders)e.authHeaders.hasOwnProperty(r)&&(t[r]=e.authHeaders[r])}Bi(t,e){return`${this.Fi}/v1/${e}:${pH[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,r,i){return new Promise((c,h)=>{const m=new V3;m.listenOnce(P3.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case QR.NO_ERROR:const E=m.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(E)),c(E);break;case QR.TIMEOUT:Ne("Connection",'RPC "'+t+'" timed out'),h(new ke(ge.DEADLINE_EXCEEDED,"Request time out"));break;case QR.HTTP_ERROR:const T=m.getStatus();if(Ne("Connection",'RPC "'+t+'" failed with status:',T,"response text:",m.getResponseText()),T>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const U=function(H){const J=H.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(J)>=0?J:ge.UNKNOWN}(R.status);h(new ke(U,R.message))}else h(new ke(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ke(ge.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ne("Connection",'RPC "'+t+'" completed.')}});const b=JSON.stringify(i);m.send(e,"POST",b,r,15)})}ji(t,e){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=O3(),c=N3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new L3({})),this.Ui(h.initMessageHeaders,e),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");Ne("Connection","Creating WebChannel: "+m,h);const b=i.createWebChannel(m,h);let E=!1,T=!1;const R=new mH({vi:H=>{T?Ne("Connection","Not sending because WebChannel is closed:",H):(E||(Ne("Connection","Opening WebChannel transport."),b.open(),E=!0),Ne("Connection","WebChannel sending:",H),b.send(H))},Vi:()=>b.close()}),U=(H,J,fe)=>{H.listen(J,Ie=>{try{fe(Ie)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return U(b,iT.EventType.OPEN,()=>{T||Ne("Connection","WebChannel transport opened.")}),U(b,iT.EventType.CLOSE,()=>{T||(T=!0,Ne("Connection","WebChannel transport closed"),R.$i())}),U(b,iT.EventType.ERROR,H=>{T||(T=!0,XC("Connection","WebChannel transport errored:",H),R.$i(new ke(ge.UNAVAILABLE,"The operation could not be completed")))}),U(b,iT.EventType.MESSAGE,H=>{var J;if(!T){const fe=H.data[0];bt(!!fe);const Ie=fe,Ue=Ie.error||(null===(J=Ie[0])||void 0===J?void 0:J.error);if(Ue){Ne("Connection","WebChannel received error:",Ue);const st=Ue.status;let Mt=function(Sn){const _r=ni[Sn];if(void 0!==_r)return DV(_r)}(st),ot=Ue.message;void 0===Mt&&(Mt=ge.INTERNAL,ot="Unknown error status: "+st+" with message "+Ue.message),T=!0,R.$i(new ke(Mt,ot)),b.close()}else Ne("Connection","WebChannel received:",fe),R.Oi(fe)}}),U(c,F3.STAT_EVENT,H=>{H.stat===$L.PROXY?Ne("Connection","Detected buffering proxy"):H.stat===$L.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.ki()},0),R}}function S2(){return"undefined"!=typeof window?window:null}function AT(){return"undefined"!=typeof document?document:null}function bE(n){return new Ej(n,!0)}class VO{constructor(t,e,r=1e3,i=1.5,c=6e4){this.Oe=t,this.timerId=e,this.Qi=r,this.Wi=i,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,e-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class T2{constructor(t,e,r,i,c,h,m){this.Oe=t,this.er=r,this.nr=i,this.sr=c,this.credentialsProvider=h,this.listener=m,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new VO(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var t=this;return(0,me.Z)(function*(){t.ur()&&(yield t.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}_r(){var t=this;return(0,me.Z)(function*(){if(t.hr())return t.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var r=this;return(0,me.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==t?r.ar.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(Xr(e.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):e&&e.code===ge.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ci(e)})()}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===e&&this.Er(r)},r=>{t(()=>{const i=new ke(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(i)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{e(()=>this.Ir(r))}),this.stream.onMessage(r=>{e(()=>this.onMessage(r))})}lr(){var t=this;this.state=5,this.ar.Xi((0,me.Z)(function*(){t.state=0,t.start()}))}Ir(t){return Ne("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _H extends T2{constructor(t,e,r,i,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,c),this.N=i}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(b=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:rt(),i=t.targetChange.targetIds||[],c=function(b,E){return b.D?(bt(void 0===E||"string"==typeof E),$i.fromBase64String(E||"")):(bt(void 0===E||E instanceof Uint8Array),$i.fromUint8Array(E||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(b){const E=void 0===b.code?ge.UNKNOWN:DV(b.code);return new ke(E,b.message||"")}(h);e=new AV(r,i,c,m||null)}else if("documentChange"in t){const r=t.documentChange,i=Du(n,r.document.name),c=Gi(r.document.updateTime),h=new ks({mapValue:{fields:r.document.fields}}),m=or.newFoundDocument(i,c,h);e=new yT(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,i=Du(n,r.document),c=r.readTime?Gi(r.readTime):Pt.min(),h=or.newNoDocument(i,c);e=new yT([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const r=t.documentRemove,i=Du(n,r.document);e=new yT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return rt();{const r=t.filter,c=new pj(r.count||0);e=new TV(r.targetId,c)}}var b;return e}(this.N,t),r=function(i){if(!("targetChange"in i))return Pt.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?Gi(c.readTime):Pt.min()}(t);return this.listener.Rr(e,r)}br(t){const e={};e.database=mE(this.N),e.addTarget=function(i,c){let h;const m=c.target;return h=cT(m)?{documents:BV(i,m)}:{query:UV(i,m)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=RV(i,c.resumeToken):c.snapshotVersion.compareTo(Pt.min())>0&&(h.readTime=fE(i,c.snapshotVersion.toTimestamp())),h}(this.N,t);const r=function(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.mr(e)}Pr(t){const e={};e.database=mE(this.N),e.removeTarget=t,this.mr(e)}}class yH extends T2{constructor(t,e,r,i,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,c),this.N=i,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(n,t){return n&&n.length>0?(bt(void 0!==t),n.map(e=>function(r,i){let c=Gi(r.updateTime?r.updateTime:i);return c.isEqual(Pt.min())&&(c=Gi(i)),new dj(c,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Gi(t.commitTime);return this.listener.Dr(r,e)}return bt(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=mE(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>vT(this.N,r))};this.mr(e)}}class vH extends class{}{constructor(t,e,r){super(),this.credentials=t,this.sr=e,this.N=r,this.kr=!1}$r(){if(this.kr)throw new ke(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Li(t,e,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new ke(ge.UNKNOWN,i.toString())})}Ki(t,e,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Ki(t,e,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new ke(ge.UNKNOWN,i.toString())})}terminate(){this.kr=!0}}class bH{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Xr(e),this.Mr=!1):Ne("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class wH{constructor(t,e,r,i,c){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=c,this.zr.Ti(m=>{r.enqueueAndForget((0,me.Z)(function*(){var b;hp(h)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,me.Z)(function*(E){const T=Be(E);T.Wr.add(4),yield xv(T),T.Hr.set("Unknown"),T.Wr.delete(4),yield wE(T)}),function(E){return b.apply(this,arguments)})(h))}))}),this.Hr=new bH(r,i)}}function wE(n){return BO.apply(this,arguments)}function BO(){return(BO=(0,me.Z)(function*(n){if(hp(n))for(const t of n.Gr)yield t(!0)})).apply(this,arguments)}function xv(n){return UO.apply(this,arguments)}function UO(){return(UO=(0,me.Z)(function*(n){for(const t of n.Gr)yield t(!1)})).apply(this,arguments)}function MT(n,t){const e=Be(n);e.Qr.has(t.targetId)||(e.Qr.set(t.targetId,t),$O(e)?HO(e):Rv(e).hr()&&jO(e,t))}function CE(n,t){const e=Be(n),r=Rv(e);e.Qr.delete(t),r.hr()&&A2(e,t),0===e.Qr.size&&(r.hr()?r.wr():hp(e)&&e.Hr.set("Unknown"))}function jO(n,t){n.Jr.Y(t.targetId),Rv(n).br(t)}function A2(n,t){n.Jr.Y(t),Rv(n).Pr(t)}function HO(n){n.Jr=new bj({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>n.Qr.get(t)||null}),Rv(n).start(),n.Hr.Lr()}function $O(n){return hp(n)&&!Rv(n).ur()&&n.Qr.size>0}function hp(n){return 0===Be(n).Wr.size}function M2(n){n.Jr=void 0}function CH(n){return GO.apply(this,arguments)}function GO(){return(GO=(0,me.Z)(function*(n){n.Qr.forEach((t,e)=>{jO(n,t)})})).apply(this,arguments)}function EH(n,t){return zO.apply(this,arguments)}function zO(){return(zO=(0,me.Z)(function*(n,t){M2(n),$O(n)?(n.Hr.qr(t),HO(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function DH(n,t,e){return qO.apply(this,arguments)}function qO(){return(qO=(0,me.Z)(function*(n,t,e){if(n.Hr.set("Online"),t instanceof AV&&2===t.state&&t.cause)try{yield(r=(0,me.Z)(function*(i,c){const h=c.cause;for(const m of c.targetIds)i.Qr.has(m)&&(yield i.remoteSyncer.rejectListen(m,h),i.Qr.delete(m),i.Jr.removeTarget(m))}),function(i,c){return r.apply(this,arguments)})(n,t)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield xT(n,r)}else if(t instanceof yT?n.Jr.rt(t):t instanceof TV?n.Jr.ft(t):n.Jr.at(t),!e.isEqual(Pt.min()))try{const r=yield y2(n.localStore);e.compareTo(r)>=0&&(yield function(i,c){const h=i.Jr._t(c);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const E=i.Qr.get(b);E&&i.Qr.set(b,E.withResumeToken(m.resumeToken,c))}}),h.targetMismatches.forEach(m=>{const b=i.Qr.get(m);if(!b)return;i.Qr.set(m,b.withResumeToken($i.EMPTY_BYTE_STRING,b.snapshotVersion)),A2(i,m);const E=new lp(b.target,m,1,b.sequenceNumber);jO(i,E)}),i.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield xT(n,r)}var r})).apply(this,arguments)}function xT(n,t,e){return ZO.apply(this,arguments)}function ZO(){return(ZO=(0,me.Z)(function*(n,t,e){if(!_g(t))throw t;n.Wr.add(1),yield xv(n),n.Hr.set("Offline"),e||(e=()=>y2(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield e(),n.Wr.delete(1),yield wE(n)}))})).apply(this,arguments)}function x2(n,t){return t().catch(e=>xT(n,e,t))}function kv(n){return YO.apply(this,arguments)}function YO(){return(YO=(0,me.Z)(function*(n){const t=Be(n),e=fp(t);let r=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;IH(t);)try{const i=yield nH(t.localStore,r);if(null===i){0===t.jr.length&&e.wr();break}r=i.batchId,SH(t,i)}catch(i){yield xT(t,i)}k2(t)&&R2(t)})).apply(this,arguments)}function IH(n){return hp(n)&&n.jr.length<10}function SH(n,t){n.jr.push(t);const e=fp(n);e.hr()&&e.Vr&&e.Sr(t.mutations)}function k2(n){return hp(n)&&!fp(n).ur()&&n.jr.length>0}function R2(n){fp(n).start()}function TH(n){return WO.apply(this,arguments)}function WO(){return(WO=(0,me.Z)(function*(n){fp(n).Nr()})).apply(this,arguments)}function AH(n){return KO.apply(this,arguments)}function KO(){return(KO=(0,me.Z)(function*(n){const t=fp(n);for(const e of n.jr)t.Sr(e.mutations)})).apply(this,arguments)}function MH(n,t,e){return QO.apply(this,arguments)}function QO(){return(QO=(0,me.Z)(function*(n,t,e){const r=n.jr.shift(),i=gO.from(r,t,e);yield x2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield kv(n)})).apply(this,arguments)}function xH(n,t){return JO.apply(this,arguments)}function JO(){return(JO=(0,me.Z)(function*(n,t){var e;t&&fp(n).Vr&&(yield(e=(0,me.Z)(function*(r,i){if(EV(c=i.code)&&c!==ge.ABORTED){const h=r.jr.shift();fp(r).dr(),yield x2(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield kv(r)}var c}),function(r,i){return e.apply(this,arguments)})(n,t)),k2(n)&&R2(n)})).apply(this,arguments)}function XO(n,t){return e1.apply(this,arguments)}function e1(){return(e1=(0,me.Z)(function*(n,t){const e=Be(n);t?(e.Wr.delete(2),yield wE(e)):t||(e.Wr.add(2),yield xv(e),e.Hr.set("Unknown"))})).apply(this,arguments)}function Rv(n){return n.Yr||(n.Yr=function(t,e,r){const i=Be(t);return i.$r(),new _H(e,i.sr,i.credentials,i.N,r)}(n.datastore,n.asyncQueue,{Si:CH.bind(null,n),Ci:EH.bind(null,n),Rr:DH.bind(null,n)}),n.Gr.push(function(){var t=(0,me.Z)(function*(e){e?(n.Yr.dr(),$O(n)?HO(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),M2(n))});return function(e){return t.apply(this,arguments)}}())),n.Yr}function fp(n){return n.Xr||(n.Xr=function(t,e,r){const i=Be(t);return i.$r(),new yH(e,i.sr,i.credentials,i.N,r)}(n.datastore,n.asyncQueue,{Si:TH.bind(null,n),Ci:xH.bind(null,n),Cr:AH.bind(null,n),Dr:MH.bind(null,n)}),n.Gr.push(function(){var t=(0,me.Z)(function*(e){e?(n.Xr.dr(),yield kv(n)):(yield n.Xr.stop(),n.jr.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Xr}class t1{constructor(t,e,r,i,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,r,i,c){const h=Date.now()+r,m=new t1(t,e,h,i,c);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(n,t){if(Xr("AsyncQueue",`${t}: ${n}`),_g(n))return new ke(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class Nv{constructor(t){this.comparator=t?(e,r)=>t(e,r)||et.comparator(e.key,r.key):(e,r)=>et.comparator(e.key,r.key),this.keyedMap=dO(),this.sortedSet=new wi(this.comparator)}static emptySet(t){return new Nv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Nv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Nv;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class O2{constructor(){this.Zr=new wi(et.comparator)}track(t){const e=t.doc.key,r=this.Zr.get(e);r?0!==t.type&&3===r.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==r.type?this.Zr=this.Zr.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Zr=this.Zr.remove(e):1===t.type&&2===r.type?this.Zr=this.Zr.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):rt():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,r)=>{t.push(r)}),t}}class Pv{constructor(t,e,r,i,c,h,m,b){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(t,e,r,i){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new Pv(t,e,Nv.emptySet(e),c,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class kH{constructor(){this.no=void 0,this.listeners=[]}}class RH{constructor(){this.queries=new Tv(t=>lV(t),oE),this.onlineState="Unknown",this.so=new Set}}function n1(n,t){return r1.apply(this,arguments)}function r1(){return(r1=(0,me.Z)(function*(n,t){const e=Be(n),r=t.query;let i=!1,c=e.queries.get(r);if(c||(i=!0,c=new kH),i)try{c.no=yield e.onListen(r)}catch(h){const m=Ov(h,`Initialization of query '${lO(t.query)}' failed`);return void t.onError(m)}e.queries.set(r,c),c.listeners.push(t),t.io(e.onlineState),c.no&&t.ro(c.no)&&o1(e)})).apply(this,arguments)}function i1(n,t){return s1.apply(this,arguments)}function s1(){return(s1=(0,me.Z)(function*(n,t){const e=Be(n),r=t.query;let i=!1;const c=e.queries.get(r);if(c){const h=c.listeners.indexOf(t);h>=0&&(c.listeners.splice(h,1),i=0===c.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)})).apply(this,arguments)}function OH(n,t){const e=Be(n);let r=!1;for(const i of t){const h=e.queries.get(i.query);if(h){for(const m of h.listeners)m.ro(i)&&(r=!0);h.no=i}}r&&o1(e)}function NH(n,t,e){const r=Be(n),i=r.queries.get(t);if(i)for(const c of i.listeners)c.onError(e);r.queries.delete(t)}function o1(n){n.so.forEach(t=>{t.next()})}class a1{constructor(t,e,r){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Pv(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=Pv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class PH{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class N2{constructor(t){this.N=t}zn(t){return Du(this.N,t)}Hn(t){return t.metadata.exists?LV(this.N,t.document,!1):or.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Gi(t)}}class FH{constructor(t,e,r){this._o=t,this.localStore=e,this.N=r,this.queries=[],this.documents=[],this.progress=P2(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,r=new N2(this.N);for(const i of t)if(i.metadata.queries){const c=r.zn(i.metadata.name);for(const h of i.metadata.queries){const m=(e.get(h)||In()).add(c);e.set(h,m)}}return e}complete(){var t=this;return(0,me.Z)(function*(){const e=yield function(n,t,e,r){return xO.apply(this,arguments)}(t.localStore,new N2(t.N),t.documents,t._o.id),r=t.yo(t.documents);for(const i of t.queries)yield sH(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",new Jj(Object.assign({},t.progress),e)})()}}function P2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class F2{constructor(t){this.key=t}}class L2{constructor(t){this.key=t}}class V2{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=In(),this.mutatedKeys=In(),this.Io=cV(t),this.Ao=new Nv(this.Io)}get Ro(){return this.po}bo(t,e){const r=e?e.Po:new O2,i=e?e.Ao:this.Ao;let c=e?e.mutatedKeys:this.mutatedKeys,h=i,m=!1;const b=dT(this.query)&&i.size===this.query.limit?i.last():null,E=hT(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((T,R)=>{const U=i.get(T),H=aE(this.query,R)?R:null,J=!!U&&this.mutatedKeys.has(U.key),fe=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ie=!1;U&&H?U.data.isEqual(H.data)?J!==fe&&(r.track({type:3,doc:H}),Ie=!0):this.vo(U,H)||(r.track({type:2,doc:H}),Ie=!0,(b&&this.Io(H,b)>0||E&&this.Io(H,E)<0)&&(m=!0)):!U&&H?(r.track({type:0,doc:H}),Ie=!0):U&&!H&&(r.track({type:1,doc:U}),Ie=!0,(b||E)&&(m=!0)),Ie&&(H?(h=h.add(H),c=fe?c.add(T):c.delete(T)):(h=h.delete(T),c=c.delete(T)))}),dT(this.query)||hT(this.query))for(;h.size>this.query.limit;){const T=dT(this.query)?h.last():h.first();h=h.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{Ao:h,Po:r,Ln:m,mutatedKeys:c}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const c=t.Po.eo();c.sort((E,T)=>function(R,U){const H=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return H(R)-H(U)}(E.type,T.type)||this.Io(E.doc,T.doc)),this.Vo(r);const h=e?this.So():[],m=0===this.Eo.size&&this.current?1:0,b=m!==this.To;return this.To=m,0!==c.length||b?{snapshot:new Pv(this.query,t.Ao,i,c,t.mutatedKeys,0===m,b,!1),Do:h}:{Do:h}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new O2,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(e=>this.po=this.po.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=In(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const e=[];return t.forEach(r=>{this.Eo.has(r)||e.push(new L2(r))}),this.Eo.forEach(r=>{t.has(r)||e.push(new F2(r))}),e}No(t){this.po=t.Gn,this.Eo=In();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Pv.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class LH{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class VH{constructor(t){this.key=t,this.ko=!1}}class BH{constructor(t,e,r,i,c,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new Tv(m=>lV(m),oE),this.Fo=new Map,this.Mo=new Set,this.Lo=new wi(et.comparator),this.Bo=new Map,this.Uo=new RO,this.qo={},this.Ko=new Map,this.jo=vg.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function UH(n,t){return l1.apply(this,arguments)}function l1(){return(l1=(0,me.Z)(function*(n,t){const e=k1(n);let r,i;const c=e.Oo.get(t);if(c)r=c.targetId,e.sharedClientState.addLocalQueryTarget(r),i=c.view.xo();else{const h=yield Av(e.localStore,ol(t)),m=e.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield c1(e,t,r,"current"===m),e.isPrimaryClient&&MT(e.remoteStore,h)}return i})).apply(this,arguments)}function c1(n,t,e,r){return u1.apply(this,arguments)}function u1(){return(u1=(0,me.Z)(function*(n,t,e,r){n.Wo=(T,R,U)=>{return(H=(0,me.Z)(function*(J,fe,Ie,Ue){let st=fe.view.bo(Ie);st.Ln&&(st=yield IT(J.localStore,fe.query,!1).then(({documents:Sn})=>fe.view.bo(Sn,st)));const Mt=Ue&&Ue.targetChanges.get(fe.targetId),ot=fe.view.applyChanges(st,J.isPrimaryClient,Mt);return b1(J,fe.targetId,ot.Do),ot.snapshot}),function(J,fe,Ie,Ue){return H.apply(this,arguments)})(n,T,R,U);var H};const i=yield IT(n.localStore,t,!0),c=new V2(t,i.Gn),h=c.bo(i.documents),m=hE.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),b=c.applyChanges(h,n.isPrimaryClient,m);b1(n,e,b.Do);const E=new LH(t,e,c);return n.Oo.set(t,E),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),b.snapshot})).apply(this,arguments)}function jH(n,t){return d1.apply(this,arguments)}function d1(){return(d1=(0,me.Z)(function*(n,t){const e=Be(n),r=e.Oo.get(t),i=e.Fo.get(r.targetId);if(i.length>1)return e.Fo.set(r.targetId,i.filter(c=>!oE(c,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mv(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),CE(e.remoteStore,r.targetId),Fv(e,r.targetId)}).catch(bg))):(Fv(e,r.targetId),yield Mv(e.localStore,r.targetId,!0))})).apply(this,arguments)}function h1(){return(h1=(0,me.Z)(function*(n,t,e){const r=R1(n);try{const i=yield function(c,h){const m=Be(c),b=Hi.now(),E=h.reduce((R,U)=>R.add(U.key),In());let T;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>m.Qn.Pn(R,E).next(U=>{T=U;const H=[];for(const J of h){const fe=fj(J,T.get(J.key));null!=fe&&H.push(new op(J.key,fe,tV(fe.value.mapValue),ti.exists(!0)))}return m.In.addMutationBatch(R,b,H,h)})).then(R=>(R.applyToLocalDocumentSet(T),{batchId:R.batchId,changes:T}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(c,h,m){let b=c.qo[c.currentUser.toKey()];b||(b=new wi(Xt)),b=b.insert(h,m),c.qo[c.currentUser.toKey()]=b}(r,i.batchId,e),yield th(r,i.changes),yield kv(r.remoteStore)}catch(i){const c=Ov(i,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function B2(n,t){return f1.apply(this,arguments)}function f1(){return(f1=(0,me.Z)(function*(n,t){const e=Be(n);try{const r=yield tH(e.localStore,t);t.targetChanges.forEach((i,c)=>{const h=e.Bo.get(c);h&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.ko=!0:i.modifiedDocuments.size>0?bt(h.ko):i.removedDocuments.size>0&&(bt(h.ko),h.ko=!1))}),yield th(e,r,t)}catch(r){yield bg(r)}})).apply(this,arguments)}function U2(n,t,e){const r=Be(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.Oo.forEach((c,h)=>{const m=h.view.io(t);m.snapshot&&i.push(m.snapshot)}),function(c,h){const m=Be(c);m.onlineState=h;let b=!1;m.queries.forEach((E,T)=>{for(const R of T.listeners)R.io(h)&&(b=!0)}),b&&o1(m)}(r.eventManager,t),i.length&&r.$o.Rr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function $H(n,t,e){return p1.apply(this,arguments)}function p1(){return(p1=(0,me.Z)(function*(n,t,e){const r=Be(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Bo.get(t),c=i&&i.key;if(c){let h=new wi(et.comparator);h=h.insert(c,or.newNoDocument(c,Pt.min()));const m=In().add(c),b=new dE(Pt.min(),new Map,new Dr(Xt),h,m);yield B2(r,b),r.Lo=r.Lo.remove(c),r.Bo.delete(t),w1(r)}else yield Mv(r.localStore,t,!1).then(()=>Fv(r,t,e)).catch(bg)})).apply(this,arguments)}function GH(n,t){return m1.apply(this,arguments)}function m1(){return(m1=(0,me.Z)(function*(n,t){const e=Be(n),r=t.batch.batchId;try{const i=yield eH(e.localStore,t);v1(e,r,null),y1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield th(e,i)}catch(i){yield bg(i)}})).apply(this,arguments)}function zH(n,t,e){return g1.apply(this,arguments)}function g1(){return(g1=(0,me.Z)(function*(n,t,e){const r=Be(n);try{const i=yield function(c,h){const m=Be(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let E;return m.In.lookupMutationBatch(b,h).next(T=>(bt(null!==T),E=T.keys(),m.In.removeMutationBatch(b,T))).next(()=>m.In.performConsistencyCheck(b)).next(()=>m.Qn.Pn(b,E))})}(r.localStore,t);v1(r,t,e),y1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield th(r,i)}catch(i){yield bg(i)}})).apply(this,arguments)}function _1(){return(_1=(0,me.Z)(function*(n,t){const e=Be(n);hp(e.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=Be(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const i=e.Ko.get(r)||[];i.push(t),e.Ko.set(r,i)}catch(r){const i=Ov(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}})).apply(this,arguments)}function y1(n,t){(n.Ko.get(t)||[]).forEach(e=>{e.resolve()}),n.Ko.delete(t)}function v1(n,t,e){const r=Be(n);let i=r.qo[r.currentUser.toKey()];if(i){const c=i.get(t);c&&(e?c.reject(e):c.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function Fv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Fo.get(t))n.Oo.delete(r),e&&n.$o.Go(r,e);n.Fo.delete(t),n.isPrimaryClient&&n.Uo.cs(t).forEach(r=>{n.Uo.containsKey(r)||j2(n,r)})}function j2(n,t){n.Mo.delete(t.path.canonicalString());const e=n.Lo.get(t);null!==e&&(CE(n.remoteStore,e),n.Lo=n.Lo.remove(t),n.Bo.delete(e),w1(n))}function b1(n,t,e){for(const r of e)r instanceof F2?(n.Uo.addReference(r.key,t),ZH(n,r)):r instanceof L2?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,t),n.Uo.containsKey(r.key)||j2(n,r.key)):rt()}function ZH(n,t){const e=t.key,r=e.path.canonicalString();n.Lo.get(e)||n.Mo.has(r)||(Ne("SyncEngine","New document in limbo: "+e),n.Mo.add(r),w1(n))}function w1(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const t=n.Mo.values().next().value;n.Mo.delete(t);const e=new et(gn.fromString(t)),r=n.jo.next();n.Bo.set(r,new VH(e)),n.Lo=n.Lo.insert(e,r),MT(n.remoteStore,new lp(ol(pv(e.path)),r,2,pa.T))}}function th(n,t,e){return C1.apply(this,arguments)}function C1(){return(C1=(0,me.Z)(function*(n,t,e){const r=Be(n),i=[],c=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Wo(b,t,e).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,E.fromCache?"not-current":"current"),i.push(E);const T=SO.kn(b.targetId,E);c.push(T)}}))}),yield Promise.all(h),r.$o.Rr(i),yield(m=(0,me.Z)(function*(b,E){const T=Be(b);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Ae.forEach(E,U=>Ae.forEach(U.Nn,H=>T.persistence.referenceDelegate.addReference(R,U.targetId,H)).next(()=>Ae.forEach(U.xn,H=>T.persistence.referenceDelegate.removeReference(R,U.targetId,H)))))}catch(R){if(!_g(R))throw R;Ne("LocalStore","Failed to update sequence numbers: "+R)}for(const R of E){const U=R.targetId;if(!R.fromCache){const H=T.Un.get(U),fe=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);T.Un=T.Un.insert(U,fe)}}}),function(b,E){return m.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function YH(n,t){return E1.apply(this,arguments)}function E1(){return(E1=(0,me.Z)(function*(n,t){const e=Be(n);if(!e.currentUser.isEqual(t)){Ne("SyncEngine","User change. New user:",t.toKey());const r=yield _2(e.localStore,t);e.currentUser=t,(i=e).Ko.forEach(h=>{h.forEach(m=>{m.reject(new ke(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ko.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield th(e,r.Wn)}var i})).apply(this,arguments)}function WH(n,t){const e=Be(n),r=e.Bo.get(t);if(r&&r.ko)return In().add(r.key);{let i=In();const c=e.Fo.get(t);if(!c)return i;for(const h of c){const m=e.Oo.get(h);i=i.unionWith(m.view.Ro)}return i}}function KH(n,t){return D1.apply(this,arguments)}function D1(){return(D1=(0,me.Z)(function*(n,t){const e=Be(n),r=yield IT(e.localStore,t.query,!0),i=t.view.No(r);return e.isPrimaryClient&&b1(e,t.targetId,i.Do),i})).apply(this,arguments)}function QH(n){return I1.apply(this,arguments)}function I1(){return(I1=(0,me.Z)(function*(n){const t=Be(n);return w2(t.localStore).then(e=>th(t,e))})).apply(this,arguments)}function JH(n,t,e,r){return S1.apply(this,arguments)}function S1(){return(S1=(0,me.Z)(function*(n,t,e,r){const i=Be(n),c=yield function(h,m){const b=Be(h),E=Be(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",T=>E.Xt(T,m).next(R=>R?b.Qn.Pn(T,R):Ae.resolve(null)))}(i.localStore,t);var m;null!==c?("pending"===e?yield kv(i.remoteStore):"acknowledged"===e||"rejected"===e?(v1(i,t,r||null),y1(i,t),m=t,Be(Be(i.localStore).In).te(m)):rt(),yield th(i,c)):Ne("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function T1(){return(T1=(0,me.Z)(function*(n,t){const e=Be(n);if(k1(e),R1(e),!0===t&&!0!==e.Qo){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield H2(e,r.toArray());e.Qo=!0,yield XO(e.remoteStore,!0);for(const c of i)MT(e.remoteStore,c)}else if(!1===t&&!1!==e.Qo){const r=[];let i=Promise.resolve();e.Fo.forEach((c,h)=>{e.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(Fv(e,h),Mv(e.localStore,h,!0))),CE(e.remoteStore,h)}),yield i,yield H2(e,r),function(c){const h=Be(c);h.Bo.forEach((m,b)=>{CE(h.remoteStore,b)}),h.Uo.us(),h.Bo=new Map,h.Lo=new wi(et.comparator)}(e),e.Qo=!1,yield XO(e.remoteStore,!1)}})).apply(this,arguments)}function H2(n,t,e){return A1.apply(this,arguments)}function A1(){return(A1=(0,me.Z)(function*(n,t,e){const r=Be(n),i=[],c=[];for(const h of t){let m;const b=r.Fo.get(h);if(b&&0!==b.length){m=yield Av(r.localStore,ol(b[0]));for(const E of b){const T=r.Oo.get(E),R=yield KH(r,T);R.snapshot&&c.push(R.snapshot)}}else{const E=yield b2(r.localStore,h);m=yield Av(r.localStore,E),yield c1(r,$2(E),h,!1)}i.push(m)}return r.$o.Rr(c),i})).apply(this,arguments)}function $2(n){return oV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function e6(n){const t=Be(n);return Be(Be(t.localStore).persistence).pn()}function t6(n,t,e,r){return M1.apply(this,arguments)}function M1(){return(M1=(0,me.Z)(function*(n,t,e,r){const i=Be(n);if(i.Qo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(e){case"current":case"not-current":{const c=yield w2(i.localStore),h=dE.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield th(i,c,h);break}case"rejected":yield Mv(i.localStore,t,!0),Fv(i,t,r);break;default:rt()}})).apply(this,arguments)}function n6(n,t,e){return x1.apply(this,arguments)}function x1(){return(x1=(0,me.Z)(function*(n,t,e){const r=k1(n);if(r.Qo){for(const i of t){if(r.Fo.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const c=yield b2(r.localStore,i),h=yield Av(r.localStore,c);yield c1(r,$2(c),h.targetId,!1),MT(r.remoteStore,h)}for(const i of e)r.Fo.has(i)&&(yield Mv(r.localStore,i,!1).then(()=>{CE(r.remoteStore,i),Fv(r,i)}).catch(bg))}})).apply(this,arguments)}function k1(n){const t=Be(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=B2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$H.bind(null,t),t.$o.Rr=OH.bind(null,t.eventManager),t.$o.Go=NH.bind(null,t.eventManager),t}function R1(n){const t=Be(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GH.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zH.bind(null,t),t}class G2{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,me.Z)(function*(){e.N=bE(t.databaseInfo.databaseId),e.sharedClientState=e.Ho(t),e.persistence=e.Jo(t),yield e.persistence.start(),e.gcScheduler=e.Yo(t),e.localStore=e.Xo(t)})()}Yo(t){return null}Xo(t){return g2(this.persistence,new m2,t.initialUser,this.N)}Jo(t){return new dH(OO.Ns,this.N)}Ho(t){return new D2}terminate(){var t=this;return(0,me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class z2 extends G2{constructor(t,e,r){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield e().call(r,t),yield function(n){return MO.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,t),yield R1(r.Zo.syncEngine),yield kv(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(t){return g2(this.persistence,new m2,t.initialUser,this.N)}Yo(t){return new qj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=IO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new DO(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,S2(),AT(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new D2}}class i6 extends z2{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield e().call(r,t);const i=r.Zo.syncEngine;r.sharedClientState instanceof LO&&(r.sharedClientState.syncEngine={_i:JH.bind(null,i),mi:t6.bind(null,i),gi:n6.bind(null,i),pn:e6.bind(null,i),wi:QH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,me.Z)(function*(h){yield function(n,t){return T1.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Ho(t){const e=S2();if(!LO.bt(e))throw new ke(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=IO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new LO(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class O1{initialize(t,e){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>U2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=YH.bind(null,r.syncEngine),yield XO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new RH}createDatastore(t){const e=bE(t.databaseInfo.databaseId),r=new gH(t.databaseInfo);return new vH(t.credentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,c=m=>U2(this.syncEngine,m,0),h=I2.bt()?new I2:new fH,new wH(e,r,i,c,h);var e,r,i,c,h}createSyncEngine(t,e){return function(r,i,c,h,m,b,E){const T=new BH(r,i,c,h,m,b);return E&&(T.Qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,me.Z)(function*(e){const r=Be(e);Ne("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield xv(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function q2(n,t=10240){let e=0;return{read:()=>(0,me.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class s6{constructor(t,e){this.nc=t,this.N=e,this.metadata=new ji,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var t=this;return(0,me.Z)(function*(){return t.metadata.promise})()}zo(){var t=this;return(0,me.Z)(function*(){return yield t.getMetadata(),t.ic()})()}ic(){var t=this;return(0,me.Z)(function*(){const e=yield t.rc();if(null===e)return null;const r=t.sc.decode(e),i=Number(r);isNaN(i)&&t.oc(`length string (${r}) is not valid number`);const c=yield t.cc(i);return new PH(JSON.parse(c),e.length+i)})()}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}rc(){var t=this;return(0,me.Z)(function*(){for(;t.ac()<0&&!(yield t.uc()););if(0===t.buffer.length)return null;const e=t.ac();e<0&&t.oc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}cc(t){var e=this;return(0,me.Z)(function*(){for(;e.buffer.length<t;)(yield e.uc())&&e.oc("Reached the end of bundle when more is expected.");const r=e.sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}uc(){var t=this;return(0,me.Z)(function*(){const e=yield t.nc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class o6{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,me.Z)(function*(c,h){const m=Be(c),b=mE(m.N)+"/documents",E={documents:h.map(H=>pE(m.N,H))},T=yield m.Ki("BatchGetDocuments",b,E),R=new Map;T.forEach(H=>{const J=function(n,t){return"found"in t?function(e,r){bt(!!r.found);const i=Du(e,r.found.name),c=Gi(r.found.updateTime),h=new ks({mapValue:{fields:r.found.fields}});return or.newFoundDocument(i,c,h)}(n,t):"missing"in t?function(e,r){bt(!!r.missing),bt(!!r.readTime);const i=Du(e,r.missing),c=Gi(r.readTime);return or.newNoDocument(i,c)}(n,t):rt()}(m.N,H);R.set(J.key.toString(),J)});const U=[];return h.forEach(H=>{const J=R.get(H.toString());bt(!!J),U.push(J)}),U}),function(c,h){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new uE(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const c=et.fromPath(i);t.mutations.push(new uO(c,t.precondition(c)))}),yield(r=(0,me.Z)(function*(i,c){const h=Be(i),m=mE(h.N)+"/documents",b={writes:c.map(E=>vT(h.N,E))};yield h.Li("Commit",m,b)}),function(i,c){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rt();e=Pt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new ke(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ti.updateTime(e):ti.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pt.min()))throw new ke(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ti.updateTime(e)}return ti.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class a6{constructor(t,e,r,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=i,this.hc=5,this.ar=new VO(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var t=this;this.ar.Xi((0,me.Z)(function*(){const e=new o6(t.datastore),r=t.fc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(c=>{t.dc(c)}))}).catch(i=>{t.dc(i)})}))}fc(t){try{const e=this.updateFunction(t);return!hg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!EV(e)}return!1}}class l6{constructor(t,e,r){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=r,this.user=hs.UNAUTHENTICATED,this.clientId=qL.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var c=(0,me.Z)(function*(h){Ne("FirestoreClient","Received user=",h.uid),yield i.credentialListener(h),i.user=h});return function(h){return c.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(r){const i=Ov(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function Z2(n,t){return N1.apply(this,arguments)}function N1(){return(N1=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,me.Z)(function*(c){r.isEqual(c)||(yield _2(t.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function Y2(n,t){return P1.apply(this,arguments)}function P1(){return(P1=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield F1(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>{return(c=(0,me.Z)(function*(h,m){const b=Be(h);b.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const E=hp(b);b.Wr.add(3),yield xv(b),E&&b.Hr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Wr.delete(3),yield wE(b)}),function(h,m){return c.apply(this,arguments)})(t.remoteStore,i);var c}),n.onlineComponents=t})).apply(this,arguments)}function F1(n){return L1.apply(this,arguments)}function L1(){return(L1=(0,me.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield Z2(n,new G2)),n.offlineComponents})).apply(this,arguments)}function RT(n){return V1.apply(this,arguments)}function V1(){return(V1=(0,me.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield Y2(n,new O1)),n.onlineComponents})).apply(this,arguments)}function W2(n){return F1(n).then(t=>t.persistence)}function B1(n){return F1(n).then(t=>t.localStore)}function K2(n){return RT(n).then(t=>t.remoteStore)}function U1(n){return RT(n).then(t=>t.syncEngine)}function Lv(n){return j1.apply(this,arguments)}function j1(){return(j1=(0,me.Z)(function*(n){const t=yield RT(n),e=t.eventManager;return e.onListen=UH.bind(null,t.syncEngine),e.onUnlisten=jH.bind(null,t.syncEngine),e})).apply(this,arguments)}function Q2(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,c,h,m,b){const E=new kT({next:R=>{c.enqueueAndForget(()=>i1(i,T));const U=R.docs.has(h);!U&&R.fromCache?b.reject(new ke(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&m&&"server"===m.source?b.reject(new ke(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(R)},error:R=>b.reject(R)}),T=new a1(pv(h.path),E,{includeMetadataChanges:!0,fo:!0});return n1(i,T)}(yield Lv(n),n.asyncQueue,t,e,r)})),r.promise}function J2(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,c,h,m,b){const E=new kT({next:R=>{c.enqueueAndForget(()=>i1(i,T)),R.fromCache&&"server"===m.source?b.reject(new ke(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(R)},error:R=>b.reject(R)}),T=new a1(h,E,{includeMetadataChanges:!0,fo:!0});return n1(i,T)}(yield Lv(n),n.asyncQueue,t,e,r)})),r.promise}class _6{constructor(t,e,r,i,c,h,m,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class Vv{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vv&&t.projectId===this.projectId&&t.database===this.database}}const X2=new Map;function H1(n,t,e){if(!e)throw new ke(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eB(n,t,e,r){if(!0===t&&!0===r)throw new ke(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function tB(n){if(!et.isDocumentKey(n))throw new ke(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nB(n){if(et.isDocumentKey(n))throw new ke(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":rt()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=OT(n);throw new ke(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function rB(n,t){if(t<=0)throw new ke(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class iB{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,eB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class EE{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iB({}),this._settingsFrozen=!1,t instanceof Vv?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vv(r.options.projectId)}(t))}get app(){if(!this._app)throw new ke(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iB(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new j3;switch(e.type){case"gapi":const r=e.client;return bt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new z3(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ke(ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=X2.get(t);e&&(Ne("ComponentProvider","Removing Datastore"),X2.delete(t),e.terminate())}(this),Promise.resolve()}}class Xn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class Os{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Os(this.firestore,t,this._query)}}class Su extends Os{constructor(t,e,r){super(t,e,pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new et(t))}withConverter(t){return new Su(this.firestore,t,this._path)}}function sB(n,t,...e){if(n=(0,$t.m9)(n),H1("collection","path",t),n instanceof EE){const r=gn.fromString(t,...e);return nB(r),new Su(n,null,r)}{if(!(n instanceof Xn||n instanceof Su))throw new ke(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(t,...e));return nB(r),new Su(n.firestore,null,r)}}function NT(n,t,...e){if(n=(0,$t.m9)(n),1===arguments.length&&(t=qL.I()),H1("doc","path",t),n instanceof EE){const r=gn.fromString(t,...e);return tB(r),new Xn(n,null,new et(r))}{if(!(n instanceof Xn||n instanceof Su))throw new ke(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(t,...e));return tB(r),new Xn(n.firestore,n instanceof Su?n.converter:null,new et(r))}}function oB(n,t){return n=(0,$t.m9)(n),t=(0,$t.m9)(t),(n instanceof Xn||n instanceof Su)&&(t instanceof Xn||t instanceof Su)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function aB(n,t){return n=(0,$t.m9)(n),t=(0,$t.m9)(t),n instanceof Os&&t instanceof Os&&n.firestore===t.firestore&&oE(n._query,t._query)&&n.converter===t.converter}class b6{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new VO(this,"async_queue_retry"),this.Rc=()=>{const e=AT();e&&Ne("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const t=AT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=AT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new ji;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}vc(){var t=this;return(0,me.Z)(function*(){if(0!==t.mc.length){try{yield t.mc[0](),t.mc.shift(),t.ar.reset()}catch(e){if(!_g(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}t.mc.length>0&&t.ar.Xi(()=>t.vc())}})()}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(r=>{throw this.Tc=r,this.Ec=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=e,e}enqueueAfterDelay(t,e,r){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const i=t1.createAndSchedule(this,t,e,r,c=>this.Vc(c));return this.yc.push(i),i}bc(){this.Tc&&rt()}verifyOperationInProgress(){}Sc(){var t=this;return(0,me.Z)(function*(){let e;do{e=t._c,yield e}while(e!==t._c)})()}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function $1(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class w6{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class gr extends EE{constructor(t,e){super(t,e),this.type="firestore",this._queue=new b6,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lB(this),this._firestoreClient.terminate()}}function Ci(n){return n._firestoreClient||lB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lB(n){var t;const e=n._freezeSettings(),r=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new _6(n._databaseId,c,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var c,m;n._firestoreClient=new l6(n._credentials,n._queue,r)}function cB(n,t,e){const r=new ji;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield Z2(n,e),yield Y2(n,t),r.resolve()}catch(i){if(!("FirebaseError"===(c=i).name?c.code===ge.FAILED_PRECONDITION||c.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var c})).then(()=>r.promise)}function uB(n){if(n._initialized||n._terminated)throw new ke(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tu($i.fromBase64String(t))}catch(e){throw new ke(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Tu($i.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wg{constructor(t){this._methodName=t}}class PT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}const k6=/^__.*__$/;class R6{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new op(t,this.data,this.fieldMask,e,this.fieldTransforms):new cE(t,this.data,e,this.fieldTransforms)}}class dB{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new op(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function hB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class FT{constructor(t,e,r,i,c,h){this.settings=t,this.databaseId=e,this.N=r,this.ignoreUndefinedProperties=i,void 0===c&&this.xc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new FT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.$c({path:r,Fc:!1});return i.Mc(t),i}Lc(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.$c({path:r,Fc:!1});return i.xc(),i}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return VT(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(hB(this.kc)&&k6.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class O6{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=r||bE(t)}jc(t,e,r,i=!1){return new FT({kc:t,methodName:e,Kc:r,path:fs.emptyPath(),Fc:!1,qc:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Cg(n){const t=n._freezeSettings(),e=bE(n._databaseId);return new O6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function LT(n,t,e,r,i,c={}){const h=n.jc(c.merge||c.mergeFields?2:0,t,e,i);Z1("Data must be an object, but it was:",h,r);const m=mB(r,h);let b,E;if(c.merge)b=new uv(h.fieldMask),E=h.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const U=Y1(t,R,e);if(!h.contains(U))throw new ke(ge.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);_B(T,U)||T.push(U)}b=new uv(T),E=h.fieldTransforms.filter(R=>b.covers(R.field))}else b=null,E=h.fieldTransforms;return new R6(new ks(m),b,E)}class DE extends wg{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof DE}}function fB(n,t,e){return new FT({kc:3,Kc:t.settings.Kc,methodName:n._methodName,Fc:e},t.databaseId,t.N,t.ignoreUndefinedProperties)}class G1 extends wg{_toFieldTransform(t){return new lE(t.path,new gv)}isEqual(t){return t instanceof G1}}class N6 extends wg{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=fB(this,t,!0),r=this.Qc.map(c=>Eg(c,e)),i=new pg(r);return new lE(t.path,i)}isEqual(t){return this===t}}class P6 extends wg{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=fB(this,t,!0),r=this.Qc.map(c=>Eg(c,e)),i=new mg(r);return new lE(t.path,i)}isEqual(t){return this===t}}class F6 extends wg{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new _v(t.N,hV(t.N,this.Wc));return new lE(t.path,e)}isEqual(t){return this===t}}function z1(n,t,e,r){const i=n.jc(1,t,e);Z1("Data must be an object, but it was:",i,r);const c=[],h=ks.empty();dg(r,(b,E)=>{const T=W1(t,b,e);E=(0,$t.m9)(E);const R=i.Lc(T);if(E instanceof DE)c.push(T);else{const U=Eg(E,R);null!=U&&(c.push(T),h.set(T,U))}});const m=new uv(c);return new dB(h,m,i.fieldTransforms)}function q1(n,t,e,r,i,c){const h=n.jc(1,t,e),m=[Y1(t,r,e)],b=[i];if(c.length%2!=0)throw new ke(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<c.length;U+=2)m.push(Y1(t,c[U])),b.push(c[U+1]);const E=[],T=ks.empty();for(let U=m.length-1;U>=0;--U)if(!_B(E,m[U])){const H=m[U];let J=b[U];J=(0,$t.m9)(J);const fe=h.Lc(H);if(J instanceof DE)E.push(H);else{const Ie=Eg(J,fe);null!=Ie&&(E.push(H),T.set(H,Ie))}}const R=new uv(E);return new dB(T,R,h.fieldTransforms)}function pB(n,t,e,r=!1){return Eg(e,n.jc(r?4:3,t))}function Eg(n,t){if(gB(n=(0,$t.m9)(n)))return Z1("Unsupported field value:",t,n),mB(n,t);if(n instanceof wg)return function(e,r){if(!hB(r.kc))throw r.Uc(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,r){const i=[];let c=0;for(const h of e){let m=Eg(h,r.Bc(c));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),c++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,$t.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hV(r.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=Hi.fromDate(e);return{timestampValue:fE(r.N,i)}}if(e instanceof Hi){const i=new Hi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fE(r.N,i)}}if(e instanceof PT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tu)return{bytesValue:RV(r.N,e._byteString)};if(e instanceof Xn){const i=r.databaseId,c=e.firestore._databaseId;if(!c.isEqual(i))throw r.Uc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hO(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Uc(`Unsupported field value: ${OT(e)}`)}(n,t)}function mB(n,t){const e={};return WL(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dg(n,(r,i)=>{const c=Eg(i,t.Oc(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function gB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hi||n instanceof PT||n instanceof Tu||n instanceof Xn||n instanceof wg)}function Z1(n,t,e){if(!gB(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OT(e);throw t.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function Y1(n,t,e){if((t=(0,$t.m9)(t))instanceof nh)return t._internalPath;if("string"==typeof t)return W1(n,t);throw VT("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const L6=new RegExp("[~\\*/\\[\\]]");function W1(n,t,e){if(t.search(L6)>=0)throw VT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new nh(...t.split("."))._internalPath}catch(r){throw VT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function VT(n,t,e,r,i){const c=r&&!r.isEmpty(),h=void 0!==i;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(c||h)&&(b+=" (found",c&&(b+=` in field ${r}`),h&&(b+=` in document ${i}`),b+=")"),new ke(ge.INVALID_ARGUMENT,m+n+b)}function _B(n,t){return n.some(e=>e.isEqual(t))}class IE{constructor(t,e,r,i,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new V6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(BT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class V6 extends IE{data(){return super.data()}}function BT(n,t){return"string"==typeof t?W1(n,t):t instanceof nh?t._internalPath:t._delegate._internalPath}class Dg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rh extends IE{constructor(t,e,r,i,c,h){super(t,e,r,i,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new SE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(BT("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class SE extends rh{data(t={}){return super.data(t)}}class pp{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Dg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new SE(this._firestore,this._userDataWriter,r.key,r,new Dg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new SE(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Dg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const m=new SE(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Dg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,E=-1;return 0!==h.type&&(b=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),E=c.indexOf(h.doc.key)),{type:B6(h.type),doc:m,oldIndex:b,newIndex:E}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function B6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function yB(n,t){return n instanceof rh&&t instanceof rh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof pp&&t instanceof pp&&n._firestore===t._firestore&&aB(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function vB(n){if(hT(n)&&0===n.explicitOrderBy.length)throw new ke(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TE{}function mp(n,...t){for(const e of t)n=e._apply(n);return n}class U6 extends TE{constructor(t,e,r){super(),this.Gc=t,this.zc=e,this.Hc=r,this.type="where"}_apply(t){const e=Cg(t.firestore),r=function(i,c,h,m,b,E,T){let R;if(b.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new ke(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on FieldPath.documentId().`);if("in"===E||"not-in"===E){IB(T,E);const H=[];for(const J of T)H.push(DB(m,i,J));R={arrayValue:{values:H}}}else R=DB(m,i,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||IB(T,E),R=pB(h,"where",T,"in"===E||"not-in"===E);const U=Qs.create(b,E,R);return function(H,J){if(J.v()){const Ie=oO(H);if(null!==Ie&&!Ie.isEqual(J.field))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${J.field.toString()}'`);const Ue=sO(H);null!==Ue&&SB(0,J.field,Ue)}const fe=function(Ie,Ue){for(const st of Ie.filters)if(Ue.indexOf(st.op)>=0)return st.op;return null}(H,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==fe)throw new ke(ge.INVALID_ARGUMENT,fe===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${fe.toString()}' filters.`)}(i,U),U}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Os(t.firestore,t.converter,function(i,c){const h=i.filters.concat([c]);return new Jd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),h,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class H6 extends TE{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(r,i,c){if(null!==r.startAt)throw new ke(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new fv(i,c);return function(m,b){if(null===sO(m)){const E=oO(m);null!==E&&SB(0,E,b.field)}}(r,h),h}(t._query,this.Gc,this.Jc);return new Os(t.firestore,t.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new Jd(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class bB extends TE{constructor(t,e,r){super(),this.type=t,this.Yc=e,this.Xc=r}_apply(t){return new Os(t.firestore,t.converter,aV(t._query,this.Yc,this.Xc))}}class wB extends TE{constructor(t,e,r){super(),this.type=t,this.Zc=e,this.ta=r}_apply(t){const e=EB(t,this.type,this.Zc,this.ta);return new Os(t.firestore,t.converter,(i=e,new Jd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class CB extends TE{constructor(t,e,r){super(),this.type=t,this.Zc=e,this.ta=r}_apply(t){const e=EB(t,this.type,this.Zc,this.ta);return new Os(t.firestore,t.converter,(i=e,new Jd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function EB(n,t,e,r){if(e[0]=(0,$t.m9)(e[0]),e[0]instanceof IE)return function(i,c,h,m,b){if(!m)throw new ke(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const E=[];for(const T of mv(i))if(T.field.isKeyField())E.push(oT(c,m.key));else{const R=m.data.field(T.field);if(eO(R))throw new ke(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const U=T.field.canonicalString();throw new ke(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}E.push(R)}return new sE(E,b)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=Cg(n.firestore);return function(c,h,m,b,E,T){const R=c.explicitOrderBy;if(E.length>R.length)throw new ke(ge.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let H=0;H<E.length;H++){const J=E[H];if(R[H].field.isKeyField()){if("string"!=typeof J)throw new ke(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof J}`);if(!aO(c)&&-1!==J.indexOf("/"))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${J}' contains a slash.`);const fe=c.path.child(gn.fromString(J));if(!et.isDocumentKey(fe))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const Ie=new et(fe);U.push(oT(h,Ie))}else{const fe=pB(m,b,J);U.push(fe)}}return new sE(U,T)}(n._query,n.firestore._databaseId,i,t,e,r)}}function DB(n,t,e){if("string"==typeof(e=(0,$t.m9)(e))){if(""===e)throw new ke(ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!aO(t)&&-1!==e.indexOf("/"))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(gn.fromString(e));if(!et.isDocumentKey(r))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oT(n,new et(r))}if(e instanceof Xn)return oT(n,e._key);throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${OT(e)}.`)}function IB(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(ge.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function SB(n,t,e){if(!e.isEqual(t))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class K1{convertValue(t,e="none"){switch(fg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ei(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rt()}}convertObject(t,e){const r={};return dg(t.fields,(i,c)=>{r[i]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new PT(ei(t.latitude),ei(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=KL(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(tE(t));default:return null}}convertTimestamp(t){const e=sp(t);return new Hi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=gn.fromString(t);bt(zV(r));const i=new Vv(r.get(1),r.get(3)),c=new et(r.popFirst(5));return i.isEqual(e)||Xr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function UT(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class K6 extends K1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}class TB{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Cg(t)}set(t,e,r){this._verifyNotCommitted();const i=gp(t,this._firestore),c=UT(i.converter,e,r),h=LT(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,ti.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const c=gp(t,this._firestore);let h;return h="string"==typeof(e=(0,$t.m9)(e))||e instanceof nh?q1(this._dataReader,"WriteBatch.update",c._key,e,r,i):z1(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(h.toMutation(c._key,ti.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=gp(t,this._firestore);return this._mutations=this._mutations.concat(new uE(e._key,ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gp(n,t){if((n=(0,$t.m9)(n)).firestore!==t)throw new ke(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ig extends K1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}function AB(n,t,e){n=an(n,Xn);const r=an(n.firestore,gr),i=UT(n.converter,t,e);return Bv(r,[LT(Cg(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,ti.none())])}function MB(n,t,e,...r){n=an(n,Xn);const i=an(n.firestore,gr),c=Cg(i);let h;return h="string"==typeof(t=(0,$t.m9)(t))||t instanceof nh?q1(c,"updateDoc",n._key,t,e,r):z1(c,"updateDoc",n._key,t),Bv(i,[h.toMutation(n._key,ti.exists(!0))])}function xB(n,...t){var e,r,i;n=(0,$t.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||$1(t[h])||(c=t[h],h++);const m={includeMetadataChanges:c.includeMetadataChanges};if($1(t[h])){const R=t[h];t[h]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[h+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),t[h+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let b,E,T;if(n instanceof Xn)E=an(n.firestore,gr),T=pv(n._key.path),b={next:R=>{t[h]&&t[h](Q1(E,n,R))},error:t[h+1],complete:t[h+2]};else{const R=an(n,Os);E=an(R.firestore,gr),T=R._query;const U=new Ig(E);b={next:H=>{t[h]&&t[h](new pp(E,U,R,H))},error:t[h+1],complete:t[h+2]},vB(n._query)}return function(R,U,H,J){const fe=new kT(J),Ie=new a1(U,fe,H);return R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return n1(yield Lv(R),Ie)})),()=>{fe.ec(),R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i1(yield Lv(R),Ie)}))}}(Ci(E),T,m,b)}function Bv(n,t){return function(e,r){const i=new ji;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,t,e){return h1.apply(this,arguments)}(yield U1(e),r,i)})),i.promise}(Ci(n),t)}function Q1(n,t,e){const r=e.docs.get(t._key),i=new Ig(n);return new rh(n,i,t._key,r,new Dg(e.hasPendingWrites,e.fromCache),t.converter)}class o$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Cg(t)}get(t){const e=gp(t,this._firestore),r=new K6(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return rt();const c=i[0];if(c.isFoundDocument())return new IE(this._firestore,r,c.key,c,e.converter);if(c.isNoDocument())return new IE(this._firestore,r,e._key,null,e.converter);throw rt()})}set(t,e,r){const i=gp(t,this._firestore),c=UT(i.converter,e,r),h=LT(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(t,e,r,...i){const c=gp(t,this._firestore);let h;return h="string"==typeof(e=(0,$t.m9)(e))||e instanceof nh?q1(this._dataReader,"Transaction.update",c._key,e,r,i):z1(this._dataReader,"Transaction.update",c._key,e),this._transaction.update(c._key,h),this}delete(t){const e=gp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=gp(t,this._firestore),r=new Ig(this._firestore);return super.get(t).then(i=>new rh(this._firestore,r,e._key,i._document,new Dg(!1,!1),e.converter))}}function J1(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function kB(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function RB(){if("undefined"==typeof atob)throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){lv=Ud.SDK_VERSION,(0,Ud._registerComponent)(new wC.wA("firestore",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),c=new gr(i,new $3(e.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC")),(0,Ud.registerVersion)(GL,"3.3.0",n),(0,Ud.registerVersion)(GL,"3.3.0","esm2017")}();class AE{constructor(t){this._delegate=t}static fromBase64String(t){return RB(),new AE(Tu.fromBase64String(t))}static fromUint8Array(t){return kB(),new AE(Tu.fromUint8Array(t))}toBase64(){return RB(),this._delegate.toBase64()}toUint8Array(){return kB(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function X1(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class g${enableIndexedDbPersistence(t,e){return function(n,t){uB(n=an(n,gr));const e=Ci(n),r=n._freezeSettings(),i=new O1;return cB(e,i,new z2(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){uB(n=an(n,gr));const t=Ci(n),e=n._freezeSettings(),r=new O1;return cB(t,r,new i6(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new ke(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ji;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(e=(0,me.Z)(function*(r){if(!dc.bt())return Promise.resolve();const i=r+"main";yield dc.delete(i)}),function(r){return e.apply(this,arguments)})(IO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class OB{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vv||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&XC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var i;const c=(n=an(n,EE))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==t&&XC("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=hs.MOCK_USER;else{h=(0,$t.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ke(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new hs(b)}n._credentials=new H3(new zL(h,m))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield W2(n),e=yield K2(n);return t.setNetworkEnabled(!0),function(r){const i=Be(r);return i.Wr.delete(0),wE(i)}(e)}))}(Ci(n=an(n,gr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield W2(n),e=yield K2(n);return t.setNetworkEnabled(!1),(r=(0,me.Z)(function*(i){const c=Be(i);c.Wr.add(0),yield xv(c),c.Hr.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(Ci(n=an(n,gr)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,eB("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new ji;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,t){return _1.apply(this,arguments)}(yield U1(t),e)})),e.promise}(Ci(n=an(n,gr)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new kT(t);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Lv(n),i=e,Be(r).so.add(i),void i.next();var r,i})),()=>{e.ec(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Lv(n),i=e,void Be(r).so.delete(i);var r,i}))}}(Ci(n=an(n,gr)),$1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Uv(this,sB(this._delegate,t))}catch(e){throw Js(e,"collection()","Firestore.collection()")}}doc(t){try{return new ll(this,NT(this._delegate,t))}catch(e){throw Js(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Xs(this,function(n,t){if(n=an(n,EE),H1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Os(n,null,(e=t,new Jd(gn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Js(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(i=n,RT(i).then(c=>c.datastore));var i;new a6(n.asyncQueue,r,t,e).run()})),e.promise}(Ci(n=an(n,gr)),e=>t(new o$(n,e)))}(this._delegate,e=>t(new NB(this,e)))}batch(){return Ci(this._delegate),new PB(new TB(this._delegate,t=>Bv(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Ci(n=an(n,gr)),r=new w6;return function(n,t,e,r){const i=function(c,h){let m;return m="string"==typeof c?(new TextEncoder).encode(c):c,b=function(b,E){if(b instanceof Uint8Array)return q2(b,E);if(b instanceof ArrayBuffer)return q2(new Uint8Array(b),E);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new s6(b,h);var b}(e,bE(t));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,t,e){const r=Be(n);var i;(i=(0,me.Z)(function*(c,h,m){try{const b=yield h.getMetadata();if(yield function(U,H){const J=Be(U),fe=Gi(H.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Ie=>J.Je.getBundleMetadata(Ie,H.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(fe)>=0)}(c.localStore,b))return yield h.close(),void m._completeWith((U=b,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));m._updateProgress(P2(b));const E=new FH(b,c.localStore,h.N);let T=yield h.zo();for(;T;){const U=yield E.mo(T);U&&m._updateProgress(U),T=yield h.zo()}const R=yield E.complete();yield th(c,R.En,void 0),yield function(U,H){const J=Be(U);return J.persistence.runTransaction("Save bundle","readwrite",fe=>J.Je.saveBundleMetadata(fe,H))}(c.localStore,b),m._completeWith(R.progress)}catch(b){XC("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var U}),function(c,h,m){return i.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield U1(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(e,r){const i=Be(e);return i.persistence.runTransaction("Get named query","readonly",c=>i.Je.getNamedQuery(c,r))}(yield B1(n),t)}))}(Ci(n=an(n,gr)),t).then(e=>e?new Os(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Xs(this,e):null)}}class jT extends K1{constructor(t){super(),this.firestore=t}convertBytes(t){return new AE(new Tu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ll.forKey(e,this.firestore,null)}}class NB{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new jT(t)}get(t){const e=Tg(t);return this._delegate.get(e).then(r=>new ME(this._firestore,new rh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=Tg(t);return r?(J1("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const c=Tg(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,r,...i),this}delete(t){const e=Tg(t);return this._delegate.delete(e),this}}class PB{constructor(t){this._delegate=t}set(t,e,r){const i=Tg(t);return r?(J1("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const c=Tg(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,r,...i),this}delete(t){const e=Tg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Sg{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new SE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new xE(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Sg.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let c=i.get(e);return c||(c=new Sg(t,new jT(t),e),i.set(e,c)),c}}Sg.INSTANCES=new WeakMap;class ll{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jT(t)}static forPath(t,e,r){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ll(e,new Xn(e._delegate,r,new et(t)))}static forKey(t,e,r){return new ll(e,new Xn(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Uv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Uv(this.firestore,sB(this._delegate,t))}catch(e){throw Js(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,$t.m9)(t))instanceof Xn&&oB(this._delegate,t)}set(t,e){e=J1("DocumentReference.set",e);try{return e?AB(this._delegate,t,e):AB(this._delegate,t)}catch(r){throw Js(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?MB(this._delegate,t):MB(this._delegate,t,e,...r)}catch(i){throw Js(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Bv(an(n.firestore,gr),[new uE(n._key,ti.none())])}(this._delegate)}onSnapshot(...t){const e=FB(t),r=LB(t,i=>new ME(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xB(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=an(n,Xn);const t=an(n.firestore,gr),e=Ci(t),r=new Ig(t);return function(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,c,h){try{const m=yield function(b,E){const T=Be(b);return T.persistence.runTransaction("read document","readonly",R=>T.Qn.An(R,E))}(i,c);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new ke(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Ov(m,`Failed to get document '${c} from cache`);h.reject(b)}}),function(i,c,h){return r.apply(this,arguments)})(yield B1(n),t,e);var r})),e.promise}(e,n._key).then(i=>new rh(t,r,n._key,i,new Dg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=an(n,Xn);const t=an(n.firestore,gr);return Q2(Ci(t),n._key,{source:"server"}).then(e=>Q1(t,n,e))}(this._delegate):function(n){n=an(n,Xn);const t=an(n.firestore,gr);return Q2(Ci(t),n._key).then(e=>Q1(t,n,e))}(this._delegate),e.then(r=>new ME(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new ll(this.firestore,this._delegate.withConverter(t?Sg.getInstance(this.firestore,t):null))}}function Js(n,t,e){return n.message=n.message.replace(t,e),n}function FB(n){for(const t of n)if("object"==typeof t&&!X1(t))return t;return{}}function LB(n,t){var e,r;let i;return i=X1(n[0])?n[0]:X1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(t(c))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ME{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ll(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return yB(this._delegate,t._delegate)}}class xE extends ME{data(t){const e=this._delegate.data(t);return function(n,t){n||rt()}(void 0!==e),e}}class Xs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jT(t)}where(t,e,r){try{return new Xs(this.firestore,mp(this._delegate,function(n,t,e){const r=t,i=BT("where",n);return new U6(i,r,e)}(t,e,r)))}catch(i){throw Js(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Xs(this.firestore,mp(this._delegate,function(n,t="asc"){const e=t,r=BT("orderBy",n);return new H6(r,e)}(t,e)))}catch(r){throw Js(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Xs(this.firestore,mp(this._delegate,function(n){return rB("limit",n),new bB("limit",n,"F")}(t)))}catch(e){throw Js(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Xs(this.firestore,mp(this._delegate,function(n){return rB("limitToLast",n),new bB("limitToLast",n,"L")}(t)))}catch(e){throw Js(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Xs(this.firestore,mp(this._delegate,function(...n){return new wB("startAt",n,!0)}(...t)))}catch(e){throw Js(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Xs(this.firestore,mp(this._delegate,function(...n){return new wB("startAfter",n,!1)}(...t)))}catch(e){throw Js(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Xs(this.firestore,mp(this._delegate,function(...n){return new CB("endBefore",n,!0)}(...t)))}catch(e){throw Js(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Xs(this.firestore,mp(this._delegate,function(...n){return new CB("endAt",n,!1)}(...t)))}catch(e){throw Js(e,"endAt()","Query.endAt()")}}isEqual(t){return aB(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=an(n,Os);const t=an(n.firestore,gr),e=Ci(t),r=new Ig(t);return function(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,c,h){try{const m=yield IT(i,c,!0),b=new V2(c,m.Gn),E=b.bo(m.documents),T=b.applyChanges(E,!1);h.resolve(T.snapshot)}catch(m){const b=Ov(m,`Failed to execute query '${c} against cache`);h.reject(b)}}),function(i,c,h){return r.apply(this,arguments)})(yield B1(n),t,e);var r})),e.promise}(e,n._query).then(i=>new pp(t,r,n,i))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=an(n,Os);const t=an(n.firestore,gr),e=Ci(t),r=new Ig(t);return J2(e,n._query,{source:"server"}).then(i=>new pp(t,r,n,i))}(this._delegate):function(n){n=an(n,Os);const t=an(n.firestore,gr),e=Ci(t),r=new Ig(t);return vB(n._query),J2(e,n._query).then(i=>new pp(t,r,n,i))}(this._delegate),e.then(r=>new eN(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=FB(t),r=LB(t,i=>new eN(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xB(this._delegate,e,r)}withConverter(t){return new Xs(this.firestore,this._delegate.withConverter(t?Sg.getInstance(this.firestore,t):null))}}class y${constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new xE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new xE(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new y$(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new xE(this._firestore,r))})}isEqual(t){return yB(this._delegate,t._delegate)}}class Uv extends Xs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ll(this.firestore,t):null}doc(t){try{return new ll(this.firestore,void 0===t?NT(this._delegate):NT(this._delegate,t))}catch(e){throw Js(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=an(n.firestore,gr),r=NT(n),i=UT(n.converter,t);return Bv(e,[LT(Cg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ti.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new ll(this.firestore,e))}isEqual(t){return oB(this._delegate,t._delegate)}withConverter(t){return new Uv(this.firestore,this._delegate.withConverter(t?Sg.getInstance(this.firestore,t):null))}}function Tg(n){return an(n,Xn)}class tN{constructor(...t){this._delegate=new nh(...t)}static documentId(){return new tN(fs.keyField().canonicalString())}isEqual(t){return(t=(0,$t.m9)(t))instanceof nh&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ag{constructor(t){this._delegate=t}static serverTimestamp(){const t=new G1("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Ag(t)}static delete(){const t=new DE("deleteField");return t._methodName="FieldValue.delete",new Ag(t)}static arrayUnion(...t){const e=function(...n){return new N6("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ag(e)}static arrayRemove(...t){const e=function(...n){return new P6("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ag(e)}static increment(t){const e=function(n){return new F6("increment",n)}(t);return e._methodName="FieldValue.increment",new Ag(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const v$={Firestore:OB,GeoPoint:PT,Timestamp:Hi,Blob:AE,Transaction:NB,WriteBatch:PB,DocumentReference:ll,DocumentSnapshot:ME,Query:Xs,QueryDocumentSnapshot:xE,QuerySnapshot:eN,CollectionReference:Uv,FieldPath:tN,FieldValue:Ag,setLogLevel:function(n){!function(n){ip.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function VB(n,t){return t?dr(()=>n,t):dr(()=>n)}!function(n){(function(n,t){n.INTERNAL.registerComponent(new wC.wA("firestore-compat",e=>((t,e)=>new OB(t,e,new g$))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},v$)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(_L.Z);var nN=F(9673);F(2329);const UB=new Map,S$={activated:!1,tokenObservers:[]},T$={initialized:!1,enabled:!1};function Ns(n){return UB.get(n)||S$}function hc(n,t){UB.set(n,t)}function $T(){return T$}class k${constructor(t,e,r,i,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,me.Z)(function*(){e.stop();try{e.pending=new $t.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new $t.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const cl=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function HB(n){if(!Ns(n).activated)throw cl.create("use-before-activation",{appName:n.name})}function sN(n,t){return oN.apply(this,arguments)}function oN(){return(oN=(0,me.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},i=e.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:r};let h,m;try{h=yield fetch(n,c)}catch(R){throw cl.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==h.status)throw cl.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(R){throw cl.create("fetch-parse-error",{originalErrorMessage:R.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw cl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const E=1e3*Number(b[1]),T=Date.now();return{token:m.attestationToken,expireTimeMillis:T+E,issuedAtTimeMillis:T}})).apply(this,arguments)}function L$(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const kE="firebase-app-check-store";let zT=null;function GB(){return zT||(zT=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(cl.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(kE,{keyPath:"compositeKey"})}}}catch(e){t(cl.create("storage-open",{originalErrorMessage:e.message}))}}),zT)}function aN(){return(aN=(0,me.Z)(function*(n,t){const r=(yield GB()).transaction(kE,"readwrite"),c=r.objectStore(kE).put({compositeKey:n,value:t});return new Promise((h,m)=>{c.onsuccess=b=>{h()},r.onerror=b=>{var E;m(cl.create("storage-set",{originalErrorMessage:null===(E=b.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const qT=new gu.Yd("@firebase/app-check");function YB(n,t){return(0,$t.hl)()?function(n,t){return function(n,t){return aN.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{qT.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function WB(){return $T().enabled}function KB(){return dN.apply(this,arguments)}function dN(){return(dN=(0,me.Z)(function*(){const n=$T();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Z$={error:"UNKNOWN_ERROR"};function Y$(n){return $t.US.encodeString(JSON.stringify(n),!1)}function ZT(n){return hN.apply(this,arguments)}function hN(){return(hN=(0,me.Z)(function*(n,t=!1){const e=n.app;HB(e);const r=Ns(e);let c,h,i=r.token;if(!i){const m=yield r.cachedTokenPromise;m&&RE(m)&&(i=m,hc(e,Object.assign(Object.assign({},r),{token:i})),JB(e,{token:i.token}))}if(!t&&i&&RE(i))return{token:i.token};if(WB()){const m=yield sN(L$(e,yield KB()),n.platformLoggerProvider);return yield YB(e,m),hc(e,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{i=yield r.provider.getToken()}catch(m){qT.error(m),c=m}return i?(h={token:i.token},hc(e,Object.assign(Object.assign({},r),{token:i})),yield YB(e,i)):h=K$(c),JB(e,h),h})).apply(this,arguments)}function fN(n,t){const e=Ns(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),hc(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function JB(n,t){const e=Ns(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(i){}}function RE(n){return n.expireTimeMillis-Date.now()>0}function K$(n){return{token:Y$(Z$),error:n}}class Q${constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ns(this.app);for(const e of t)fN(this.app,e.next);return Promise.resolve()}}const iU="app-check-internal";(0,Ud._registerComponent)(new wC.wA("app-check",n=>function(n,t){return new Q$(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(iU).initialize()})),(0,Ud._registerComponent)(new wC.wA(iU,n=>function(n){return{getToken:t=>ZT(n,t),addTokenListener:t=>function(n,t,e,r){const{app:i}=n,c=Ns(i),h={next:e,error:r,type:t},m=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]});if(!m.tokenRefresher){const b=function(n){const{app:t}=n;return new k$((0,me.Z)(function*(){let r;if(r=Ns(t).token?yield ZT(n,!0):yield ZT(n),r.error)throw r.error}),()=>!0,()=>{const e=Ns(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);m.tokenRefresher=b}if(!m.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&m.tokenRefresher.start(),c.token&&RE(c.token)){const b=c.token;Promise.resolve().then(()=>e({token:b.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(b=>{b&&RE(b)&&e({token:b.token})}).catch(()=>{});hc(i,m)}(n,"INTERNAL",t),removeTokenListener:t=>fN(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ud.registerVersion)("@firebase/app-check","0.5.1");class _N{constructor(){return(0,Qr.vb)("app-check")}}"undefined"!=typeof window&&window;var vN=F(7841);const oU=new a.OlP("angularfire2.auth.use-emulator"),aU=new a.OlP("angularfire2.auth.settings"),lU=new a.OlP("angularfire2.auth.tenant-id"),cU=new a.OlP("angularfire2.auth.langugage-code"),uU=new a.OlP("angularfire2.auth.use-device-language"),dU=new a.OlP("angularfire.auth.persistence"),hU=(n,t,e,r,i,c,h,m)=>(0,pr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=i,c&&b.useDeviceLanguage(),h)for(const[E,T]of Object.entries(h))b.settings[E]=T;return m&&b.setPersistence(m),b},[e,r,i,c,h,m]);let WT=(()=>{class n{constructor(e,r,i,c,h,m,b,E,T,R,U,H){const J=new Ge.xQ,fe=(0,Le.of)(void 0).pipe((0,_m.QV)(h.outsideAngular),dr(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,941)))),(0,nt.U)(()=>(0,pr.on)(e,c,r)),(0,nt.U)(Ie=>hU(Ie,c,m,E,T,R,b,U)),Ws({bufferSize:1,refCount:!1}));if(bc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Le.of)(null);else{fe.pipe(Rn()).subscribe();const Ue=fe.pipe(dr(ot=>ot.getRedirectResult().then(Sn=>Sn,()=>null)),Qr.iC,Ws({bufferSize:1,refCount:!1})),st=fe.pipe(dr(ot=>new _n.y(Sn=>({unsubscribe:c.runOutsideAngular(()=>ot.onAuthStateChanged(_r=>Sn.next(_r),_r=>Sn.error(_r),()=>Sn.complete()))})))),Mt=fe.pipe(dr(ot=>new _n.y(Sn=>({unsubscribe:c.runOutsideAngular(()=>ot.onIdTokenChanged(_r=>Sn.next(_r),_r=>Sn.error(_r),()=>Sn.complete()))}))));this.authState=Ue.pipe(VB(st),(0,nN.R)(h.outsideAngular),(0,_m.QV)(h.insideAngular)),this.user=Ue.pipe(VB(Mt),(0,nN.R)(h.outsideAngular),(0,_m.QV)(h.insideAngular)),this.idToken=this.user.pipe(dr(ot=>ot?(0,pn.D)(ot.getIdToken()):(0,Le.of)(null))),this.idTokenResult=this.user.pipe(dr(ot=>ot?(0,pn.D)(ot.getIdTokenResult()):(0,Le.of)(null))),this.credential=(0,uu.T)(Ue,J,this.authState.pipe(wn(ot=>!ot))).pipe((0,nt.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,nN.R)(h.outsideAngular),(0,_m.QV)(h.insideAngular))}return(0,pr.pX)(this,fe,c,{spy:{apply:(Ie,Ue,st)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&st.then(Mt=>J.next(Mt))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(pr.Dh),a.LFG(pr.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qr.HU),a.LFG(oU,8),a.LFG(aU,8),a.LFG(lU,8),a.LFG(cU,8),a.LFG(uU,8),a.LFG(dU,8),a.LFG(_N,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_G=(()=>{class n{constructor(){vN.Z.registerVersion("angularfire",Qr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[WT]}),n})();function fU(n,t){return function(n,t=Ub.z){return new _n.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function bN(n,t){return fU(n,t).pipe((0,nt.U)(e=>({payload:e,type:"query"})))}function KT(n,t){return bN(n,t).pipe(Pr(void 0),z_(),(0,nt.U)(([e,r])=>{const i=r.payload.docChanges(),c=i.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=i.find(T=>T.doc.ref.isEqual(h.ref)),E=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&E&&JSON.stringify(E.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),c}))}function pU(n,t,e){return KT(n,e).pipe(Vc((r,i)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return wN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return wN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return wN(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),t),[]),Ss(),(0,nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function wN(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function mU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gU{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=KT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,nt.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(Pr(void 0),z_(),wn(([r,i])=>i.length>0||!r),(0,nt.U)(([r,i])=>i),Qr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Vc((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=mU(t);return pU(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(t={}){return bN(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),Qr.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(Qr.iC)}add(t){return this.ref.add(t)}doc(t){return new _U(this.ref.doc(t),this.afs)}}class _U{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:c}=bU(r,e);return new gU(i,c,this.afs)}snapshotChanges(){return function(n,t){return fU(n,t).pipe(Pr(void 0),z_(),(0,nt.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,pn.D)(this.ref.get(t)).pipe(Qr.iC)}}class CG{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?KT(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),wn(e=>e.length>0),Qr.iC):KT(this.query,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Vc((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=mU(t);return pU(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(t={}){return bN(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),Qr.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(Qr.iC)}}const yU=new a.OlP("angularfire2.enableFirestorePersistence"),vU=new a.OlP("angularfire2.firestore.persistenceSettings"),EG=new a.OlP("angularfire2.firestore.settings"),DG=new a.OlP("angularfire2.firestore.use-emulator");function bU(n,t=(e=>e)){return{query:t(n),ref:n}}let wU=(()=>{class n{constructor(e,r,i,c,h,m,b,E,T,R,U,H,J,fe,Ie,Ue,st){this.schedulers=b;const Mt=(0,pr.on)(e,m,r),ot=T;R&&hU(Mt,m,U,J,fe,Ie,H,Ue),[this.firestore,this.persistenceEnabled$]=(0,pr.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const Sn=m.runOutsideAngular(()=>Mt.firestore());if(c&&Sn.settings(c),ot&&Sn.useEmulator(...ot),i&&!bc(h)){const _r=()=>{try{return(0,pn.D)(Sn.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(gs){return"undefined"!=typeof console&&console.warn(gs),(0,Le.of)(!1)}};return[Sn,m.runOutsideAngular(_r)]}return[Sn,(0,Le.of)(!1)]},[c,ot,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:h}=bU(i,r),m=this.schedulers.ngZone.run(()=>c);return new gU(m,h,this)}collectionGroup(e,r){const i=r||(h=>h),c=this.firestore.collectionGroup(e);return new CG(i(c),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new _U(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(pr.Dh),a.LFG(pr.xv,8),a.LFG(yU,8),a.LFG(EG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qr.HU),a.LFG(vU,8),a.LFG(DG,8),a.LFG(WT,8),a.LFG(oU,8),a.LFG(aU,8),a.LFG(lU,8),a.LFG(cU,8),a.LFG(uU,8),a.LFG(dU,8),a.LFG(_N,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IG=(()=>{class n{constructor(){vN.Z.registerVersion("angularfire",Qr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:yU,useValue:!0},{provide:vU,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[wU]}),n})();var SG=F(205),TG=F(8819);class CU{}class ih{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),c=i.toLowerCase(),h=e.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ih?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ih;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ih?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const c=t.value;if(c){let h=this.headers.get(e);if(!h)return;h=h.filter(m=>-1===c.indexOf(m)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class AG{encodeKey(t){return DU(t)}encodeValue(t){return DU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const xG=/%(\d[a-f0-9])/gi,kG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function DU(n){return encodeURIComponent(n).replace(xG,(t,e)=>{var r;return null!==(r=kG[e])&&void 0!==r?r:t})}function IU(n){return`${n}`}class _p{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new AG,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[h,m]=-1==c?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,c)),t.decodeValue(i.slice(c+1))],b=e.get(h)||[];b.push(m),e.set(h,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _p({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(IU(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(IU(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class RG{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function SU(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function TU(n){return"undefined"!=typeof Blob&&n instanceof Blob}function AU(n){return"undefined"!=typeof FormData&&n instanceof FormData}class OE{constructor(t,e,r,i){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new ih),this.context||(this.context=new RG),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+h}}else this.params=new _p,this.urlWithParams=e}serializeBody(){return null===this.body?null:SU(this.body)||TU(this.body)||AU(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _p?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AU(this.body)?null:TU(this.body)?this.body.type||null:SU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _p?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,c=t.responseType||this.responseType,h=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let E=t.headers||this.headers,T=t.params||this.params;const R=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(E=Object.keys(t.setHeaders).reduce((U,H)=>U.set(H,t.setHeaders[H]),E)),t.setParams&&(T=Object.keys(t.setParams).reduce((U,H)=>U.set(H,t.setParams[H]),T)),new OE(r,i,h,{params:T,headers:E,context:R,reportProgress:b,responseType:c,withCredentials:m})}}var ri=(()=>((ri=ri||{})[ri.Sent=0]="Sent",ri[ri.UploadProgress=1]="UploadProgress",ri[ri.ResponseHeader=2]="ResponseHeader",ri[ri.DownloadProgress=3]="DownloadProgress",ri[ri.Response=4]="Response",ri[ri.User=5]="User",ri))();class QT extends class{constructor(t,e=200,r="OK"){this.headers=t.headers||new ih,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ri.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new QT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function DN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let JT=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let c;if(e instanceof OE)c=e;else{let b,E;b=i.headers instanceof ih?i.headers:new ih(i.headers),i.params&&(E=i.params instanceof _p?i.params:new _p({fromObject:i.params})),c=new OE(e,r,void 0!==i.body?i.body:null,{headers:b,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const h=(0,Le.of)(c).pipe(Bc(b=>this.handler.handle(b)));if(e instanceof OE||"events"===i.observe)return h;const m=h.pipe(wn(b=>b instanceof QT));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe((0,nt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,nt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,nt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return m.pipe((0,nt.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new _p).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,DN(i,r))}post(e,r,i={}){return this.request("POST",e,DN(i,r))}put(e,r,i={}){return this.request("PUT",e,DN(i,r))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(CU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const jG=["*"];function NU(n){return Error(`Unable to find icon with the name "${n}"`)}function PU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function FU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Mg{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let XT=(()=>{class n{constructor(e,r,i,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,c){return this._addSvgIconConfig(e,r,new Mg(i,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,c){const h=this._sanitizer.sanitize(a.q3G.HTML,i);if(!h)throw FU(i);return this._addSvgIconConfig(e,r,new Mg("",h,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Mg(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw FU(r);return this._addSvgIconSetConfig(e,new Mg("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!r)throw PU(e);const i=this._cachedIconsByUrl.get(r);return i?(0,Le.of)(eA(i)):this._loadSvgIconFromConfig(new Mg(e,null)).pipe((0,Nn.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,nt.U)(c=>eA(c)))}getNamedSvgIcon(e,r=""){const i=LU(r,e);let c=this._svgIconConfigs.get(i);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(i,c),this._getSvgFromConfig(c);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(e,h):(0,SG._)(NU(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Le.of)(eA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,nt.U)(r=>eA(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?(0,Le.of)(i):gb(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(qs(m=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(E)),(0,Le.of)(null)})))).pipe((0,nt.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,r);if(!h)throw NU(e);return h}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const c=r[i];if(c.svgText&&c.svgText.indexOf(e)>-1){const h=this._svgElementFromConfig(c),m=this._extractSvgIconFromSet(h,e,c.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Nn.b)(r=>e.svgText=r),(0,nt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Le.of)(null):this._fetchIcon(e).pipe((0,Nn.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const h=c.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,i);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),i);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(h),this._setSvgAttributes(m,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let c=0;c<i.length;c++){const{name:h,value:m}=i[c];"id"!==h&&r.setAttribute(h,m)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:i,options:c}=e,h=null!==(r=null==c?void 0:c.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const m=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!m)throw PU(i);const b=this._inProgressUrlFetches.get(m);if(b)return b;const E=this._httpClient.get(m,{responseType:"text",withCredentials:h}).pipe(Fh(()=>this._inProgressUrlFetches.delete(m)),(0,TG.B)());return this._inProgressUrlFetches.set(m,E),E}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(LU(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const c=this._resolvers[i](r,e);if(c)return GG(c)?new Mg(c.url,null,c.options):new Mg(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(JT,8),a.LFG(co),a.LFG(ne,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(JT,8),a.LFG(co),a.LFG(ne,8),a.LFG(a.qLn))},token:n,providedIn:"root"}),n})();function eA(n){return n.cloneNode(!0)}function LU(n,t){return n+":"+t}function GG(n){return!(!n.url||!n.options)}const zG=Vd(class{constructor(n){this._elementRef=n}}),qG=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,a.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),VU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],WG=VU.map(n=>`[${n}]`).join(", "),KG=/^url\(['"]?#(.*?)['"]?\)$/;let NE=(()=>{class n extends zG{constructor(e,r,i,c,h){super(e),this._iconRegistry=r,this._location=c,this._errorHandler=h,this._inline=!1,this._currentIconFetch=Cn.w.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Lt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let c=0;c<r.length;c++)r[c].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,c)=>{i.forEach(h=>{c.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(WG),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)VU.forEach(h=>{const m=r[c],b=m.getAttribute(h),E=b?b.match(KG):null;if(E){let T=i.get(m);T||(T=[],i.set(m,T)),T.push({name:h,value:E[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(wr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(XT),a.$8M("aria-hidden"),a.Y36(qG),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:jG,decls:1,vars:0,template:function(e,r){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[En],En]}),n})();function QG(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("",e.msg.getErrorMessage(e.signinForm.controls.email)," ")}}function JG(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("",e.msg.getErrorMessage(e.signinForm.controls.psw)," ")}}function XG(n,t){1&n&&(a.TgZ(0,"button",10),a._uU(1,"Forgot your Password?"),a.qZA())}let ez=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._auth=r,this.msg=i,this.hide=!0,this.signinForm=new ra({email:new Vr("",[Yt.required,Yt.email]),psw:new Vr("",[Yt.required,Yt.minLength(8)])})}ngOnInit(){}onNoClick(){this.dialogRef.close()}onOkClick(){var e=this;return(0,me.Z)(function*(){if(e.signinForm.valid)try{const r=yield e._auth.signIn(e.signinForm.value);e.dialogRef.close(r)}catch(r){e.msg.show("auth/wrong-password"===r.code?"Wrong Password! Try Again.":"auth/user-not-found"===r.code?"User not found!":r.message)}})()}onStrengthChanged(e){console.log("password strength = ",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($f),a.Y36(xg),a.Y36(Ym))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-signin"]],decls:23,vars:9,consts:[[1,"signin-container",3,"formGroup"],["appearance","fill"],["formControlName","email","matInput","","type","email","required",""],[4,"ngIf"],["formControlName","psw","matInput","","required","","minlength","8",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"d-flex--justify_between"],["mat-button","",3,"click"],["mat-raised-button","","cdkFocusInitial","",3,"disabled","click"],["mat-raised-button","",4,"ngIf"],["mat-raised-button",""]],template:function(e,r){1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div"),a.TgZ(2,"div"),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Enter your Email"),a.qZA(),a._UZ(6,"input",2),a.YNc(7,QG,2,1,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(8,"div"),a.TgZ(9,"mat-form-field",1),a.TgZ(10,"mat-label"),a._uU(11,"Enter your password"),a.qZA(),a._UZ(12,"input",4),a.TgZ(13,"button",5),a.NdJ("click",function(){return r.hide=!r.hide}),a.TgZ(14,"mat-icon"),a._uU(15),a.qZA(),a.qZA(),a.YNc(16,JG,2,1,"mat-error",3),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",6),a.TgZ(18,"button",7),a.NdJ("click",function(){return r.onNoClick()}),a._uU(19,"No Thanks"),a.qZA(),a.TgZ(20,"button",8),a.NdJ("click",function(){return r.onOkClick()}),a._uU(21,"Ok"),a.qZA(),a.qZA(),a.YNc(22,XG,2,0,"button",9),a.qZA()),2&e&&(a.Q6J("formGroup",r.signinForm),a.xp6(7),a.Q6J("ngIf",r.signinForm.controls.email.invalid),a.xp6(5),a.Q6J("type",r.hide?"password":"text"),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",r.hide),a.xp6(2),a.Oqu(r.hide?"visibility_off":"visibility"),a.xp6(1),a.Q6J("ngIf",r.signinForm.controls.psw.invalid),a.xp6(4),a.Q6J("disabled",r.signinForm.invalid),a.xp6(2),a.Q6J("ngIf",!1))},directives:[hm,M_,Br,gC,zf,zl,Zf,im,Za,Td,xn,mm,Ks,aR,NE,Wm],styles:[".signin-right-align[_ngcontent-%COMP%]{text-align:right}input.signin-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.signin-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.signin-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})();function tz(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("",e.msg.getErrorMessage(e.signupForm.controls.email)," ")}}function nz(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("",e.msg.getErrorMessage(e.signupForm.controls.psw)," ")}}function rz(n,t){if(1&n&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.msg.getErrorMessage(e.signupForm.controls.confirm_psw),"")}}let iz=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._auth=r,this.msg=i,this.hide=!0,this.signupForm=new ra({email:new Vr("",[Yt.required,Yt.email]),confirm_psw:new Vr("",[Yt.required,this.passwordNotmatching()]),psw:new Vr("",[Yt.required,Yt.minLength(8)])})}ngOnInit(){}passwordNotmatching(){return e=>{var r;const i=null===(r=e.parent)||void 0===r?void 0:r.get("psw");return(null==i?void 0:i.value)!==(null==e?void 0:e.value)&&(null==i?void 0:i.dirty)&&(null==e?void 0:e.dirty)?{passwordNotMatching:!0}:null}}onNoClick(){this.dialogRef.close()}onOkClick(){var e=this;return(0,me.Z)(function*(){if(e.signupForm.valid)try{const r=yield e._auth.signUp(e.signupForm.value);e.dialogRef.close(r)}catch(r){e.msg.show("auth/email-already-in-use"===r.code?"Email already in Use!":r.message)}})()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($f),a.Y36(xg),a.Y36(Ym))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-signup"]],decls:32,vars:13,consts:[[1,"signin-container",3,"formGroup"],["appearance","fill"],["formControlName","email","matInput","","type","email","required",""],[4,"ngIf"],["formControlName","psw","matInput","","required","",3,"type"],["psw",""],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","confirm_psw","matInput","","required","",3,"type"],[1,"d-flex--justify_between"],["mat-button","",3,"click"],["mat-raised-button","","cdkFocusInitial","",3,"disabled","click"]],template:function(e,r){1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div"),a.TgZ(2,"div"),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Enter your Email"),a.qZA(),a._UZ(6,"input",2),a.YNc(7,tz,2,1,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(8,"div"),a.TgZ(9,"mat-form-field",1),a.TgZ(10,"mat-label"),a._uU(11,"Enter your password"),a.qZA(),a._UZ(12,"input",4,5),a.TgZ(14,"button",6),a.NdJ("click",function(){return r.hide=!r.hide}),a.TgZ(15,"mat-icon"),a._uU(16),a.qZA(),a.qZA(),a.YNc(17,nz,2,1,"mat-error",3),a.qZA(),a.qZA(),a.TgZ(18,"div"),a.TgZ(19,"mat-form-field",1),a.TgZ(20,"mat-label"),a._uU(21,"Confirm your password"),a.qZA(),a._UZ(22,"input",7),a.TgZ(23,"button",6),a.NdJ("click",function(){return r.hide=!r.hide}),a.TgZ(24,"mat-icon"),a._uU(25),a.qZA(),a.qZA(),a.YNc(26,rz,2,1,"mat-error",3),a.qZA(),a.qZA(),a.qZA(),a.TgZ(27,"div",8),a.TgZ(28,"button",9),a.NdJ("click",function(){return r.onNoClick()}),a._uU(29,"No Thanks"),a.qZA(),a.TgZ(30,"button",10),a.NdJ("click",function(){return r.onOkClick()}),a._uU(31,"Ok"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",r.signupForm),a.xp6(7),a.Q6J("ngIf",r.signupForm.controls.email.invalid),a.xp6(5),a.Q6J("type",r.hide?"password":"text"),a.xp6(2),a.uIk("aria-label","Hide password")("aria-pressed",r.hide),a.xp6(2),a.Oqu(r.hide?"visibility_off":"visibility"),a.xp6(1),a.Q6J("ngIf",r.signupForm.controls.psw.invalid),a.xp6(5),a.Q6J("type",r.hide?"password":"text"),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",r.hide),a.xp6(2),a.Oqu(r.hide?"visibility_off":"visibility"),a.xp6(1),a.Q6J("ngIf",r.signupForm.controls.confirm_psw.invalid),a.xp6(4),a.Q6J("disabled",r.signupForm.invalid))},directives:[hm,M_,Br,gC,zf,zl,Zf,im,Za,Td,xn,Ks,aR,NE,Wm],styles:[".singup-right-align[_ngcontent-%COMP%]{text-align:right}input.singup-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.singup-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.singup-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})(),sz=(()=>{class n{constructor(e,r){this._router=e,this._route=r}ngOnInit(){}to(e){return this._router.navigateByUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(os),a.LFG(Vl))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xg=(()=>{class n{constructor(e,r,i,c){this._auth=e,this.dialog=r,this._msg=i,this._nav=c,this.dummies={user:{id:"sdlkjflskpoadks\xf6lfdsmfmsdmfs",earningsPerHour:0,setUp:!1,rooms:[]}},this._auth.onAuthStateChanged(h=>{this.user=h,this.user||this._nav.to("")},h=>{this._msg.show("AUTH_SERVICE::STATE_CHANGE::ERROR::"+h)})}ngOnInit(){}openSignIn(){this.dialog.open(ez).afterClosed().subscribe(r=>{r&&this._msg.show("Welcome Back!")})}openSignUp(){this.dialog.open(iz).afterClosed().subscribe(r=>{r&&this._msg.show("Welcome!")})}signIn(e){return this._auth.signInWithEmailAndPassword(e.email,e.psw)}signUp(e){return this._auth.createUserWithEmailAndPassword(e.email,e.psw)}signOut(){this._auth.signOut().then(()=>{this._msg.show("Have a nice Day!")}).catch(e=>{this._msg.show(e.message)})}singInWithGoogle(){var e=this;return(0,me.Z)(function*(){const r=new vN.Z.auth.GoogleAuthProvider;yield e._auth.signInWithPopup(r)})()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(WT),a.LFG(Py),a.LFG(Ym),a.LFG(sz))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UU=(()=>{class n{constructor(e,r,i,c){this._store=e,this._dialog=r,this._msg=i,this._auth=c}ngOnInit(){}getProfile(){var e=this;return(0,me.Z)(function*(){var r;return e._store.collection("profiles").doc(null===(r=e._auth.user)||void 0===r?void 0:r.uid).valueChanges({idField:"customId"}).pipe(Rn()).toPromise()})()}setProfile(){var e=this;return(0,me.Z)(function*(){var r;return e._store.collection("profiles").doc(null===(r=e._auth.user)||void 0===r?void 0:r.uid).set(e.profile.toJSON())})()}openSetup(e){var r=this;return(0,me.Z)(function*(){const i=r._dialog.open(gR);i.componentInstance.profile=e;const c=yield i.afterClosed().pipe(Rn()).toPromise();return c&&(r.profile=c,yield r.setProfile()),c})()}getSubmitWorks(){var e=this;return(0,me.Z)(function*(){return e._store.collection("submitworks",r=>{var i;return r.where("author","==",null===(i=e._auth.user)||void 0===i?void 0:i.uid)}).valueChanges({idField:"customId"}).pipe(Rn()).toPromise()})()}setSubmitWork(e){return this._store.collection("submitworks").add(e.toJSON())}openSubmitWork(e){var r=this;return(0,me.Z)(function*(){const i=r._dialog.open(bC);i.componentInstance.profile=e;const c=yield i.afterClosed().pipe(Rn()).toPromise();return c&&(yield r.setSubmitWork(c)),c})()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(wU),a.LFG(Py),a.LFG(Ym),a.LFG(xg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oz=["*",[["mat-card-footer"]]],az=["*","mat-card-footer"],lz=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],cz=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let tA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),AN=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),n})(),nA=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ua,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:az,decls:2,vars:0,template:function(e,r){1&e&&(a.F$t(oz),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:cz,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,r){1&e&&(a.F$t(lz),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[En],En]}),n})();function hz(n,t){if(1&n&&(a.TgZ(0,"div"),a.TgZ(1,"b"),a._uU(2),a.qZA(),a._uU(3),a.qZA()),2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.room.type),a.xp6(1),a.hij(" : ",e.count," times ")}}function fz(n,t){if(1&n&&(a.TgZ(0,"div"),a.TgZ(1,"fieldset"),a.TgZ(2,"legend"),a._uU(3),a.qZA(),a.TgZ(4,"div"),a.TgZ(5,"b"),a._uU(6,"Worked time"),a.qZA(),a._uU(7),a.qZA(),a.YNc(8,hz,4,2,"div",0),a.TgZ(9,"div"),a.TgZ(10,"b"),a._uU(11,"Allocated Worked time"),a.qZA(),a._uU(12),a.qZA(),a.qZA(),a.qZA()),2&n){const e=t.$implicit,r=a.oxw();a.xp6(3),a.hij(" ",e.date," "),a.xp6(4),a.hij(" : ",e.workTime," hours"),a.xp6(1),a.Q6J("ngForOf",e.roomsCount),a.xp6(4),a.hij(" : ",r.getAllocWorkTime(e),"")}}function pz(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){return a.CHM(e),a.oxw().openSubmitWork()}),a._uU(1,"Add Work Day"),a.qZA()}}function mz(n,t){1&n&&(a.TgZ(0,"button",4),a._uU(1,"Add Profile"),a.qZA())}let gz=(()=>{class n{constructor(e){this._store=e}ngOnInit(){var e=this;return(0,me.Z)(function*(){const r=yield e._store.getProfile();e.profile=new mb(r);const i=yield e._store.getSubmitWorks();e.submitWorks=i.map(c=>new n0(c,e.profile.customId)),console.log(i)})()}openSubmitWork(){var e=this;return(0,me.Z)(function*(){const r=yield e._store.openSubmitWork(e.profile);r&&e.submitWorks.push(r)})()}getAllocWorkTime(e){const r=e.getAllocWorkTime(),i=Math.round(r/60),c=r%60;return c>0?`${i} hourse and ${c} minutes`:`${i} hourse`}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(UU))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:8,vars:3,consts:[[4,"ngFor","ngForOf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","routerLink","/profile",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/profile"]],template:function(e,r){1&e&&(a.TgZ(0,"mat-card"),a._UZ(1,"mat-card-header"),a.TgZ(2,"mat-card-content"),a.YNc(3,fz,13,4,"div",0),a.qZA(),a.TgZ(4,"mat-card-actions"),a.YNc(5,pz,2,0,"button",1),a.YNc(6,mz,2,0,"button",2),a.qZA(),a._UZ(7,"mat-card-footer"),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngForOf",r.submitWorks),a.xp6(2),a.Q6J("ngIf",r.profile),a.xp6(1),a.Q6J("ngIf",!r.profile))},directives:[nA,xN,tA,Ft,AN,xn,MN,Ks,Xh],styles:[""]}),n})(),HU=(()=>{class n{constructor(e){this._auth=e}canActivate(e,r){return!!this._auth.user}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yz(n,t){if(1&n&&(a.TgZ(0,"fieldset"),a.TgZ(1,"legend"),a._uU(2,"Room"),a.qZA(),a.TgZ(3,"p"),a.TgZ(4,"b"),a._uU(5,"Description"),a.qZA(),a._uU(6),a.qZA(),a.TgZ(7,"p"),a.TgZ(8,"b"),a._uU(9,"Time to finish"),a.qZA(),a._uU(10),a.qZA(),a.qZA()),2&n){const e=t.$implicit;a.xp6(6),a.hij(" : ",e.type,""),a.xp6(4),a.hij(" : ",e.minutes," minutes")}}function vz(n,t){if(1&n&&(a.TgZ(0,"div"),a.TgZ(1,"p"),a.TgZ(2,"b"),a._uU(3,"Income per hour"),a.qZA(),a._uU(4),a.qZA(),a.YNc(5,yz,11,2,"fieldset",2),a.qZA()),2&n){const e=a.oxw();a.xp6(4),a.hij(" : ",e.profile.income," \u20ac"),a.xp6(1),a.Q6J("ngForOf",e.profile.rooms)}}const bz=[{path:"",component:(()=>{class n{constructor(e){this.auth=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-landing"]],decls:7,vars:1,template:function(e,r){1&e&&(a.TgZ(0,"mat-card"),a._UZ(1,"mat-card-header"),a.TgZ(2,"mat-card-content"),a.TgZ(3,"p"),a._uU(4),a.qZA(),a.qZA(),a._UZ(5,"mat-card-actions"),a._UZ(6,"mat-card-footer"),a.qZA()),2&e&&(a.xp6(4),a.Oqu(null==r.auth.user?null:r.auth.user.email))},directives:[nA,xN,tA,AN,MN],styles:[""]}),n})()},{path:"profile",component:(()=>{class n{constructor(e){this._store=e}ngOnInit(){var e=this;return(0,me.Z)(function*(){const r=yield e._store.getProfile();r&&"setup"in r&&r.setup?e.profile=new mb(r):e.editProfile()})()}editProfile(){var e=this;return(0,me.Z)(function*(){const r=yield e._store.openSetup(e.profile);r&&(e.profile=r)})()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(UU))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profile"]],decls:8,vars:1,consts:[[4,"ngIf"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(a.TgZ(0,"mat-card"),a._UZ(1,"mat-card-header"),a.TgZ(2,"mat-card-content"),a.YNc(3,vz,6,2,"div",0),a.qZA(),a.TgZ(4,"mat-card-actions"),a.TgZ(5,"button",1),a.NdJ("click",function(){return r.editProfile()}),a._uU(6,"Edit Profile"),a.qZA(),a.qZA(),a._UZ(7,"mat-card-footer"),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf",r.profile))},directives:[nA,xN,tA,xn,AN,Ks,MN,Ft],styles:[""]}),n})(),canActivate:[HU]},{path:"dashboard",component:gz,canActivate:[HU]}];let wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[hb.forRoot(bz)],hb]}),n})();function $U(n){return t=>t.lift(new Cz(n))}class Cz{constructor(t){this.value=t}call(t,e){return e.subscribe(new Ez(t,this.value))}}class Ez extends cn.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const rA=["*"];function Dz(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){return a.CHM(e),a.oxw()._onBackdropClicked()}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Iz(n,t){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const Sz=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Tz=["mat-drawer","mat-drawer-content","*"],zU={transformDrawer:wo("transform",[nl("open, open-instant",_t({transform:"none",visibility:"visible"})),nl("void",_t({"box-shadow":"none",visibility:"hidden"})),us("void => open-instant",Pi("0ms")),us("void <=> open, open-instant => void",Pi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Rz=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),kN=new a.OlP("MAT_DRAWER_CONTAINER");let iA=(()=>{class n extends vm{constructor(e,r,i,c,h){super(i,c,h),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>ON)),a.Y36(a.SBq),a.Y36(_f),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&a.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[a.qOj],ngContentSelectors:rA,decls:1,vars:0,template:function(e,r){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),RN=(()=>{class n{constructor(e,r,i,c,h,m,b){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=c,this._ngZone=h,this._doc=m,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ge.xQ,this._animationEnd=new Ge.xQ,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(wn(E=>E),(0,nt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(wn(E=>E.fromState!==E.toState&&0===E.toState.indexOf("open")),$U(void 0)),this._closedStream=this.openedChange.pipe(wn(E=>!E),(0,nt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(wn(E=>E.fromState!==E.toState&&"void"===E.toState),$U(void 0)),this._destroyed=new Ge.xQ,this.onPositionChanged=new a.vpe,this._modeChanged=new Ge.xQ,this.openedChange.subscribe(E=>{E?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Ad(this._elementRef.nativeElement,"keydown").pipe(wn(E=>27===E.keyCode&&!this.disableClose&&!Jl(E)),Cr(this._destroyed)).subscribe(E=>this._ngZone.run(()=>{this.close(),E.stopPropagation(),E.preventDefault()}))}),this._animationEnd.pipe(Ss((E,T)=>E.fromState===T.fromState&&E.toState===T.toState)).subscribe(E=>{const{fromState:T,toState:R}=E;(0===R.indexOf("open")&&"void"===T||"void"===R&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Lt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Lt(e)}get opened(){return this._opened}set opened(e){this.toggle(Lt(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const r=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,r){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),r)}_setOpen(e,r,i="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=i):(this._animationState="void",r&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(wr(1)).subscribe(h=>c(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ny),a.Y36(Tf),a.Y36(mn),a.Y36(a.R0b),a.Y36(ne,8),a.Y36(kN,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&a.WFA("@transform.start",function(c){return r._animationStartListener(c)})("@transform.done",function(c){return r._animationDoneListener(c)}),2&e&&(a.uIk("align",null),a.d8E("@transform",r._animationState),a.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:rA,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},directives:[vm],encapsulation:2,data:{animation:[zU.transformDrawer]},changeDetection:0}),n})(),ON=(()=>{class n{constructor(e,r,i,c,h,m=!1,b){this._dir=e,this._element=r,this._ngZone=i,this._changeDetectorRef=c,this._animationMode=b,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new Ge.xQ,this._doCheckSubject=new Ge.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ge.xQ,e&&e.change.pipe(Cr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(Cr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Lt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Lt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Pr(this._allDrawers),Cr(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Pr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ef(10),Cr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,e-=i}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(wn(r=>r.fromState!==r.toState),Cr(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Cr(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Cr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(wr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Cr((0,uu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(cs,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(xd),a.Y36(Rz),a.Y36(ua,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,i){if(1&e&&(a.Suo(i,iA,5),a.Suo(i,RN,5)),2&e){let c;a.iGM(c=a.CRH())&&(r._content=c.first),a.iGM(c=a.CRH())&&(r._allDrawers=c)}},viewQuery:function(e,r){if(1&e&&a.Gf(iA,5),2&e){let i;a.iGM(i=a.CRH())&&(r._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:kN,useExisting:n}])],ngContentSelectors:Tz,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(a.F$t(Sz),a.YNc(0,Dz,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,Iz,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",r.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!r._content))},directives:[xn,iA],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),Fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Zn,En,su,bm],bm,En]}),n})();function Lz(n,t){1&n&&(a.TgZ(0,"a",4),a._uU(1,"Profile"),a.qZA())}function Vz(n,t){1&n&&(a.TgZ(0,"a",5),a._uU(1,"Dashboard"),a.qZA())}let Bz=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-menu"]],decls:5,vars:2,consts:[[1,"container"],["mat-raised-button","","routerLink","/"],["mat-raised-button","","routerLink","/profile",4,"ngIf"],["mat-raised-button","","routerLink","/dashboard",4,"ngIf"],["mat-raised-button","","routerLink","/profile"],["mat-raised-button","","routerLink","/dashboard"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"button",1),a._uU(2,"Home"),a.qZA(),a.YNc(3,Lz,2,0,"a",2),a.YNc(4,Vz,2,0,"a",3),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf",r.auth.user),a.xp6(1),a.Q6J("ngIf",r.auth.user))},directives:[Ks,Xh,xn,XI,em],styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column}div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;margin:20px 0}"]}),n})();function Uz(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"button",3),a.NdJ("click",function(){return a.CHM(e),a.oxw().auth.openSignIn()}),a._uU(2,"Sing In"),a.qZA(),a.TgZ(3,"button",3),a.NdJ("click",function(){return a.CHM(e),a.oxw().auth.openSignUp()}),a._uU(4,"Sing Up"),a.qZA(),a.qZA()}}function jz(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"button",4),a.NdJ("click",function(){return a.CHM(e),a.oxw().auth.signOut()}),a._uU(2,"Sing Out"),a.qZA(),a.qZA()}}let Hz=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],inputs:{drawer:"drawer"},decls:6,vars:2,consts:[[1,"container"],["type","button","mat-raised-button","",3,"click"],[4,"ngIf"],["mat-raised-button","",1,"ml--small",3,"click"],["mat-raised-button","",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"header",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return r.drawer.toggle()}),a.TgZ(2,"mat-icon"),a._uU(3,"menu"),a.qZA(),a.qZA(),a.YNc(4,Uz,5,0,"div",2),a.YNc(5,jz,3,0,"div",2),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngIf",!r.auth.user),a.xp6(1),a.Q6J("ngIf",r.auth.user))},directives:[Ks,NE,xn],styles:["header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:solid 1px rgba(0,0,0,.12);background-color:#fff}"]}),n})(),$z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"]],template:function(e,r){1&e&&(a.TgZ(0,"footer",0),a.TgZ(1,"div"),a._uU(2,"Zimmern"),a.qZA(),a.qZA())},styles:["footer[_ngcontent-%COMP%]{border-top:solid 1px rgba(0,0,0,.12);background-color:#fff}"]}),n})(),Gz=(()=>{class n{constructor(){this.title="Zimmern"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[["autosize","",1,"drawer-container"],["mode","side",1,"drawer-sidenav"],["drawer",""],[1,"drawer-sidenav-content"],[3,"drawer"],[1,"router-container","container"]],template:function(e,r){if(1&e&&(a.TgZ(0,"mat-drawer-container",0),a.TgZ(1,"mat-drawer",1,2),a._UZ(3,"app-menu"),a.qZA(),a.TgZ(4,"div",3),a._UZ(5,"app-header",4),a.TgZ(6,"div",5),a._UZ(7,"router-outlet"),a.qZA(),a._UZ(8,"app-footer"),a.qZA(),a.qZA()),2&e){const i=a.MAs(2);a.xp6(5),a.Q6J("drawer",i)}},directives:[ON,RN,Bz,Hz,ef,$z],styles:[".drawer-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.drawer-sidenav[_ngcontent-%COMP%]{min-width:200px;box-shadow:0 0}.router-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}"]}),n})();const ZU_firebase={projectId:"zimmern-35df8",appId:"1:949848874379:web:35dfb8b6523788384aa38e",storageBucket:"zimmern-35df8.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBFpI7vfoBfRhEp56qcezaG4v9ym3w9US0",authDomain:"zimmern-35df8.firebaseapp.com",messagingSenderId:"949848874379",measurementId:"G-DDS8FGJKJ6"};let PE=(()=>{class n{constructor(){this.changes=new Ge.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,r){return`${e} \u2013 ${r}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Cq={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[tl],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let kq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[PE,Cq],imports:[[Zn,Hf,ow,_w,Y_,En],bm]}),n})(),Hq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Zn,En],En]}),n})(),Wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Zn,En],En]}),n})();function c3(n,t,e){const r={timing:n,delay:0,rotateX:t,rotateY:e};return qD([_t({"backface-visibility":"visible"}),Pi("{{ timing }}s {{ delay }}s ease-in",Af([_t({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),_t({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),_t({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),_t({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),_t({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:r})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),c3(1,1,0),c3(1,0,1),qD(Pi("{{ timing }}s {{ delay }}s",Af([_t({transform:"translate3d(0, 0, 0)",offset:0}),_t({transform:"translate3d(-10px, 0, 0)",offset:.1}),_t({transform:"translate3d(10px, 0, 0)",offset:.2}),_t({transform:"translate3d(-10px, 0, 0)",offset:.3}),_t({transform:"translate3d(10px, 0, 0)",offset:.4}),_t({transform:"translate3d(-10px, 0, 0)",offset:.5}),_t({transform:"translate3d(10px, 0, 0)",offset:.6}),_t({transform:"translate3d(-10px, 0, 0)",offset:.7}),_t({transform:"translate3d(10px, 0, 0)",offset:.8}),_t({transform:"translate3d(-10px, 0, 0)",offset:.9}),_t({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let u3=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Zn,Wq,jU,BU,xy]]}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[Gz]}),n.\u0275inj=a.cJS({providers:[],imports:[[Yu,wz,Kw,pr.hO.initializeApp(ZU_firebase),IG,_G,Fz,Kk,Hf,_C,BU,_S,uC,jU,kq,Hq,u3.forRoot(),P0,u3]]}),n})();(0,a.G48)(),ho().bootstrapModule(SZ).catch(n=>console.error(n))},3394:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>Se});var a=F(3854),re=F(3910),L=F(8026),ue=F(5422);class ae{constructor(pe,oe){this._delegate=pe,this.firebase=oe,(0,L._addComponent)(pe,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(pe,oe=L._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(pe);return!Oe.isInitialized()&&"EXPLICIT"===(null===(ye=Oe.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:oe})}_removeServiceInstance(pe,oe=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(oe)}_addComponent(pe){(0,L._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,L._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function X(){const be=function(be){const pe={},oe={__esModule:!0,initializeApp:function(Et,Tn={}){const Dt=L.initializeApp(Et,Tn);if((0,a.r3)(pe,Dt.name))return pe[Dt.name];const ft=new be(Dt,oe);return pe[Dt.name]=ft,ft},app:Oe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(Et){const Tn=Et.name,Dt=Tn.replace("-compat","");if(L._registerComponent(Et)&&"PUBLIC"===Et.type){const ft=(Kt=Oe())=>{if("function"!=typeof Kt[Dt])throw ne.create("invalid-app-argument",{appName:Tn});return Kt[Dt]()};void 0!==Et.serviceProps&&(0,a.ZB)(ft,Et.serviceProps),oe[Dt]=ft,be.prototype[Dt]=function(...Kt){return this._getService.bind(this,Tn).apply(this,Et.multipleInstances?Kt:[])}}return"PUBLIC"===Et.type?oe[Dt]:null},removeApp:function(Et){delete pe[Et]},useAsService:function(Et,Tn){return"serverAuth"===Tn?null:Tn},modularAPIs:L}};function Oe(Et){if(!(0,a.r3)(pe,Et=Et||L._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Et});return pe[Et]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function(){return Object.keys(pe).map(Et=>pe[Et])}}),Oe.App=be,oe}(ae);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(oe){(0,a.ZB)(be,oe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),be}(),$=new ue.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=V;(0,L.registerVersion)("@firebase/app-compat","0.1.9",undefined)},8026:(Ye,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>va,_DEFAULT_ENTRY_NAME:()=>to,_addComponent:()=>Fs,_addOrOverwriteComponent:()=>Oo,_apps:()=>zt,_clearComponents:()=>An,_components:()=>qt,_getProvider:()=>dn,_registerComponent:()=>Ls,_removeServiceInstance:()=>dl,deleteApp:()=>lr,getApp:()=>_s,getApps:()=>Te,initializeApp:()=>Zi,onLog:()=>Zt,registerVersion:()=>We,setLogLevel:()=>Yi});var a=F(8239),re=F(3910),L=F(5422),ue=F(3854);class ae{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function(tt){const it=tt.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Rt)){const Ot=Rt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(Rt=>Rt).join(" ")}}const ne="@firebase/app",X=new L.Yd("@firebase/app"),to="[DEFAULT]",pc={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,qt=new Map;function Fs(tt,it){try{tt.container.addComponent(it)}catch(Rt){X.debug(`Component ${it.name} failed to register with FirebaseApp ${tt.name}`,Rt)}}function Oo(tt,it){tt.container.addOrOverwriteComponent(it)}function Ls(tt){const it=tt.name;if(qt.has(it))return X.debug(`There were multiple attempts to register component ${it}.`),!1;qt.set(it,tt);for(const Rt of zt.values())Fs(Rt,tt);return!0}function dn(tt,it){return tt.container.getProvider(it)}function dl(tt,it,Rt=to){dn(tt,it).clearInstance(Rt)}function An(){qt.clear()}const jt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mn{constructor(it,Rt,Ot){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const va="9.4.1";function Zi(tt,it={}){"object"!=typeof it&&(it={name:it});const Rt=Object.assign({name:to,automaticDataCollectionEnabled:!1},it),Ot=Rt.name;if("string"!=typeof Ot||!Ot)throw jt.create("bad-app-name",{appName:String(Ot)});const si=zt.get(Ot);if(si){if((0,ue.vZ)(tt,si.options)&&(0,ue.vZ)(Rt,si.config))return si;throw jt.create("duplicate-app",{appName:Ot})}const Qt=new re.H0(Ot);for(const Xe of qt.values())Qt.addComponent(Xe);const Pe=new Mn(tt,Rt,Qt);return zt.set(Ot,Pe),Pe}function _s(tt=to){const it=zt.get(tt);if(!it)throw jt.create("no-app",{appName:tt});return it}function Te(){return Array.from(zt.values())}function lr(tt){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(tt){const it=tt.name;zt.has(it)&&(zt.delete(it),yield Promise.all(tt.container.getProviders().map(Rt=>Rt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function We(tt,it,Rt){var Ot;let si=null!==(Ot=pc[tt])&&void 0!==Ot?Ot:tt;Rt&&(si+=`-${Rt}`);const Qt=si.match(/\s|\//),Pe=it.match(/\s|\//);if(Qt||Pe){const Xe=[`Unable to register library "${si}" with version "${it}":`];return Qt&&Xe.push(`library name "${si}" contains illegal characters (whitespace or "/")`),Qt&&Pe&&Xe.push("and"),Pe&&Xe.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void X.warn(Xe.join(" "))}Ls(new re.wA(`${si}-version`,()=>({library:si,version:it}),"VERSION"))}function Zt(tt,it){if(null!==tt&&"function"!=typeof tt)throw jt.create("invalid-log-argument");(0,L.Am)(tt,it)}function Yi(tt){(0,L.Ub)(tt)}Ls(new re.wA("platform-logger",it=>new ae(it),"PRIVATE")),We(ne,"0.7.8",""),We(ne,"0.7.8","esm2017"),We("fire-js","")},3910:(Ye,we,F)=>{"use strict";F.d(we,{wA:()=>L,H0:()=>ee});var a=F(8239),re=F(3854);class L{constructor(V,$,B){this.name=V,this.instanceFactory=$,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ue="[DEFAULT]";class ae{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const B=new re.BH;if(this.instancesDeferred.set($,B),this.isInitialized($)||this.shouldAutoInitialize())try{const se=this.getOrInitializeService({instanceIdentifier:$});se&&B.resolve(se)}catch(se){}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const B=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),se=null!==($=null==V?void 0:V.optional)&&void 0!==$&&$;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(_e){if(se)return null;throw _e}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if("EAGER"===V.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch($){}for(const[$,B]of this.instancesDeferred.entries()){const se=this.normalizeInstanceIdentifier($);try{const _e=this.getOrInitializeService({instanceIdentifier:se});B.resolve(_e)}catch(_e){}}}}clearInstance(V=ue){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(B=>"INTERNAL"in B).map(B=>B.INTERNAL.delete()),...$.filter(B=>"_delete"in B).map(B=>B._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ue){return this.instances.has(V)}getOptions(V=ue){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,B=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(B))throw Error(`${this.name}(${B}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const se=this.getOrInitializeService({instanceIdentifier:B,options:$});for(const[_e,Se]of this.instancesDeferred.entries())B===this.normalizeInstanceIdentifier(_e)&&Se.resolve(se);return se}onInit(V,$){var B;const se=this.normalizeInstanceIdentifier($),_e=null!==(B=this.onInitCallbacks.get(se))&&void 0!==B?B:new Set;_e.add(V),this.onInitCallbacks.set(se,_e);const Se=this.instances.get(se);return Se&&V(Se,se),()=>{_e.delete(V)}}invokeOnInitCallbacks(V,$){const B=this.onInitCallbacks.get($);if(B)for(const se of B)try{se(V,$)}catch(_e){}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let B=this.instances.get(V);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:(X=V,X===ue?void 0:X),options:$}),this.instances.set(V,B),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(B,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,B)}catch(se){}var X;return B||null}normalizeInstanceIdentifier(V=ue){return this.component?this.component.multipleInstances?V:ue:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new ae(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},5422:(Ye,we,F)=>{"use strict";F.d(we,{in:()=>re,Yd:()=>ne,Ub:()=>ee,Am:()=>X});const a=[];var re=(()=>{return(V=re||(re={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",re;var V})();const L={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},ue=re.INFO,ae={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Q=(V,$,...B)=>{if($<V.logLevel)return;const se=(new Date).toISOString(),_e=ae[$];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[_e](`[${se}]  ${V.name}:`,...B)};class ne{constructor($){this.name=$,this._logLevel=ue,this._logHandler=Q,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in re))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?L[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...$),this._logHandler(this,re.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...$),this._logHandler(this,re.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,re.INFO,...$),this._logHandler(this,re.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,re.WARN,...$),this._logHandler(this,re.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...$),this._logHandler(this,re.ERROR,...$)}}function ee(V){a.forEach($=>{$.setLogLevel(V)})}function X(V,$){for(const B of a){let se=null;$&&$.level&&(se=L[$.level]),B.userLogHandler=null===V?null:(_e,Se,...be)=>{const pe=be.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch(ye){return null}}).filter(oe=>oe).join(" ");Se>=(null!=se?se:_e.logLevel)&&V({level:re[Se].toLowerCase(),message:pe,args:be,type:_e.name})}}}},8239:(Ye,we,F)=>{"use strict";function a(L,ue,ae,Q,ne,ee,X){try{var V=L[ee](X),$=V.value}catch(B){return void ae(B)}V.done?ue($):Promise.resolve($).then(Q,ne)}function re(L){return function(){var ue=this,ae=arguments;return new Promise(function(Q,ne){var ee=L.apply(ue,ae);function X($){a(ee,Q,ne,X,V,"next",$)}function V($){a(ee,Q,ne,X,V,"throw",$)}X(void 0)})}}F.d(we,{Z:()=>re})}},Ye=>{Ye(Ye.s=8071)}]);